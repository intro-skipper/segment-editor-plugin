import{r as je,g as $s,a as On}from"./react-vendor-NRF3IDaz.js";function Ln(t,s){for(var e=0;e<s.length;e++){const n=s[e];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var de={exports:{}},Rt={};var ns;function In(){if(ns)return Rt;ns=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function e(n,r,i){var a=null;if(i!==void 0&&(a=""+i),r.key!==void 0&&(a=""+r.key),"key"in r){i={};for(var o in r)o!=="key"&&(i[o]=r[o])}else i=r;return r=i.ref,{$$typeof:t,type:n,key:a,ref:r!==void 0?r:null,props:i}}return Rt.Fragment=s,Rt.jsx=e,Rt.jsxs=e,Rt}var rs;function Tn(){return rs||(rs=1,de.exports=In()),de.exports}var C=Tn(),R=je();const ct=$s(R),kn=Ln({__proto__:null,default:ct},[R]),Me=new WeakMap,Fn=new WeakMap,Kt={current:[]};let fe=!1,Ot=0;const Et=new Set,jt=new Map;function Ws(t){for(const s of t){if(Kt.current.includes(s))continue;Kt.current.push(s),s.recompute();const e=Fn.get(s);if(e)for(const n of e){const r=Me.get(n);r?.length&&Ws(r)}}}function An(t){const s={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(s)}function Dn(t){const s={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(s)}function Ks(t){if(Ot>0&&!jt.has(t)&&jt.set(t,t.prevState),Et.add(t),!(Ot>0)&&!fe)try{for(fe=!0;Et.size>0;){const s=Array.from(Et);Et.clear();for(const e of s){const n=jt.get(e)??e.prevState;e.prevState=n,An(e)}for(const e of s){const n=Me.get(e);n&&(Kt.current.push(e),Ws(n))}for(const e of s){const n=Me.get(e);if(n)for(const r of n)Dn(r)}}}finally{fe=!1,Kt.current=[],jt.clear()}}function Lt(t){Ot++;try{t()}finally{if(Ot--,Ot===0){const s=Et.values().next().value;s&&Ks(s)}}}function jn(t){return typeof t=="function"}class Bn{constructor(s,e){this.listeners=new Set,this.subscribe=n=>{var r,i;this.listeners.add(n);const a=(i=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),a?.()}},this.prevState=s,this.state=s,this.options=e}setState(s){var e,n,r;this.prevState=this.state,(e=this.options)!=null&&e.updateFn?this.state=this.options.updateFn(this.prevState)(s):jn(s)?this.state=s(this.prevState):this.state=s,(r=(n=this.options)==null?void 0:n.onUpdate)==null||r.call(n),Ks(this)}}const Z="__TSR_index",is="popstate",os="beforeunload";function Un(t){let s=t.getLocation();const e=new Set,n=a=>{s=t.getLocation(),e.forEach(o=>o({location:s,action:a}))},r=a=>{t.notifyOnIndexChange??!0?n(a):s=t.getLocation()},i=async({task:a,navigateOpts:o,...c})=>{if(o?.ignoreBlocker??!1){a();return}const h=t.getBlockers?.()??[],d=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&h.length&&d)for(const l of h){const f=It(c.path,c.state);if(await l.blockerFn({currentLocation:s,nextLocation:f,action:c.type})){t.onBlocked?.();return}}a()};return{get location(){return s},get length(){return t.getLength()},subscribers:e,subscribe:a=>(e.add(a),()=>{e.delete(a)}),push:(a,o,c)=>{const u=s.state[Z];o=as(u+1,o),i({task:()=>{t.pushState(a,o),n({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:a,state:o})},replace:(a,o,c)=>{const u=s.state[Z];o=as(u,o),i({task:()=>{t.replaceState(a,o),n({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:a,state:o})},go:(a,o)=>{i({task:()=>{t.go(a),r({type:"GO",index:a})},navigateOpts:o,type:"GO"})},back:a=>{i({task:()=>{t.back(a?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{i({task:()=>{t.forward(a?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>s.state[Z]!==0,createHref:a=>t.createHref(a),block:a=>{if(!t.setBlockers)return()=>{};const o=t.getBlockers?.()??[];return t.setBlockers([...o,a]),()=>{const c=t.getBlockers?.()??[];t.setBlockers?.(c.filter(u=>u!==a))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:n}}function as(t,s){s||(s={});const e=Be();return{...s,key:e,__TSR_key:e,[Z]:t}}function Hs(t){const s=t?.window??(typeof document<"u"?window:void 0),e=s.history.pushState,n=s.history.replaceState;let r=[];const i=()=>r,a=y=>r=y,o=t?.createHref??(y=>y),c=t?.parseLocation??(()=>It(`${s.location.pathname}${s.location.search}${s.location.hash}`,s.history.state));if(!s.history.state?.__TSR_key&&!s.history.state?.key){const y=Be();s.history.replaceState({[Z]:0,key:y,__TSR_key:y},"")}let u=c(),h,d=!1,l=!1,f=!1,p=!1;const m=()=>u;let g,w;const v=()=>{g&&(_._ignoreSubscribers=!0,(g.isPush?s.history.pushState:s.history.replaceState)(g.state,"",g.href),_._ignoreSubscribers=!1,g=void 0,w=void 0,h=void 0)},P=(y,b,E)=>{const O=o(b);w||(h=u),u=It(b,E),g={href:O,state:E,isPush:g?.isPush||y==="push"},w||(w=Promise.resolve().then(()=>v()))},S=y=>{u=c(),_.notify({type:y})},M=async()=>{if(l){l=!1;return}const y=c(),b=y.state[Z]-u.state[Z],E=b===1,O=b===-1,L=!E&&!O||d;d=!1;const A=L?"GO":O?"BACK":"FORWARD",T=L?{type:"GO",index:b}:{type:O?"BACK":"FORWARD"};if(f)f=!1;else{const U=i();if(typeof document<"u"&&U.length){for(const q of U)if(await q.blockerFn({currentLocation:u,nextLocation:y,action:A})){l=!0,s.history.go(1),_.notify(T);return}}}u=c(),_.notify(T)},x=y=>{if(p){p=!1;return}let b=!1;const E=i();if(typeof document<"u"&&E.length)for(const O of E){const L=O.enableBeforeUnload??!0;if(L===!0){b=!0;break}if(typeof L=="function"&&L()===!0){b=!0;break}}if(b)return y.preventDefault(),y.returnValue=""},_=Un({getLocation:m,getLength:()=>s.history.length,pushState:(y,b)=>P("push",y,b),replaceState:(y,b)=>P("replace",y,b),back:y=>(y&&(f=!0),p=!0,s.history.back()),forward:y=>{y&&(f=!0),p=!0,s.history.forward()},go:y=>{d=!0,s.history.go(y)},createHref:y=>o(y),flush:v,destroy:()=>{s.history.pushState=e,s.history.replaceState=n,s.removeEventListener(os,x,{capture:!0}),s.removeEventListener(is,M)},onBlocked:()=>{h&&u!==h&&(u=h)},getBlockers:i,setBlockers:a,notifyOnIndexChange:!1});return s.addEventListener(os,x,{capture:!0}),s.addEventListener(is,M),s.history.pushState=function(...y){const b=e.apply(s.history,y);return _._ignoreSubscribers||S("PUSH"),b},s.history.replaceState=function(...y){const b=n.apply(s.history,y);return _._ignoreSubscribers||S("REPLACE"),b},_}function Po(t){const s=typeof document<"u"?window:void 0;return Hs({window:s,parseLocation:()=>{const e=s.location.hash.split("#").slice(1),n=e[0]??"/",r=s.location.search,i=e.slice(1),a=i.length===0?"":`#${i.join("#")}`,o=`${n}${r}${a}`;return It(o,s.history.state)},createHref:e=>`${s.location.pathname}${s.location.search}#${e}`})}function zn(t){let s=t.replace(/[\x00-\x1f\x7f]/g,"");return s.startsWith("//")&&(s="/"+s.replace(/^\/+/,"")),s}function It(t,s){const e=zn(t),n=e.indexOf("#"),r=e.indexOf("?"),i=Be();return{href:e,pathname:e.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:e.length),hash:n>-1?e.substring(n):"",search:r>-1?e.slice(r,n===-1?void 0:n):"",state:s||{[Z]:0,key:i,__TSR_key:i}}}function Be(){return(Math.random()+1).toString(36).substring(7)}function Ht(t){return t[t.length-1]}function Nn(t){return typeof t=="function"}function Y(t,s){return Nn(t)?t(s):t}const $n=Object.prototype.hasOwnProperty;function $(t,s){if(t===s)return t;const e=s,n=us(t)&&us(e);if(!n&&!(Qt(t)&&Qt(e)))return e;const r=n?t:cs(t);if(!r)return e;const i=n?e:cs(e);if(!i)return e;const a=r.length,o=i.length,c=n?new Array(o):{};let u=0;for(let h=0;h<o;h++){const d=n?h:i[h],l=t[d],f=e[d];if(l===f){c[d]=l,(n?h<a:$n.call(t,d))&&u++;continue}if(l===null||f===null||typeof l!="object"||typeof f!="object"){c[d]=f;continue}const p=$(l,f);c[d]=p,p===l&&u++}return a===o&&u===a?t:c}function cs(t){const s=[],e=Object.getOwnPropertyNames(t);for(const r of e){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;s.push(r)}const n=Object.getOwnPropertySymbols(t);for(const r of n){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;s.push(r)}return s}function Qt(t){if(!ls(t))return!1;const s=t.constructor;if(typeof s>"u")return!0;const e=s.prototype;return!(!ls(e)||!e.hasOwnProperty("isPrototypeOf"))}function ls(t){return Object.prototype.toString.call(t)==="[object Object]"}function us(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function it(t,s,e){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(Array.isArray(t)&&Array.isArray(s)){if(t.length!==s.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!it(t[n],s[n],e))return!1;return!0}if(Qt(t)&&Qt(s)){const n=e?.ignoreUndefined??!0;if(e?.partial){for(const a in s)if((!n||s[a]!==void 0)&&!it(t[a],s[a],e))return!1;return!0}let r=0;if(!n)r=Object.keys(t).length;else for(const a in t)t[a]!==void 0&&r++;let i=0;for(const a in s)if((!n||s[a]!==void 0)&&(i++,i>r||!it(t[a],s[a],e)))return!1;return r===i}return!1}function yt(t){let s,e;const n=new Promise((r,i)=>{s=r,e=i});return n.status="pending",n.resolve=r=>{n.status="resolved",n.value=r,s(r),t?.(r)},n.reject=r=>{n.status="rejected",e(r)},n}function Wn(t){return typeof t?.message!="string"?!1:t.message.startsWith("Failed to fetch dynamically imported module")||t.message.startsWith("error loading dynamically imported module")||t.message.startsWith("Importing a module script failed")}function tt(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function Kn(t){return t.replace(/[\x00-\x1f\x7f]/g,"")}function hs(t){let s;try{s=decodeURI(t)}catch{s=t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}return Kn(s)}const Qs=["http:","https:","mailto:","tel:"];function qt(t){if(!t)return!1;try{const s=new URL(t);return!Qs.includes(s.protocol)}catch{return!1}}const Hn={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},Qn=/[&><\u2028\u2029]/g;function qn(t){return t.replace(Qn,s=>Hn[s])}function ds(t,s){if(!t)return t;const e=/%25|%5C/gi;let n=0,r="",i;for(;(i=e.exec(t))!==null;)r+=hs(t.slice(n,i.index))+i[0],n=e.lastIndex;return r=r+hs(n?t.slice(n):t),r.startsWith("//")&&(r="/"+r.replace(/^\/+/,"")),r}var Vn="Invariant failed";function G(t,s){if(!t)throw new Error(Vn)}function Vt(t){const s=new Map;let e,n;const r=i=>{i.next&&(i.prev?(i.prev.next=i.next,i.next.prev=i.prev,i.next=void 0,n&&(n.next=i,i.prev=n)):(i.next.prev=void 0,e=i.next,i.next=void 0,n&&(i.prev=n,n.next=i)),n=i)};return{get(i){const a=s.get(i);if(a)return r(a),a.value},set(i,a){if(s.size>=t&&e){const c=e;s.delete(c.key),c.next&&(e=c.next,c.next.prev=void 0),c===n&&(n=void 0)}const o=s.get(i);if(o)o.value=a,r(o);else{const c={key:i,value:a,prev:n};n&&(n.next=c),n=c,e||(e=c),s.set(i,c)}},clear(){s.clear(),e=void 0,n=void 0}}}const vt=0,lt=1,ut=2,Tt=3,gt=4,Gn=5,Jn=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,Yn=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,Xn=/^([^{]*)\{\$\}([^}]*)$/;function Ue(t,s,e=new Uint16Array(6)){const n=t.indexOf("/",s),r=n===-1?t.length:n,i=t.substring(s,r);if(!i||!i.includes("$"))return e[0]=vt,e[1]=s,e[2]=s,e[3]=r,e[4]=r,e[5]=r,e;if(i==="$"){const u=t.length;return e[0]=ut,e[1]=s,e[2]=s,e[3]=u,e[4]=u,e[5]=u,e}if(i.charCodeAt(0)===36)return e[0]=lt,e[1]=s,e[2]=s+1,e[3]=r,e[4]=r,e[5]=r,e;const a=i.match(Xn);if(a){const h=a[1].length;return e[0]=ut,e[1]=s+h,e[2]=s+h+1,e[3]=s+h+2,e[4]=s+h+3,e[5]=t.length,e}const o=i.match(Yn);if(o){const u=o[1],h=o[2],d=o[3],l=u.length;return e[0]=Tt,e[1]=s+l,e[2]=s+l+3,e[3]=s+l+3+h.length,e[4]=r-d.length,e[5]=r,e}const c=i.match(Jn);if(c){const u=c[1],h=c[2],d=c[3],l=u.length;return e[0]=lt,e[1]=s+l,e[2]=s+l+2,e[3]=s+l+2+h.length,e[4]=r-d.length,e[5]=r,e}return e[0]=vt,e[1]=s,e[2]=s,e[3]=r,e[4]=r,e[5]=r,e}function ee(t,s,e,n,r,i,a){a?.(e);let o=n;{const c=e.fullPath??e.from,u=c.length,h=e.options?.caseSensitive??t,d=!!(e.options?.params?.parse&&e.options?.skipRouteOnParseError?.params);for(;o<u;){const f=Ue(c,o,s);let p;const m=o,g=f[5];switch(o=g+1,i++,f[0]){case vt:{const v=c.substring(f[2],f[3]);if(h){const P=r.static?.get(v);if(P)p=P;else{r.static??=new Map;const S=nt(e.fullPath??e.from);S.parent=r,S.depth=i,p=S,r.static.set(v,S)}}else{const P=v.toLowerCase(),S=r.staticInsensitive?.get(P);if(S)p=S;else{r.staticInsensitive??=new Map;const M=nt(e.fullPath??e.from);M.parent=r,M.depth=i,p=M,r.staticInsensitive.set(P,M)}}break}case lt:{const v=c.substring(m,f[1]),P=c.substring(f[4],g),S=h&&!!(v||P),M=v?S?v:v.toLowerCase():void 0,x=P?S?P:P.toLowerCase():void 0,_=!d&&r.dynamic?.find(y=>!y.skipOnParamError&&y.caseSensitive===S&&y.prefix===M&&y.suffix===x);if(_)p=_;else{const y=me(lt,e.fullPath??e.from,S,M,x);p=y,y.depth=i,y.parent=r,r.dynamic??=[],r.dynamic.push(y)}break}case Tt:{const v=c.substring(m,f[1]),P=c.substring(f[4],g),S=h&&!!(v||P),M=v?S?v:v.toLowerCase():void 0,x=P?S?P:P.toLowerCase():void 0,_=!d&&r.optional?.find(y=>!y.skipOnParamError&&y.caseSensitive===S&&y.prefix===M&&y.suffix===x);if(_)p=_;else{const y=me(Tt,e.fullPath??e.from,S,M,x);p=y,y.parent=r,y.depth=i,r.optional??=[],r.optional.push(y)}break}case ut:{const v=c.substring(m,f[1]),P=c.substring(f[4],g),S=h&&!!(v||P),M=v?S?v:v.toLowerCase():void 0,x=P?S?P:P.toLowerCase():void 0,_=me(ut,e.fullPath??e.from,S,M,x);p=_,_.parent=r,_.depth=i,r.wildcard??=[],r.wildcard.push(_)}}r=p}if(d&&e.children&&!e.isRoot&&e.id&&e.id.charCodeAt(e.id.lastIndexOf("/")+1)===95){const f=nt(e.fullPath??e.from);f.kind=Gn,f.parent=r,i++,f.depth=i,r.pathless??=[],r.pathless.push(f),r=f}const l=(e.path||!e.children)&&!e.isRoot;if(l&&c.endsWith("/")){const f=nt(e.fullPath??e.from);f.kind=gt,f.parent=r,i++,f.depth=i,r.index=f,r=f}r.parse=e.options?.params?.parse??null,r.skipOnParamError=d,r.parsingPriority=e.options?.skipRouteOnParseError?.priority??0,l&&!r.route&&(r.route=e,r.fullPath=e.fullPath??e.from)}if(e.children)for(const c of e.children)ee(t,s,c,o,r,i,a)}function pe(t,s){if(t.skipOnParamError&&!s.skipOnParamError)return-1;if(!t.skipOnParamError&&s.skipOnParamError)return 1;if(t.skipOnParamError&&s.skipOnParamError&&(t.parsingPriority||s.parsingPriority))return s.parsingPriority-t.parsingPriority;if(t.prefix&&s.prefix&&t.prefix!==s.prefix){if(t.prefix.startsWith(s.prefix))return-1;if(s.prefix.startsWith(t.prefix))return 1}if(t.suffix&&s.suffix&&t.suffix!==s.suffix){if(t.suffix.endsWith(s.suffix))return-1;if(s.suffix.endsWith(t.suffix))return 1}return t.prefix&&!s.prefix?-1:!t.prefix&&s.prefix?1:t.suffix&&!s.suffix?-1:!t.suffix&&s.suffix?1:t.caseSensitive&&!s.caseSensitive?-1:!t.caseSensitive&&s.caseSensitive?1:0}function J(t){if(t.pathless)for(const s of t.pathless)J(s);if(t.static)for(const s of t.static.values())J(s);if(t.staticInsensitive)for(const s of t.staticInsensitive.values())J(s);if(t.dynamic?.length){t.dynamic.sort(pe);for(const s of t.dynamic)J(s)}if(t.optional?.length){t.optional.sort(pe);for(const s of t.optional)J(s)}if(t.wildcard?.length){t.wildcard.sort(pe);for(const s of t.wildcard)J(s)}}function nt(t){return{kind:vt,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function me(t,s,e,n,r){return{kind:t,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:s,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:e,prefix:n,suffix:r}}function Zn(t,s){const e=nt("/"),n=new Uint16Array(6);for(const r of t)ee(!1,n,r,1,e,0);J(e),s.masksTree=e,s.flatCache=Vt(1e3)}function tr(t,s){t||="/";const e=s.flatCache.get(t);if(e)return e;const n=ze(t,s.masksTree);return s.flatCache.set(t,n),n}function er(t,s,e,n,r){t||="/",n||="/";const i=s?`case\0${t}`:t;let a=r.singleCache.get(i);if(!a){a=nt("/");const o=new Uint16Array(6);ee(s,o,{from:t},1,a,0),r.singleCache.set(i,a)}return ze(n,a,e)}function sr(t,s,e=!1){const n=e?t:`nofuzz\0${t}`,r=s.matchCache.get(n);if(r!==void 0)return r;t||="/";const i=ze(t,s.segmentTree,e);return i&&(i.branch=ir(i.route)),s.matchCache.set(n,i),i}function nr(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function rr(t,s=!1,e){const n=nt(t.fullPath),r=new Uint16Array(6),i={},a={};let o=0;return ee(s,r,t,1,n,0,u=>{if(e?.(u,o),G(!(u.id in i),`Duplicate routes found with id: ${String(u.id)}`),i[u.id]=u,o!==0&&u.path){const h=nr(u.fullPath);(!a[h]||u.fullPath.endsWith("/"))&&(a[h]=u)}o++}),J(n),{processedTree:{segmentTree:n,singleCache:Vt(1e3),matchCache:Vt(1e3),flatCache:null,masksTree:null},routesById:i,routesByPath:a}}function ze(t,s,e=!1){const n=t.split("/"),r=ar(t,n,s,e);if(!r)return null;const[i]=qs(t,n,r);return{route:r.node.route,rawParams:i,parsedParams:r.parsedParams}}function qs(t,s,e){const n=or(e.node);let r=null;const i={};let a=e.extract?.part??0,o=e.extract?.node??0,c=e.extract?.path??0;for(;o<n.length;a++,o++,c++){const u=n[o],h=s[a],d=c;if(h&&(c+=h.length),u.kind===lt){r??=e.node.fullPath.split("/");const l=r[o],f=u.prefix?.length??0;if(l.charCodeAt(f)===123){const m=u.suffix?.length??0,g=l.substring(f+2,l.length-m-1),w=h.substring(f,h.length-m);i[g]=decodeURIComponent(w)}else{const m=l.substring(1);i[m]=decodeURIComponent(h)}}else if(u.kind===Tt){if(e.skipped&1<<o){a--;continue}r??=e.node.fullPath.split("/");const l=r[o],f=u.prefix?.length??0,p=u.suffix?.length??0,m=l.substring(f+3,l.length-p-1),g=u.suffix||u.prefix?h.substring(f,h.length-p):h;g&&(i[m]=decodeURIComponent(g))}else if(u.kind===ut){const l=u,f=t.substring(d+(l.prefix?.length??0),t.length-(l.suffix?.length??0)),p=decodeURIComponent(f);i["*"]=p,i._splat=p;break}}return e.rawParams&&Object.assign(i,e.rawParams),[i,{part:a,node:o,path:c}]}function ir(t){const s=[t];for(;t.parentRoute;)t=t.parentRoute,s.push(t);return s.reverse(),s}function or(t){const s=Array(t.depth+1);do s[t.depth]=t,t=t.parent;while(t);return s}function ar(t,s,e,n){if(t==="/"&&e.index)return{node:e.index,skipped:0};const r=!Ht(s),i=r&&t!=="/",a=s.length-(r?1:0),o=[{node:e,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let c=null,u=null,h=null;for(;o.length;){const d=o.pop(),{node:l,index:f,skipped:p,depth:m,statics:g,dynamics:w,optionals:v}=d;let{extract:P,rawParams:S,parsedParams:M}=d;if(l.skipOnParamError){if(!ge(t,s,d))continue;S=d.rawParams,P=d.extract,M=d.parsedParams}n&&l.route&&l.kind!==gt&&xt(u,d)&&(u=d);const x=f===a;if(x&&(l.route&&!i&&xt(h,d)&&(h=d),!l.optional&&!l.wildcard&&!l.index&&!l.pathless))continue;const _=x?void 0:s[f];let y;if(x&&l.index){const b={node:l.index,index:f,skipped:p,depth:m+1,statics:g,dynamics:w,optionals:v,extract:P,rawParams:S,parsedParams:M};if(l.index.skipOnParamError&&!ge(t,s,b))continue;if(g===a&&!w&&!v&&!p)return b;xt(h,b)&&(h=b)}if(l.wildcard&&xt(c,d))for(const b of l.wildcard){const{prefix:E,suffix:O}=b;if(E&&(x||!(b.caseSensitive?_:y??=_.toLowerCase()).startsWith(E)))continue;if(O){if(x)continue;const A=s.slice(f).join("/").slice(-O.length);if((b.caseSensitive?A:A.toLowerCase())!==O)continue}const L={node:b,index:a,skipped:p,depth:m,statics:g,dynamics:w,optionals:v,extract:P,rawParams:S,parsedParams:M};if(!(b.skipOnParamError&&!ge(t,s,L))){c=L;break}}if(l.optional){const b=p|1<<m,E=m+1;for(let O=l.optional.length-1;O>=0;O--){const L=l.optional[O];o.push({node:L,index:f,skipped:b,depth:E,statics:g,dynamics:w,optionals:v,extract:P,rawParams:S,parsedParams:M})}if(!x)for(let O=l.optional.length-1;O>=0;O--){const L=l.optional[O],{prefix:A,suffix:T}=L;if(A||T){const U=L.caseSensitive?_:y??=_.toLowerCase();if(A&&!U.startsWith(A)||T&&!U.endsWith(T))continue}o.push({node:L,index:f+1,skipped:p,depth:E,statics:g,dynamics:w,optionals:v+1,extract:P,rawParams:S,parsedParams:M})}}if(!x&&l.dynamic&&_)for(let b=l.dynamic.length-1;b>=0;b--){const E=l.dynamic[b],{prefix:O,suffix:L}=E;if(O||L){const A=E.caseSensitive?_:y??=_.toLowerCase();if(O&&!A.startsWith(O)||L&&!A.endsWith(L))continue}o.push({node:E,index:f+1,skipped:p,depth:m+1,statics:g,dynamics:w+1,optionals:v,extract:P,rawParams:S,parsedParams:M})}if(!x&&l.staticInsensitive){const b=l.staticInsensitive.get(y??=_.toLowerCase());b&&o.push({node:b,index:f+1,skipped:p,depth:m+1,statics:g+1,dynamics:w,optionals:v,extract:P,rawParams:S,parsedParams:M})}if(!x&&l.static){const b=l.static.get(_);b&&o.push({node:b,index:f+1,skipped:p,depth:m+1,statics:g+1,dynamics:w,optionals:v,extract:P,rawParams:S,parsedParams:M})}if(l.pathless){const b=m+1;for(let E=l.pathless.length-1;E>=0;E--){const O=l.pathless[E];o.push({node:O,index:f,skipped:p,depth:b,statics:g,dynamics:w,optionals:v,extract:P,rawParams:S,parsedParams:M})}}}if(h&&c)return xt(c,h)?h:c;if(h)return h;if(c)return c;if(n&&u){let d=u.index;for(let f=0;f<u.index;f++)d+=s[f].length;const l=d===t.length?"/":t.slice(d);return u.rawParams??={},u.rawParams["**"]=decodeURIComponent(l),u}return null}function ge(t,s,e){try{const[n,r]=qs(t,s,e);e.rawParams=n,e.extract=r;const i=e.node.parse(n);return e.parsedParams=Object.assign({},e.parsedParams,i),!0}catch{return null}}function xt(t,s){return t?s.statics>t.statics||s.statics===t.statics&&(s.dynamics>t.dynamics||s.dynamics===t.dynamics&&(s.optionals>t.optionals||s.optionals===t.optionals&&((s.node.kind===gt)>(t.node.kind===gt)||s.node.kind===gt==(t.node.kind===gt)&&s.depth>t.depth))):!0}function $t(t){return Ne(t.filter(s=>s!==void 0).join("/"))}function Ne(t){return t.replace(/\/{2,}/g,"/")}function Vs(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function ot(t){const s=t.length;return s>1&&t[s-1]==="/"?t.replace(/\/{1,}$/,""):t}function Gs(t){return ot(Vs(t))}function Gt(t,s){return t?.endsWith("/")&&t!=="/"&&t!==`${s}/`?t.slice(0,-1):t}function cr(t,s,e){return Gt(t,e)===Gt(s,e)}function lr({base:t,to:s,trailingSlash:e="never",cache:n}){const r=s.startsWith("/"),i=!r&&s===".";let a;if(n){a=r?s:i?t:t+"\0"+s;const d=n.get(a);if(d)return d}let o;if(i)o=t.split("/");else if(r)o=s.split("/");else{for(o=t.split("/");o.length>1&&Ht(o)==="";)o.pop();const d=s.split("/");for(let l=0,f=d.length;l<f;l++){const p=d[l];p===""?l?l===f-1&&o.push(p):o=[p]:p===".."?o.pop():p==="."||o.push(p)}}o.length>1&&(Ht(o)===""?e==="never"&&o.pop():e==="always"&&o.push(""));let c,u="";for(let d=0;d<o.length;d++){d>0&&(u+="/");const l=o[d];if(!l)continue;c=Ue(l,0,c);const f=c[0];if(f===vt){u+=l;continue}const p=c[5],m=l.substring(0,c[1]),g=l.substring(c[4],p),w=l.substring(c[2],c[3]);f===lt?u+=m||g?`${m}{$${w}}${g}`:`$${w}`:f===ut?u+=m||g?`${m}{$}${g}`:"$":u+=`${m}{-$${w}}${g}`}u=Ne(u);const h=u||"/";return a&&n&&n.set(a,h),h}function ye(t,s,e){const n=s[t];return typeof n!="string"?n:t==="_splat"?encodeURI(n):ur(n,e)}function ve({path:t,params:s,decodeCharMap:e}){let n=!1;const r={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:r,isMissingParams:n};if(!t.includes("$"))return{interpolatedPath:t,usedParams:r,isMissingParams:n};const i=t.length;let a=0,o,c="";for(;a<i;){const h=a;o=Ue(t,h,o);const d=o[5];if(a=d+1,h===d)continue;const l=o[0];if(l===vt){c+="/"+t.substring(h,d);continue}if(l===ut){const f=s._splat;r._splat=f,r["*"]=f;const p=t.substring(h,o[1]),m=t.substring(o[4],d);if(!f){n=!0,(p||m)&&(c+="/"+p+m);continue}const g=ye("_splat",s,e);c+="/"+p+g+m;continue}if(l===lt){const f=t.substring(o[2],o[3]);!n&&!(f in s)&&(n=!0),r[f]=s[f];const p=t.substring(h,o[1]),m=t.substring(o[4],d),g=ye(f,s,e)??"undefined";c+="/"+p+g+m;continue}if(l===Tt){const f=t.substring(o[2],o[3]),p=s[f];if(p==null)continue;r[f]=p;const m=t.substring(h,o[1]),g=t.substring(o[4],d),w=ye(f,s,e)??"";c+="/"+m+w+g;continue}}return t.endsWith("/")&&(c+="/"),{usedParams:r,interpolatedPath:c||"/",isMissingParams:n}}function ur(t,s){let e=encodeURIComponent(t);if(s)for(const[n,r]of s)e=e.replaceAll(n,r);return e}function Js(t={}){if(t.isNotFound=!0,t.throw)throw t;return t}function N(t){return!!t?.isNotFound}function hr(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Jt="tsr-scroll-restoration-v1_3",dr=(t,s)=>{let e;return(...n)=>{e||(e=setTimeout(()=>{t(...n),e=null},s))}};function fr(){const t=hr();if(!t)return null;const s=t.getItem(Jt);let e=s?JSON.parse(s):{};return{state:e,set:n=>{e=Y(n,e)||e;try{t.setItem(Jt,JSON.stringify(e))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Bt=fr(),Ee=t=>t.state.__TSR_key||t.href;function pr(t){const s=[];let e;for(;e=t.parentNode;)s.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(e.children,t)+1})`),t=e;return`${s.reverse().join(" > ")}`.toLowerCase()}let Yt=!1;function Ys({storageKey:t,key:s,behavior:e,shouldScrollRestoration:n,scrollToTopSelectors:r,location:i}){let a;try{a=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(u){console.error(u);return}const o=s||window.history.state?.__TSR_key,c=a[o];Yt=!0;t:{if(n&&c&&Object.keys(c).length>0){for(const d in c){const l=c[d];if(d==="window")window.scrollTo({top:l.scrollY,left:l.scrollX,behavior:e});else if(d){const f=document.querySelector(d);f&&(f.scrollLeft=l.scrollX,f.scrollTop=l.scrollY)}}break t}const u=(i??window.location).hash.split("#",2)[1];if(u){const d=window.history.state?.__hashScrollIntoViewOptions??!0;if(d){const l=document.getElementById(u);l&&l.scrollIntoView(d)}break t}const h={top:0,left:0,behavior:e};if(window.scrollTo(h),r)for(const d of r){if(d==="window")continue;const l=typeof d=="function"?d():document.querySelector(d);l&&l.scrollTo(h)}}Yt=!1}function mr(t,s){if(!Bt&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!Bt))return;t.isScrollRestorationSetup=!0,Yt=!1;const n=t.options.getScrollRestorationKey||Ee;window.history.scrollRestoration="manual";const r=i=>{if(Yt||!t.isScrollRestoring)return;let a="";if(i.target===document||i.target===window)a="window";else{const c=i.target.getAttribute("data-scroll-restoration-id");c?a=`[data-scroll-restoration-id="${c}"]`:a=pr(i.target)}const o=n(t.state.location);Bt.set(c=>{const u=c[o]||={},h=u[a]||={};if(a==="window")h.scrollX=window.scrollX||0,h.scrollY=window.scrollY||0;else if(a){const d=document.querySelector(a);d&&(h.scrollX=d.scrollLeft||0,h.scrollY=d.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",dr(r,100),!0),t.subscribe("onRendered",i=>{const a=n(i.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(Ys({storageKey:Jt,key:a,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Bt.set(o=>(o[a]||={},o)))})}function gr(t){if(typeof document<"u"&&document.querySelector){const s=t.state.location.state.__hashScrollIntoViewOptions??!0;if(s&&t.state.location.hash!==""){const e=document.getElementById(t.state.location.hash);e&&e.scrollIntoView(s)}}}function yr(t,s=String){const e=new URLSearchParams;for(const n in t){const r=t[n];r!==void 0&&e.set(n,s(r))}return e.toString()}function Se(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function vr(t){const s=new URLSearchParams(t),e={};for(const[n,r]of s.entries()){const i=e[n];i==null?e[n]=Se(r):Array.isArray(i)?i.push(Se(r)):e[n]=[i,Se(r)]}return e}const Sr=Pr(JSON.parse),wr=br(JSON.stringify,JSON.parse);function Pr(t){return s=>{s[0]==="?"&&(s=s.substring(1));const e=vr(s);for(const n in e){const r=e[n];if(typeof r=="string")try{e[n]=t(r)}catch{}}return e}}function br(t,s){const e=typeof s=="function";function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(e&&typeof r=="string")try{return s(r),t(r)}catch{}return r}return r=>{const i=yr(r,n);return i?`?${i}`:""}}const z="__root__";function Rr(t){if(t.statusCode=t.statusCode||t.code||307,typeof t.href=="string"&&qt(t.href))throw new Error(`Redirect blocked: unsafe protocol in href "${t.href}". Only ${Qs.join(", ")} protocols are allowed.`);if(!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const s=new Headers(t.headers);t.href&&s.get("Location")===null&&s.set("Location",t.href);const e=new Response(null,{status:t.statusCode,headers:s});if(e.options=t,t.throw)throw e;return e}function K(t){return t instanceof Response&&!!t.options}const Wt=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},se=(t,s)=>!!(t.preload&&!t.router.state.matches.some(e=>e.id===s)),$e=(t,s,e=!0)=>{const n={...t.router.options.context??{}},r=e?s:s-1;for(let i=0;i<=r;i++){const a=t.matches[i];if(!a)continue;const o=t.router.getMatch(a.id);o&&Object.assign(n,o.__routeContext,o.__beforeLoadContext)}return n},Xs=(t,s)=>{const e=t.router.routesById[s.routeId??""]??t.router.routeTree;!e.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(e.options.notFoundComponent=t.router.options.defaultNotFoundComponent),G(e.options.notFoundComponent);const n=t.matches.find(r=>r.routeId===e.id);G(n,"Could not find match for route: "+e.id),t.updateMatch(n.id,r=>({...r,status:"notFound",error:s,isFetching:!1})),s.routerCode==="BEFORE_LOAD"&&e.parentRoute&&(s.routeId=e.parentRoute.id,Xs(t,s))},X=(t,s,e)=>{if(!(!K(e)&&!N(e))){if(K(e)&&e.redirectHandled&&!e.options.reloadDocument)throw e;if(s){s._nonReactive.beforeLoadPromise?.resolve(),s._nonReactive.loaderPromise?.resolve(),s._nonReactive.beforeLoadPromise=void 0,s._nonReactive.loaderPromise=void 0;const n=K(e)?"redirected":"notFound";s._nonReactive.error=e,t.updateMatch(s.id,r=>({...r,status:n,isFetching:!1,error:e})),N(e)&&!e.routeId&&(e.routeId=s.routeId),s._nonReactive.loadPromise?.resolve()}throw K(e)?(t.rendered=!0,e.options._fromLocation=t.location,e.redirectHandled=!0,e=t.router.resolveRedirect(e),e):(Xs(t,e),e)}},Zs=(t,s)=>{const e=t.router.getMatch(s);return!!(!t.router.isServer&&e._nonReactive.dehydrated||t.router.isServer&&e.ssr===!1)},_t=(t,s,e,n)=>{const{id:r,routeId:i}=t.matches[s],a=t.router.looseRoutesById[i];if(e instanceof Promise)throw e;e.routerCode=n,t.firstBadMatchIndex??=s,X(t,t.router.getMatch(r),e);try{a.options.onError?.(e)}catch(o){e=o,X(t,t.router.getMatch(r),e)}t.updateMatch(r,o=>(o._nonReactive.beforeLoadPromise?.resolve(),o._nonReactive.beforeLoadPromise=void 0,o._nonReactive.loadPromise?.resolve(),{...o,error:e,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},xr=(t,s,e,n)=>{const r=t.router.getMatch(s),i=t.matches[e-1]?.id,a=i?t.router.getMatch(i):void 0;if(t.router.isShell()){r.ssr=n.id===z;return}if(a?.ssr===!1){r.ssr=!1;return}const o=f=>f===!0&&a?.ssr==="data-only"?"data-only":f,c=t.router.options.defaultSsr??!0;if(n.options.ssr===void 0){r.ssr=o(c);return}if(typeof n.options.ssr!="function"){r.ssr=o(n.options.ssr);return}const{search:u,params:h}=r,d={search:Ut(u,r.searchError),params:Ut(h,r.paramsError),location:t.location,matches:t.matches.map(f=>({index:f.index,pathname:f.pathname,fullPath:f.fullPath,staticData:f.staticData,id:f.id,routeId:f.routeId,search:Ut(f.search,f.searchError),params:Ut(f.params,f.paramsError),ssr:f.ssr}))},l=n.options.ssr(d);if(tt(l))return l.then(f=>{r.ssr=o(f??c)});r.ssr=o(l??c)},tn=(t,s,e,n)=>{if(n._nonReactive.pendingTimeout!==void 0)return;const r=e.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!se(t,s)&&(e.options.loader||e.options.beforeLoad||nn(e))&&typeof r=="number"&&r!==1/0&&(e.options.pendingComponent??t.router.options?.defaultPendingComponent))){const a=setTimeout(()=>{Wt(t)},r);n._nonReactive.pendingTimeout=a}},_r=(t,s,e)=>{const n=t.router.getMatch(s);if(!n._nonReactive.beforeLoadPromise&&!n._nonReactive.loaderPromise)return;tn(t,s,e,n);const r=()=>{const i=t.router.getMatch(s);i.preload&&(i.status==="redirected"||i.status==="notFound")&&X(t,i,i.error)};return n._nonReactive.beforeLoadPromise?n._nonReactive.beforeLoadPromise.then(r):r()},Cr=(t,s,e,n)=>{const r=t.router.getMatch(s),i=r._nonReactive.loadPromise;r._nonReactive.loadPromise=yt(()=>{i?.resolve()});const{paramsError:a,searchError:o}=r;a&&_t(t,e,a,"PARSE_PARAMS"),o&&_t(t,e,o,"VALIDATE_SEARCH"),tn(t,s,n,r);const c=new AbortController,u=t.matches[e-1]?.id;(u?t.router.getMatch(u):void 0)?.context??t.router.options.context;let d=!1;const l=()=>{d||(d=!0,t.updateMatch(s,x=>({...x,isFetching:"beforeLoad",fetchCount:x.fetchCount+1,abortController:c})))},f=()=>{r._nonReactive.beforeLoadPromise?.resolve(),r._nonReactive.beforeLoadPromise=void 0,t.updateMatch(s,x=>({...x,isFetching:!1}))};if(!n.options.beforeLoad){Lt(()=>{l(),f()});return}r._nonReactive.beforeLoadPromise=yt();const p={...$e(t,e,!1),...r.__routeContext},{search:m,params:g,cause:w}=r,v=se(t,s),P={search:m,abortController:c,params:g,preload:v,context:p,location:t.location,navigate:x=>t.router.navigate({...x,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:v?"preload":w,matches:t.matches,...t.router.options.additionalContext},S=x=>{if(x===void 0){Lt(()=>{l(),f()});return}(K(x)||N(x))&&(l(),_t(t,e,x,"BEFORE_LOAD")),Lt(()=>{l(),t.updateMatch(s,_=>({..._,__beforeLoadContext:x})),f()})};let M;try{if(M=n.options.beforeLoad(P),tt(M))return l(),M.catch(x=>{_t(t,e,x,"BEFORE_LOAD")}).then(S)}catch(x){l(),_t(t,e,x,"BEFORE_LOAD")}S(M)},Mr=(t,s)=>{const{id:e,routeId:n}=t.matches[s],r=t.router.looseRoutesById[n],i=()=>{if(t.router.isServer){const c=xr(t,e,s,r);if(tt(c))return c.then(o)}return o()},a=()=>Cr(t,e,s,r),o=()=>{if(Zs(t,e))return;const c=_r(t,e,r);return tt(c)?c.then(a):a()};return i()},Er=(t,s,e)=>{const n=t.router.getMatch(s);if(!n||!e.options.head&&!e.options.scripts&&!e.options.headers)return;const r={matches:t.matches,match:n,params:n.params,loaderData:n.loaderData};return Promise.all([e.options.head?.(r),e.options.scripts?.(r),e.options.headers?.(r)]).then(([i,a,o])=>{const c=i?.meta,u=i?.links,h=i?.scripts,d=i?.styles;return{meta:c,links:u,headScripts:h,headers:o,scripts:a,styles:d}})},en=(t,s,e,n)=>{const r=t.matchPromises[e-1],{params:i,loaderDeps:a,abortController:o,cause:c}=t.router.getMatch(s),u=$e(t,e),h=se(t,s);return{params:i,deps:a,preload:!!h,parentMatchPromise:r,abortController:o,context:u,location:t.location,navigate:d=>t.router.navigate({...d,_fromLocation:t.location}),cause:h?"preload":c,route:n,...t.router.options.additionalContext}},fs=async(t,s,e,n)=>{try{const r=t.router.getMatch(s);try{(!t.router.isServer||r.ssr===!0)&&sn(n);const i=n.options.loader?.(en(t,s,e,n)),a=n.options.loader&&tt(i);if((a||n._lazyPromise||n._componentsPromise||n.options.head||n.options.scripts||n.options.headers||r._nonReactive.minPendingPromise)&&t.updateMatch(s,u=>({...u,isFetching:"loader"})),n.options.loader){const u=a?await i:i;X(t,t.router.getMatch(s),u),u!==void 0&&t.updateMatch(s,h=>({...h,loaderData:u}))}n._lazyPromise&&await n._lazyPromise;const c=r._nonReactive.minPendingPromise;c&&await c,n._componentsPromise&&await n._componentsPromise,t.updateMatch(s,u=>({...u,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(i){let a=i;if(a?.name==="AbortError"){t.updateMatch(s,c=>({...c,status:c.status==="pending"?"success":c.status,isFetching:!1}));return}const o=r._nonReactive.minPendingPromise;o&&await o,N(i)&&await n.options.notFoundComponent?.preload?.(),X(t,t.router.getMatch(s),i);try{n.options.onError?.(i)}catch(c){a=c,X(t,t.router.getMatch(s),c)}t.updateMatch(s,c=>({...c,error:a,status:"error",isFetching:!1}))}}catch(r){const i=t.router.getMatch(s);i&&(i._nonReactive.loaderPromise=void 0),X(t,i,r)}},Or=async(t,s)=>{const{id:e,routeId:n}=t.matches[s];let r=!1,i=!1;const a=t.router.looseRoutesById[n],o=()=>{t.updateMatch(e,h=>({...h,context:$e(t,s)}))};if(Zs(t,e)){if(t.router.isServer)return t.router.getMatch(e)}else{const h=t.router.getMatch(e);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!t.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const d=t.router.getMatch(e),l=d._nonReactive.error||d.error;l&&X(t,d,l)}else{const d=Date.now()-h.updatedAt,l=se(t,e),f=l?a.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:a.options.staleTime??t.router.options.defaultStaleTime??0,p=a.options.shouldReload,m=typeof p=="function"?p(en(t,e,s,a)):p,g=!!l&&!t.router.state.matches.some(S=>S.id===e),w=t.router.getMatch(e);w._nonReactive.loaderPromise=yt(),g!==w.preload&&t.updateMatch(e,S=>({...S,preload:g}));const{status:v,invalid:P}=w;r=v==="success"&&(P||(m??d>f)),l&&a.options.preload===!1||(r&&!t.sync?(i=!0,(async()=>{try{await fs(t,e,s,a),o();const S=t.router.getMatch(e);S._nonReactive.loaderPromise?.resolve(),S._nonReactive.loadPromise?.resolve(),S._nonReactive.loaderPromise=void 0}catch(S){K(S)&&await t.router.navigate(S.options)}})()):(v!=="success"||r&&t.sync)&&await fs(t,e,s,a))}}const c=t.router.getMatch(e);i||(c._nonReactive.loaderPromise?.resolve(),c._nonReactive.loadPromise?.resolve()),clearTimeout(c._nonReactive.pendingTimeout),c._nonReactive.pendingTimeout=void 0,i||(c._nonReactive.loaderPromise=void 0),c._nonReactive.dehydrated=void 0,i||o();const u=i?c.isFetching:!1;return u!==c.isFetching||c.invalid!==!1?(t.updateMatch(e,h=>({...h,isFetching:u,invalid:!1})),t.router.getMatch(e)):c};async function ps(t){const s=Object.assign(t,{matchPromises:[]});!s.router.isServer&&s.router.state.matches.some(e=>e._forcePending)&&Wt(s);try{for(let o=0;o<s.matches.length;o++){const c=Mr(s,o);tt(c)&&await c}const e=s.firstBadMatchIndex??s.matches.length;for(let o=0;o<e;o++)s.matchPromises.push(Or(s,o));const r=(await Promise.allSettled(s.matchPromises)).filter(o=>o.status==="rejected").map(o=>o.reason);let i;for(const o of r){if(K(o))throw o;!i&&N(o)&&(i=o)}for(const o of s.matches){const{id:c,routeId:u}=o,h=s.router.looseRoutesById[u];try{const d=Er(s,c,h);if(d){const l=await d;s.updateMatch(c,f=>({...f,...l}))}}catch(d){console.error(`Error executing head for route ${u}:`,d)}}if(i)throw i;const a=Wt(s);tt(a)&&await a}catch(e){if(N(e)&&!s.preload){const n=Wt(s);throw tt(n)&&await n,e}if(K(e))throw e}return s.matches}async function sn(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(s=>{const{id:e,...n}=s.options;Object.assign(t.options,n),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const s=()=>{const e=[];for(const n of rn){const r=t.options[n]?.preload;r&&e.push(r())}if(e.length)return Promise.all(e).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(s):s()}return t._componentsPromise}function Ut(t,s){return s?{status:"error",error:s}:{status:"success",value:t}}function nn(t){for(const s of rn)if(t.options[s]?.preload)return!0;return!1}const rn=["component","errorComponent","pendingComponent","notFoundComponent"];function Lr(t){return{input:({url:s})=>{for(const e of t)s=Oe(e,s);return s},output:({url:s})=>{for(let e=t.length-1;e>=0;e--)s=on(t[e],s);return s}}}function Ir(t){const s=Gs(t.basepath),e=`/${s}`,n=`${e}/`,r=t.caseSensitive?e:e.toLowerCase(),i=t.caseSensitive?n:n.toLowerCase();return{input:({url:a})=>{const o=t.caseSensitive?a.pathname:a.pathname.toLowerCase();return o===r?a.pathname="/":o.startsWith(i)&&(a.pathname=a.pathname.slice(e.length)),a},output:({url:a})=>(a.pathname=$t(["/",s,a.pathname]),a)}}function Oe(t,s){const e=t?.input?.({url:s});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return s}function on(t,s){const e=t?.output?.({url:s});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return s}function at(t){const s=t.resolvedLocation,e=t.location,n=s?.pathname!==e.pathname,r=s?.href!==e.href,i=s?.hash!==e.hash;return{fromLocation:s,toLocation:e,pathChanged:n,hrefChanged:r,hashChanged:i}}class Tr{constructor(s){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options,r=this.basepath??n?.basepath??"/",i=this.basepath===void 0,a=n?.rewrite;this.options={...n,...e},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(l=>[encodeURIComponent(l),l])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=Hs())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Bn(Fr(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(l=>!["redirected"].includes(l.status))}}}),mr(this));let o=!1;const c=this.options.basepath??"/",u=this.options.rewrite;if(i||r!==c||a!==u){this.basepath=c;const l=[];Gs(c)!==""&&l.push(Ir({basepath:c})),u&&l.push(u),this.rewrite=l.length===0?void 0:l.length===1?l[0]:Lr(l),this.history&&this.updateLatestLocation(),o=!0}o&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:e,routesByPath:n,processedTree:r}=rr(this.routeTree,this.options.caseSensitive,(a,o)=>{a.init({originalIndex:o})});this.options.routeMasks&&Zn(this.options.routeMasks,r),this.routesById=e,this.routesByPath=n,this.processedTree=r;const i=this.options.notFoundRoute;i&&(i.init({originalIndex:99999999999}),this.routesById[i.id]=i)},this.subscribe=(e,n)=>{const r={eventType:e,fn:n};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=e=>{this.subscribers.forEach(n=>{n.eventType===e.type&&n.fn(e)})},this.parseLocation=(e,n)=>{const r=({href:c,state:u})=>{const h=new URL(c,this.origin),d=Oe(this.rewrite,h),l=this.options.parseSearch(d.search),f=this.options.stringifySearch(l);return d.search=f,{href:d.href.replace(d.origin,""),publicHref:c,url:d,pathname:ds(d.pathname),searchStr:f,search:$(n?.search,l),hash:d.hash.split("#").reverse()[0]??"",state:$(n?.state,u)}},i=r(e),{__tempLocation:a,__tempKey:o}=i.state;if(a&&(!o||o===this.tempLocationKey)){const c=r(a);return c.state.key=i.state.key,c.state.__TSR_key=i.state.__TSR_key,delete c.state.__tempLocation,{...c,maskedLocation:i}}return i},this.resolvePathCache=Vt(1e3),this.resolvePathWithBase=(e,n)=>lr({base:e,to:Ne(n),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(e,n,r)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n),this.getMatchedRoutes=e=>Ar({pathname:e,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=e=>{const n=this.getMatch(e);n&&(n.abortController.abort(),clearTimeout(n._nonReactive.pendingTimeout),n._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const e=this.state.matches.filter(i=>i.status==="pending"),n=this.state.matches.filter(i=>i.isFetching==="loader");new Set([...this.state.pendingMatches??[],...e,...n]).forEach(i=>{this.cancelMatch(i.id)})},this.buildLocation=e=>{const n=(i={})=>{const a=i._fromLocation||this.pendingBuiltLocation||this.latestLocation,o=this.matchRoutes(a,{_buildLocation:!0}),c=Ht(o);i.from;const u=i.unsafeRelative==="path"?a.pathname:i.from??c.fullPath,h=this.resolvePathWithBase(u,"."),d=c.search,l={...c.params},f=i.to?this.resolvePathWithBase(h,`${i.to}`):this.resolvePathWithBase(h,"."),p=i.params===!1||i.params===null?{}:(i.params??!0)===!0?l:Object.assign(l,Y(i.params,l)),m=ve({path:f,params:p}).interpolatedPath,g=this.matchRoutes(m,void 0,{_buildLocation:!0}).map(E=>this.looseRoutesById[E.routeId]);if(Object.keys(p).length>0)for(const E of g){const O=E.options.params?.stringify??E.options.stringifyParams;O&&Object.assign(p,O(p))}const w=e.leaveParams?f:ds(ve({path:f,params:p,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let v=d;if(e._includeValidateSearch&&this.options.search?.strict){const E={};g.forEach(O=>{if(O.options.validateSearch)try{Object.assign(E,Le(O.options.validateSearch,{...E,...v}))}catch{}}),v=E}v=Dr({search:v,dest:i,destRoutes:g,_includeValidateSearch:e._includeValidateSearch}),v=$(d,v);const P=this.options.stringifySearch(v),S=i.hash===!0?a.hash:i.hash?Y(i.hash,a.hash):void 0,M=S?`#${S}`:"";let x=i.state===!0?a.state:i.state?Y(i.state,a.state):{};x=$(a.state,x);const _=`${w}${P}${M}`,y=new URL(_,this.origin),b=on(this.rewrite,y);return{publicHref:b.pathname+b.search+b.hash,href:_,url:b,pathname:w,search:v,searchStr:P,state:x,hash:S??"",unmaskOnReload:i.unmaskOnReload}},r=(i={},a)=>{const o=n(i);let c=a?n(a):void 0;if(!c){const u={};if(this.options.routeMasks){const h=tr(o.pathname,this.processedTree);if(h){Object.assign(u,h.rawParams);const{from:d,params:l,...f}=h.route,p=l===!1||l===null?{}:(l??!0)===!0?u:Object.assign(u,Y(l,u));a={from:e.from,...f,params:p},c=n(a)}}}return c&&(o.maskedLocation=c),o};return e.mask?r(e,{from:e.from,...e.mask}):r(e)},this.commitLocation=({viewTransition:e,ignoreBlocker:n,...r})=>{const i=()=>{const c=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];c.forEach(h=>{r.state[h]=this.latestLocation.state[h]});const u=it(r.state,this.latestLocation.state);return c.forEach(h=>{delete r.state[h]}),u},a=ot(this.latestLocation.href)===ot(r.href),o=this.commitLocationPromise;if(this.commitLocationPromise=yt(()=>{o?.resolve()}),a&&i())this.load();else{let{maskedLocation:c,hashScrollIntoView:u,url:h,...d}=r;c&&(d={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...d,search:d.searchStr,state:{...d.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(d.unmaskOnReload??this.options.unmaskOnReload??!1)&&(d.state.__tempKey=this.tempLocationKey)),d.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[r.replace?"replace":"push"](d.publicHref,d.state,{ignoreBlocker:n})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:n,hashScrollIntoView:r,viewTransition:i,ignoreBlocker:a,href:o,...c}={})=>{if(o){const d=this.history.location.state.__TSR_index,l=It(o,{__TSR_index:e?d:d+1}),f=new URL(l.pathname,this.origin),p=Oe(this.rewrite,f);c.to=p.pathname,c.search=this.options.parseSearch(l.search),c.hash=l.hash.slice(1)}const u=this.buildLocation({...c,_includeValidateSearch:!0});this.pendingBuiltLocation=u;const h=this.commitLocation({...u,viewTransition:i,replace:e,resetScroll:n,hashScrollIntoView:r,ignoreBlocker:a});return Promise.resolve().then(()=>{this.pendingBuiltLocation===u&&(this.pendingBuiltLocation=void 0)}),h},this.navigate=async({to:e,reloadDocument:n,href:r,publicHref:i,...a})=>{let o=!1;if(r)try{new URL(`${r}`),o=!0}catch{}if(o&&!n&&(n=!0),n){if(e!==void 0||!r){const u=this.buildLocation({to:e,...a});r=r??u.url.href,i=i??u.url.href}const c=!o&&i?i:r;if(qt(c))return Promise.resolve();if(!a.ignoreBlocker){const h=this.history.getBlockers?.()??[];for(const d of h)if(d?.blockerFn&&await d.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(c):window.location.href=c,Promise.resolve()}return this.buildAndCommitLocation({...a,href:r,to:e,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const n=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==n.publicHref||n.url.origin!==this.origin){const r=this.getParsedLocationHref(n);throw Rr({href:r})}}const e=this.matchRoutes(this.latestLocation);this.__store.setState(n=>({...n,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:e,cachedMatches:n.cachedMatches.filter(r=>!e.some(i=>i.id===r.id))}))},this.load=async e=>{let n,r,i;for(i=new Promise(o=>{this.startTransition(async()=>{try{this.beforeLoad();const c=this.latestLocation,u=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...at({resolvedLocation:u,location:c})}),this.emit({type:"onBeforeLoad",...at({resolvedLocation:u,location:c})}),await ps({router:this,sync:e?.sync,matches:this.state.pendingMatches,location:c,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let h=[],d=[],l=[];Lt(()=>{this.__store.setState(f=>{const p=f.matches,m=f.pendingMatches||f.matches;return h=p.filter(g=>!m.some(w=>w.id===g.id)),d=m.filter(g=>!p.some(w=>w.id===g.id)),l=m.filter(g=>p.some(w=>w.id===g.id)),{...f,isLoading:!1,loadedAt:Date.now(),matches:m,pendingMatches:void 0,cachedMatches:[...f.cachedMatches,...h.filter(g=>g.status!=="error"&&g.status!=="notFound")]}}),this.clearExpiredCache()}),[[h,"onLeave"],[d,"onEnter"],[l,"onStay"]].forEach(([f,p])=>{f.forEach(m=>{this.looseRoutesById[m.routeId].options[p]?.(m)})})})})}})}catch(c){K(c)?(n=c,this.isServer||this.navigate({...n.options,replace:!0,ignoreBlocker:!0})):N(c)&&(r=c),this.__store.setState(u=>({...u,statusCode:n?n.status:r?404:u.matches.some(h=>h.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===i&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;let a;this.hasNotFoundMatch()?a=404:this.__store.state.matches.some(o=>o.status==="error")&&(a=500),a!==void 0&&this.__store.setState(o=>({...o,statusCode:a}))},this.startViewTransition=e=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof n=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,a=this.state.resolvedLocation,o=typeof n.types=="function"?n.types(at({resolvedLocation:a,location:i})):n.types;if(o===!1){e();return}r={update:e,types:o}}else r=e;document.startViewTransition(r)}else e()},this.updateMatch=(e,n)=>{this.startTransition(()=>{const r=this.state.pendingMatches?.some(i=>i.id===e)?"pendingMatches":this.state.matches.some(i=>i.id===e)?"matches":this.state.cachedMatches.some(i=>i.id===e)?"cachedMatches":"";r&&this.__store.setState(i=>({...i,[r]:i[r]?.map(a=>a.id===e?n(a):a)}))})},this.getMatch=e=>{const n=r=>r.id===e;return this.state.cachedMatches.find(n)??this.state.pendingMatches?.find(n)??this.state.matches.find(n)},this.invalidate=e=>{const n=r=>e?.filter?.(r)??!0?{...r,invalid:!0,...e?.forcePending||r.status==="error"||r.status==="notFound"?{status:"pending",error:void 0}:void 0}:r;return this.__store.setState(r=>({...r,matches:r.matches.map(n),cachedMatches:r.cachedMatches.map(n),pendingMatches:r.pendingMatches?.map(n)})),this.shouldViewTransition=!1,this.load({sync:e?.sync})},this.getParsedLocationHref=e=>{let n=e.url.href;return this.origin&&e.url.origin===this.origin&&(n=n.replace(this.origin,"")||"/"),n},this.resolveRedirect=e=>{const n=e.headers.get("Location");if(e.options.href){if(n)try{const r=new URL(n);if(this.origin&&r.origin===this.origin){const i=r.pathname+r.search+r.hash;e.options.href=i,e.headers.set("Location",i)}}catch{}}else{const r=this.buildLocation(e.options),i=this.getParsedLocationHref(r);e.options.href=i,e.headers.set("Location",i)}return e.headers.get("Location")||e.headers.set("Location",e.options.href),e},this.clearCache=e=>{const n=e?.filter;n!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(i=>!n(i))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=n=>{const r=this.looseRoutesById[n.routeId];if(!r.options.loader)return!0;const i=(n.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??300*1e3;return n.status==="error"?!0:Date.now()-n.updatedAt>=i};this.clearCache({filter:e})},this.loadRouteChunk=sn,this.preloadRoute=async e=>{const n=this.buildLocation(e);let r=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:e});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(o=>o.id)),a=new Set([...i,...this.state.cachedMatches.map(o=>o.id)]);Lt(()=>{r.forEach(o=>{a.has(o.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,o]}))})});try{return r=await ps({router:this,matches:r,location:n,preload:!0,updateMatch:(o,c)=>{i.has(o)?r=r.map(u=>u.id===o?c(u):u):this.updateMatch(o,c)}}),r}catch(o){if(K(o))return o.options.reloadDocument?void 0:await this.preloadRoute({...o.options,_fromLocation:n});N(o)||console.error(o);return}},this.matchRoute=(e,n)=>{const r={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},i=this.buildLocation(r);if(n?.pending&&this.state.status!=="pending")return!1;const o=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=er(i.pathname,n?.caseSensitive??!1,n?.fuzzy??!1,o.pathname,this.processedTree);return!c||e.params&&!it(c.rawParams,e.params,{partial:!0})?!1:n?.includeSearch??!0?it(o.search,i.search,{partial:!0})?c.rawParams:!1:c.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...s,caseSensitive:s.caseSensitive??!1,notFoundMode:s.notFoundMode??"fuzzy",stringifySearch:s.stringifySearch??wr,parseSearch:s.parseSearch??Sr}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(s,e){const n=this.getMatchedRoutes(s.pathname),{foundRoute:r,routeParams:i,parsedParams:a}=n;let{matchedRoutes:o}=n,c=!1;(r?r.path!=="/"&&i["**"]:ot(s.pathname))&&(this.options.notFoundRoute?o=[...o,this.options.notFoundRoute]:c=!0);const u=(()=>{if(c){if(this.options.notFoundMode!=="root")for(let l=o.length-1;l>=0;l--){const f=o[l];if(f.children)return f.id}return z}})(),h=[],d=l=>l?.id?l.context??this.options.context??void 0:this.options.context??void 0;return o.forEach((l,f)=>{const p=h[f-1],[m,g,w]=(()=>{const T=p?.search??s.search,U=p?._strictSearch??void 0;try{const q=Le(l.options.validateSearch,{...T})??void 0;return[{...T,...q},{...U,...q},void 0]}catch(q){let wt=q;if(q instanceof Xt||(wt=new Xt(q.message,{cause:q})),e?.throwOnError)throw wt;return[T,{},wt]}})(),v=l.options.loaderDeps?.({search:m})??"",P=v?JSON.stringify(v):"",{interpolatedPath:S,usedParams:M}=ve({path:l.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),x=l.id+S+P,_=this.getMatch(x),y=this.state.matches.find(T=>T.routeId===l.id),b=_?._strictParams??M;let E;if(!_)if(l.options.skipRouteOnParseError)for(const T in M)T in a&&(b[T]=a[T]);else{const T=l.options.params?.parse??l.options.parseParams;if(T)try{Object.assign(b,T(b))}catch(U){if(N(U)||K(U)?E=U:E=new kr(U.message,{cause:U}),e?.throwOnError)throw E}}Object.assign(i,b);const O=y?"stay":"enter";let L;if(_)L={..._,cause:O,params:y?$(y.params,i):i,_strictParams:b,search:$(y?y.search:_.search,m),_strictSearch:g};else{const T=l.options.loader||l.options.beforeLoad||l.lazyFn||nn(l)?"pending":"success";L={id:x,ssr:this.isServer?void 0:l.options.ssr,index:f,routeId:l.id,params:y?$(y.params,i):i,_strictParams:b,pathname:S,updatedAt:Date.now(),search:y?$(y.search,m):m,_strictSearch:g,searchError:void 0,status:T,isFetching:!1,error:void 0,paramsError:E,__routeContext:void 0,_nonReactive:{loadPromise:yt()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:O,loaderDeps:y?$(y.loaderDeps,v):v,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:l.options.staticData||{},fullPath:l.fullPath}}e?.preload||(L.globalNotFound=u===l.id),L.searchError=w;const A=d(p);L.context={...A,...L.__routeContext,...L.__beforeLoadContext},h.push(L)}),h.forEach((l,f)=>{const p=this.looseRoutesById[l.routeId];if(!this.getMatch(l.id)&&e?._buildLocation!==!0){const g=h[f-1],w=d(g);if(p.options.context){const v={deps:l.loaderDeps,params:l.params,context:w??{},location:s,navigate:P=>this.navigate({...P,_fromLocation:s}),buildLocation:this.buildLocation,cause:l.cause,abortController:l.abortController,preload:!!l.preload,matches:h};l.__routeContext=p.options.context(v)??void 0}l.context={...w,...l.__routeContext,...l.__beforeLoadContext}}}),h}}class Xt extends Error{}class kr extends Error{}function Fr(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Le(t,s){if(t==null)return{};if("~standard"in t){const e=t["~standard"].validate(s);if(e instanceof Promise)throw new Xt("Async validation not supported");if(e.issues)throw new Xt(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in t?t.parse(s):typeof t=="function"?t(s):{}}function Ar({pathname:t,routesById:s,processedTree:e}){const n={},r=ot(t);let i,a;const o=sr(r,e,!0);return o&&(i=o.route,Object.assign(n,o.rawParams),a=Object.assign({},o.parsedParams)),{matchedRoutes:o?.branch||[s[z]],routeParams:n,foundRoute:i,parsedParams:a}}function Dr({search:t,dest:s,destRoutes:e,_includeValidateSearch:n}){const r=e.reduce((o,c)=>{const u=[];if("search"in c.options)c.options.search?.middlewares&&u.push(...c.options.search.middlewares);else if(c.options.preSearchFilters||c.options.postSearchFilters){const h=({search:d,next:l})=>{let f=d;"preSearchFilters"in c.options&&c.options.preSearchFilters&&(f=c.options.preSearchFilters.reduce((m,g)=>g(m),d));const p=l(f);return"postSearchFilters"in c.options&&c.options.postSearchFilters?c.options.postSearchFilters.reduce((m,g)=>g(m),p):p};u.push(h)}if(n&&c.options.validateSearch){const h=({search:d,next:l})=>{const f=l(d);try{return{...f,...Le(c.options.validateSearch,f)??void 0}}catch{return f}};u.push(h)}return o.concat(u)},[])??[],i=({search:o})=>s.search?s.search===!0?o:Y(s.search,o):{};r.push(i);const a=(o,c)=>{if(o>=r.length)return c;const u=r[o];return u({search:c,next:d=>a(o+1,d)})};return a(0,t)}const jr="Error preloading route! ";class an{constructor(s){if(this.init=e=>{this.originalIndex=e.originalIndex;const n=this.options,r=!n?.path&&!n?.id;this.parentRoute=this.options.getParentRoute?.(),r?this._path=z:this.parentRoute||G(!1);let i=r?z:n?.path;i&&i!=="/"&&(i=Vs(i));const a=n?.id||i;let o=r?z:$t([this.parentRoute.id===z?"":this.parentRoute.id,a]);i===z&&(i="/"),o!==z&&(o=$t(["/",o]));const c=o===z?"/":$t([this.parentRoute.fullPath,i]);this._path=i,this._id=o,this._fullPath=c,this._to=c},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.options=s||{},this.isRoot=!s?.getParentRoute,s?.id&&s?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class Br{constructor({id:s}){this.notFound=e=>Js({routeId:this.id,...e}),this.id=s}}class Ur extends an{constructor(s){super(s)}}const zr="use",ms=kn[zr],zt=typeof window<"u"?R.useLayoutEffect:R.useEffect;function we(t){const s=R.useRef({value:t,prev:null}),e=s.current.value;return t!==e&&(s.current={value:t,prev:e}),s.current.prev}function Nr(t,s,e={},n={}){R.useEffect(()=>{if(!t.current||n.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([i])=>{s(i)},e);return r.observe(t.current),()=>{r.disconnect()}},[s,e,n.disabled,t])}function $r(t){const s=R.useRef(null);return R.useImperativeHandle(t,()=>s.current,[]),s}function We(t){const s=t.errorComponent??ne;return C.jsx(Wr,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:e,reset:n})=>e?R.createElement(s,{error:e,reset:n}):t.children})}class Wr extends R.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(s){return{resetKey:s.getResetKey()}}static getDerivedStateFromError(s){return{error:s}}reset(){this.setState({error:null})}componentDidUpdate(s,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(s,e){this.props.onCatch&&this.props.onCatch(s,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ne({error:t}){const[s,e]=R.useState(!1);return C.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[C.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),C.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(n=>!n),children:s?"Hide Error":"Show Error"})]}),C.jsx("div",{style:{height:".25rem"}}),s?C.jsx("div",{children:C.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?C.jsx("code",{children:t.message}):null})}):null]})}function Kr({children:t,fallback:s=null}){return Hr()?C.jsx(ct.Fragment,{children:t}):C.jsx(ct.Fragment,{children:s})}function Hr(){return ct.useSyncExternalStore(Qr,()=>!0,()=>!1)}function Qr(){return()=>{}}var Pe={exports:{}},be={},Re={exports:{}},xe={};var gs;function qr(){if(gs)return xe;gs=1;var t=je();function s(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var e=typeof Object.is=="function"?Object.is:s,n=t.useState,r=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(d,l){var f=l(),p=n({inst:{value:f,getSnapshot:l}}),m=p[0].inst,g=p[1];return i(function(){m.value=f,m.getSnapshot=l,c(m)&&g({inst:m})},[d,f,l]),r(function(){return c(m)&&g({inst:m}),d(function(){c(m)&&g({inst:m})})},[d]),a(f),f}function c(d){var l=d.getSnapshot;d=d.value;try{var f=l();return!e(d,f)}catch{return!0}}function u(d,l){return l()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return xe.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,xe}var ys;function Vr(){return ys||(ys=1,Re.exports=qr()),Re.exports}var vs;function Gr(){if(vs)return be;vs=1;var t=je(),s=Vr();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=s.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return be.useSyncExternalStoreWithSelector=function(u,h,d,l,f){var p=i(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=o(function(){function w(x){if(!v){if(v=!0,P=x,x=l(x),f!==void 0&&m.hasValue){var _=m.value;if(f(_,x))return S=_}return S=x}if(_=S,n(P,x))return _;var y=l(x);return f!==void 0&&f(_,y)?(P=x,_):(P=x,S=y)}var v=!1,P,S,M=d===void 0?null:d;return[function(){return w(h())},M===null?void 0:function(){return w(M())}]},[h,d,l,f]);var g=r(u,p[0],p[1]);return a(function(){m.hasValue=!0,m.value=g},[g]),c(g),g},be}var Ss;function Jr(){return Ss||(Ss=1,Pe.exports=Gr()),Pe.exports}var Yr=Jr();function Xr(t,s=n=>n,e={}){const n=e.equal??Zr;return Yr.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,s,n)}function Zr(t,s){if(Object.is(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;if(t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(const[n,r]of t)if(!s.has(n)||!Object.is(r,s.get(n)))return!1;return!0}if(t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(const n of t)if(!s.has(n))return!1;return!0}if(t instanceof Date&&s instanceof Date)return t.getTime()===s.getTime();const e=ws(t);if(e.length!==ws(s).length)return!1;for(let n=0;n<e.length;n++)if(!Object.prototype.hasOwnProperty.call(s,e[n])||!Object.is(t[e[n]],s[e[n]]))return!1;return!0}function ws(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const _e=R.createContext(null);function cn(){return typeof document>"u"?_e:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=_e,_e)}function B(t){const s=R.useContext(cn());return t?.warn,s}function j(t){const s=B({warn:t?.router===void 0}),e=t?.router||s,n=R.useRef(void 0);return Xr(e.__store,r=>{if(t?.select){if(t.structuralSharing??e.options.defaultStructuralSharing){const i=$(n.current,t.select(r));return n.current=i,i}return t.select(r)}return r})}const re=R.createContext(void 0),ti=R.createContext(void 0);function H(t){const s=R.useContext(t.from?ti:re);return j({select:n=>{const r=n.matches.find(i=>t.from?t.from===i.routeId:i.id===s);if(G(!((t.shouldThrow??!0)&&!r),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),r!==void 0)return t.select?t.select(r):r},structuralSharing:t.structuralSharing})}function ie(t){return H({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:s=>t.select?t.select(s.loaderData):s.loaderData})}function oe(t){const{select:s,...e}=t;return H({...e,select:n=>s?s(n.loaderDeps):n.loaderDeps})}function ae(t){return H({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:s=>{const e=t.strict===!1?s.params:s._strictParams;return t.select?t.select(e):e}})}function ce(t){return H({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:s=>t.select?t.select(s.search):s.search})}function le(t){const s=B();return R.useCallback(e=>s.navigate({...e,from:e.from??t?.from}),[t?.from,s])}var Ke=On();const bo=$s(Ke);function ei(t,s){const e=B(),[n,r]=R.useState(!1),i=R.useRef(!1),a=$r(s),{activeProps:o,inactiveProps:c,activeOptions:u,to:h,preload:d,preloadDelay:l,hashScrollIntoView:f,replace:p,startTransition:m,resetScroll:g,viewTransition:w,children:v,target:P,disabled:S,style:M,className:x,onClick:_,onFocus:y,onMouseEnter:b,onMouseLeave:E,onTouchStart:O,ignoreBlocker:L,params:A,search:T,hash:U,state:q,mask:wt,reloadDocument:go,unsafeRelative:yo,from:vo,_fromLocation:So,...Ye}=t,Rn=j({select:I=>I.location.search,structuralSharing:!0}),Xe=t.from,Pt=R.useMemo(()=>({...t,from:Xe}),[e,Rn,Xe,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),V=R.useMemo(()=>e.buildLocation({...Pt}),[e,Pt]),bt=R.useMemo(()=>{if(S)return;let I=V.maskedLocation?V.maskedLocation.url.href:V.url.href,F=!1;return e.origin&&(I.startsWith(e.origin)?I=e.history.createHref(I.replace(e.origin,""))||"/":F=!0),{href:I,external:F}},[S,V.maskedLocation,V.url,e.origin,e.history]),Ft=R.useMemo(()=>{if(bt?.external)return qt(bt.href)?void 0:bt.href;try{return new URL(h),qt(h)?void 0:h}catch{}},[h,bt]),ft=t.reloadDocument||Ft?!1:d??e.options.defaultPreload,ue=l??e.options.defaultPreloadDelay??0,he=j({select:I=>{if(Ft)return!1;if(u?.exact){if(!cr(I.location.pathname,V.pathname,e.basepath))return!1}else{const F=Gt(I.location.pathname,e.basepath),Q=Gt(V.pathname,e.basepath);if(!(F.startsWith(Q)&&(F.length===Q.length||F[Q.length]==="/")))return!1}return(u?.includeSearch??!0)&&!it(I.location.search,V.search,{partial:!u?.exact,ignoreUndefined:!u?.explicitUndefined})?!1:u?.includeHash?I.location.hash===V.hash:!0}}),st=R.useCallback(()=>{e.preloadRoute({...Pt}).catch(I=>{console.warn(I),console.warn(jr)})},[e,Pt]),xn=R.useCallback(I=>{I?.isIntersecting&&st()},[st]);Nr(a,xn,oi,{disabled:!!S||ft!=="viewport"}),R.useEffect(()=>{i.current||!S&&ft==="render"&&(st(),i.current=!0)},[S,st,ft]);const _n=I=>{const F=I.currentTarget.getAttribute("target"),Q=P!==void 0?P:F;if(!S&&!ai(I)&&!I.defaultPrevented&&(!Q||Q==="_self")&&I.button===0){I.preventDefault(),Ke.flushSync(()=>{r(!0)});const ss=e.subscribe("onResolved",()=>{ss(),r(!1)});e.navigate({...Pt,replace:p,resetScroll:g,hashScrollIntoView:f,startTransition:m,viewTransition:w,ignoreBlocker:L})}};if(Ft)return{...Ye,ref:a,href:Ft,...v&&{children:v},...P&&{target:P},...S&&{disabled:S},...M&&{style:M},...x&&{className:x},..._&&{onClick:_},...y&&{onFocus:y},...b&&{onMouseEnter:b},...E&&{onMouseLeave:E},...O&&{onTouchStart:O}};const Ze=I=>{S||ft&&st()},Cn=Ze,Mn=I=>{if(!(S||!ft))if(!ue)st();else{const F=I.target;if(Ct.has(F))return;const Q=setTimeout(()=>{Ct.delete(F),st()},ue);Ct.set(F,Q)}},En=I=>{if(S||!ft||!ue)return;const F=I.target,Q=Ct.get(F);Q&&(clearTimeout(Q),Ct.delete(F))},At=he?Y(o,{})??si:Ce,Dt=he?Ce:Y(c,{})??Ce,ts=[x,At.className,Dt.className].filter(Boolean).join(" "),es=(M||At.style||Dt.style)&&{...M,...At.style,...Dt.style};return{...Ye,...At,...Dt,href:bt?.href,ref:a,onClick:Mt([_,_n]),onFocus:Mt([y,Ze]),onMouseEnter:Mt([b,Mn]),onMouseLeave:Mt([E,En]),onTouchStart:Mt([O,Cn]),disabled:!!S,target:P,...es&&{style:es},...ts&&{className:ts},...S&&ni,...he&&ri,...n&&ii}}const Ce={},si={className:"active"},ni={role:"link","aria-disabled":!0},ri={"data-status":"active","aria-current":"page"},ii={"data-transitioning":"transitioning"},Ct=new WeakMap,oi={rootMargin:"100px"},Mt=t=>s=>{for(const e of t)if(e){if(s.defaultPrevented)return;e(s)}},He=R.forwardRef((t,s)=>{const{_asChild:e,...n}=t,{type:r,ref:i,...a}=ei(n,s),o=typeof n.children=="function"?n.children({isActive:a["data-status"]==="active"}):n.children;return e===void 0&&delete a.disabled,R.createElement(e||"a",{...a,ref:i},o)});function ai(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ro(t){return new ci({id:t})}class ci extends Br{constructor({id:s}){super({id:s}),this.useMatch=e=>H({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>H({from:this.id,select:n=>e?.select?e.select(n.context):n.context}),this.useSearch=e=>ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>oe({...e,from:this.id,strict:!1}),this.useLoaderData=e=>ie({...e,from:this.id,strict:!1}),this.useNavigate=()=>{const e=B();return le({from:e.routesById[this.id].fullPath})},this.notFound=e=>Js({routeId:this.id,...e}),this.Link=ct.forwardRef((e,n)=>{const i=B().routesById[this.id].fullPath;return C.jsx(He,{ref:n,from:i,...e})})}}class li extends an{constructor(s){super(s),this.useMatch=e=>H({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>H({...e,from:this.id,select:n=>e?.select?e.select(n.context):n.context}),this.useSearch=e=>ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>oe({...e,from:this.id}),this.useLoaderData=e=>ie({...e,from:this.id}),this.useNavigate=()=>le({from:this.fullPath}),this.Link=ct.forwardRef((e,n)=>C.jsx(He,{ref:n,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function ui(t){return new li(t)}function xo(){return t=>di(t)}class hi extends Ur{constructor(s){super(s),this.useMatch=e=>H({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>H({...e,from:this.id,select:n=>e?.select?e.select(n.context):n.context}),this.useSearch=e=>ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>oe({...e,from:this.id}),this.useLoaderData=e=>ie({...e,from:this.id}),this.useNavigate=()=>le({from:this.fullPath}),this.Link=ct.forwardRef((e,n)=>C.jsx(He,{ref:n,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function di(t){return new hi(t)}function Ps(t){return typeof t=="object"?new bs(t,{silent:!0}).createRoute(t):new bs(t,{silent:!0}).createRoute}class bs{constructor(s,e){this.path=s,this.createRoute=n=>{this.silent;const r=ui(n);return r.isRoot=!1,r},this.silent=e?.silent}}class Rs{constructor(s){this.useMatch=e=>H({select:e?.select,from:this.options.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>H({from:this.options.id,select:n=>e?.select?e.select(n.context):n.context}),this.useSearch=e=>ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useParams=e=>ae({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>oe({...e,from:this.options.id}),this.useLoaderData=e=>ie({...e,from:this.options.id}),this.useNavigate=()=>{const e=B();return le({from:e.routesById[this.options.id].fullPath})},this.options=s,this.$$typeof=Symbol.for("react.memo")}}function xs(t){return typeof t=="object"?new Rs(t):s=>new Rs({id:t,...s})}function _o(t,s){let e,n,r,i;const a=()=>(e||(e=t().then(c=>{e=void 0,n=c[s]}).catch(c=>{if(r=c,Wn(r)&&r instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const u=`tanstack_router_reload:${r.message}`;sessionStorage.getItem(u)||(sessionStorage.setItem(u,"1"),i=!0)}})),e),o=function(u){if(i)throw window.location.reload(),new Promise(()=>{});if(r)throw r;if(!n)if(ms)ms(a());else throw a();return R.createElement(n,u)};return o.preload=a,o}function fi(){const t=B(),s=R.useRef({router:t,mounted:!1}),[e,n]=R.useState(!1),{hasPendingMatches:r,isLoading:i}=j({select:d=>({isLoading:d.isLoading,hasPendingMatches:d.matches.some(l=>l.status==="pending")}),structuralSharing:!0}),a=we(i),o=i||e||r,c=we(o),u=i||r,h=we(u);return t.startTransition=d=>{n(!0),R.startTransition(()=>{d(),n(!1)})},R.useEffect(()=>{const d=t.history.subscribe(t.load),l=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return ot(t.latestLocation.publicHref)!==ot(l.publicHref)&&t.commitLocation({...l,replace:!0}),()=>{d()}},[t,t.history]),zt(()=>{if(typeof window<"u"&&t.ssr||s.current.router===t&&s.current.mounted)return;s.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(l){console.error(l)}})()},[t]),zt(()=>{a&&!i&&t.emit({type:"onLoad",...at(t.state)})},[a,t,i]),zt(()=>{h&&!u&&t.emit({type:"onBeforeRouteMount",...at(t.state)})},[u,h,t]),zt(()=>{if(c&&!o){const d=at(t.state);t.emit({type:"onResolved",...d}),t.__store.setState(l=>({...l,status:"idle",resolvedLocation:l.location})),d.hrefChanged&&gr(t)}},[o,c,t]),null}function pi(t){const s=j({select:e=>`not-found-${e.location.pathname}-${e.status}`});return C.jsx(We,{getResetKey:()=>s,onCatch:(e,n)=>{if(N(e))t.onCatch?.(e,n);else throw e},errorComponent:({error:e})=>{if(N(e))return t.fallback?.(e);throw e},children:t.children})}function mi(){return C.jsx("p",{children:"Not Found"})}function mt(t){return C.jsx(C.Fragment,{children:t.children})}function ln(t,s,e){return s.options.notFoundComponent?C.jsx(s.options.notFoundComponent,{...e}):t.options.defaultNotFoundComponent?C.jsx(t.options.defaultNotFoundComponent,{...e}):C.jsx(mi,{})}function gi({children:t}){const s=B();return s.isServer?C.jsx("script",{nonce:s.options.ssr?.nonce,dangerouslySetInnerHTML:{__html:t+";document.currentScript.remove()"}}):null}function yi(){const t=B();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const e=(t.options.getScrollRestorationKey||Ee)(t.latestLocation),n=e!==Ee(t.latestLocation)?e:void 0,r={storageKey:Jt,shouldScrollRestoration:!0};return n&&(r.key=n),C.jsx(gi,{children:`(${Ys.toString()})(${qn(JSON.stringify(r))})`})}const un=R.memo(function({matchId:s}){const e=B(),n=j({select:w=>{const v=w.matches.find(P=>P.id===s);return G(v),{routeId:v.routeId,ssr:v.ssr,_displayPending:v._displayPending}},structuralSharing:!0}),r=e.routesById[n.routeId],i=r.options.pendingComponent??e.options.defaultPendingComponent,a=i?C.jsx(i,{}):null,o=r.options.errorComponent??e.options.defaultErrorComponent,c=r.options.onCatch??e.options.defaultOnCatch,u=r.isRoot?r.options.notFoundComponent??e.options.notFoundRoute?.options.component:r.options.notFoundComponent,h=n.ssr===!1||n.ssr==="data-only",d=(!r.isRoot||r.options.wrapInSuspense||h)&&(r.options.wrapInSuspense??i??(r.options.errorComponent?.preload||h))?R.Suspense:mt,l=o?We:mt,f=u?pi:mt,p=j({select:w=>w.loadedAt}),m=j({select:w=>{const v=w.matches.findIndex(P=>P.id===s);return w.matches[v-1]?.routeId}}),g=r.isRoot?r.options.shellComponent??mt:mt;return C.jsxs(g,{children:[C.jsx(re.Provider,{value:s,children:C.jsx(d,{fallback:a,children:C.jsx(l,{getResetKey:()=>p,errorComponent:o||ne,onCatch:(w,v)=>{if(N(w))throw w;c?.(w,v)},children:C.jsx(f,{fallback:w=>{if(!u||w.routeId&&w.routeId!==n.routeId||!w.routeId&&!r.isRoot)throw w;return R.createElement(u,w)},children:h||n._displayPending?C.jsx(Kr,{fallback:a,children:C.jsx(_s,{matchId:s})}):C.jsx(_s,{matchId:s})})})})}),m===z&&e.options.scrollRestoration?C.jsxs(C.Fragment,{children:[C.jsx(vi,{}),C.jsx(yi,{})]}):null]})});function vi(){const t=B(),s=R.useRef(void 0);return C.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(s.current===void 0||s.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...at(t.state)}),s.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const _s=R.memo(function({matchId:s}){const e=B(),{match:n,key:r,routeId:i}=j({select:c=>{const u=c.matches.find(p=>p.id===s),h=u.routeId,l=(e.routesById[h].options.remountDeps??e.options.defaultRemountDeps)?.({routeId:h,loaderDeps:u.loaderDeps,params:u._strictParams,search:u._strictSearch});return{key:l?JSON.stringify(l):void 0,routeId:h,match:{id:u.id,status:u.status,error:u.error,invalid:u.invalid,_forcePending:u._forcePending,_displayPending:u._displayPending}}},structuralSharing:!0}),a=e.routesById[i],o=R.useMemo(()=>{const c=a.options.component??e.options.defaultComponent;return c?C.jsx(c,{},r):C.jsx(Si,{})},[r,a.options.component,e.options.defaultComponent]);if(n._displayPending)throw e.getMatch(n.id)?._nonReactive.displayPendingPromise;if(n._forcePending)throw e.getMatch(n.id)?._nonReactive.minPendingPromise;if(n.status==="pending"){const c=a.options.pendingMinMs??e.options.defaultPendingMinMs;if(c){const u=e.getMatch(n.id);if(u&&!u._nonReactive.minPendingPromise&&!e.isServer){const h=yt();u._nonReactive.minPendingPromise=h,setTimeout(()=>{h.resolve(),u._nonReactive.minPendingPromise=void 0},c)}}throw e.getMatch(n.id)?._nonReactive.loadPromise}if(n.status==="notFound")return G(N(n.error)),ln(e,a,n.error);if(n.status==="redirected")throw G(K(n.error)),e.getMatch(n.id)?._nonReactive.loadPromise;if(n.status==="error"){if(e.isServer){const c=(a.options.errorComponent??e.options.defaultErrorComponent)||ne;return C.jsx(c,{error:n.error,reset:void 0,info:{componentStack:""}})}throw n.error}return o}),Si=R.memo(function(){const s=B(),e=R.useContext(re),n=j({select:u=>u.matches.find(h=>h.id===e)?.routeId}),r=s.routesById[n],i=j({select:u=>{const d=u.matches.find(l=>l.id===e);return G(d),d.globalNotFound}}),a=j({select:u=>{const h=u.matches,d=h.findIndex(l=>l.id===e);return h[d+1]?.id}}),o=s.options.defaultPendingComponent?C.jsx(s.options.defaultPendingComponent,{}):null;if(i)return ln(s,r,void 0);if(!a)return null;const c=C.jsx(un,{matchId:a});return n===z?C.jsx(R.Suspense,{fallback:o,children:c}):c});function wi(){const t=B(),e=t.routesById[z].options.pendingComponent??t.options.defaultPendingComponent,n=e?C.jsx(e,{}):null,r=t.isServer||typeof document<"u"&&t.ssr?mt:R.Suspense,i=C.jsxs(r,{fallback:n,children:[!t.isServer&&C.jsx(fi,{}),C.jsx(Pi,{})]});return t.options.InnerWrap?C.jsx(t.options.InnerWrap,{children:i}):i}function Pi(){const t=B(),s=j({select:r=>r.matches[0]?.id}),e=j({select:r=>r.loadedAt}),n=s?C.jsx(un,{matchId:s}):null;return C.jsx(re.Provider,{value:s,children:t.options.disableGlobalCatchBoundary?n:C.jsx(We,{getResetKey:()=>e,errorComponent:ne,onCatch:r=>{r.message||r.toString()},children:n})})}const Co=t=>new bi(t);class bi extends Tr{constructor(s){super(s)}}typeof globalThis<"u"?(globalThis.createFileRoute=Ps,globalThis.createLazyFileRoute=xs):typeof window<"u"&&(window.createFileRoute=Ps,window.createLazyFileRoute=xs);function Ri({router:t,children:s,...e}){Object.keys(e).length>0&&t.update({...t.options,...e,context:{...t.options.context,...e.context}});const n=cn(),r=C.jsx(n.Provider,{value:t,children:s});return t.options.Wrap?C.jsx(t.options.Wrap,{children:r}):r}function Mo({router:t,...s}){return C.jsx(Ri,{router:t,...s,children:C.jsx(wi,{})})}function Eo(t){return j({select:s=>s.location})}var St=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xi={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},_i=class{#t=xi;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,s){return this.#t.setTimeout(t,s)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,s){return this.#t.setInterval(t,s)}clearInterval(t){this.#t.clearInterval(t)}},rt=new _i;function Ci(t){setTimeout(t,0)}var ht=typeof window>"u"||"Deno"in globalThis;function D(){}function Mi(t,s){return typeof t=="function"?t(s):t}function Ie(t){return typeof t=="number"&&t>=0&&t!==1/0}function hn(t,s){return Math.max(t+(s||0)-Date.now(),0)}function et(t,s){return typeof t=="function"?t(s):t}function W(t,s){return typeof t=="function"?t(s):t}function Cs(t,s){const{type:e="all",exact:n,fetchStatus:r,predicate:i,queryKey:a,stale:o}=t;if(a){if(n){if(s.queryHash!==Qe(a,s.options))return!1}else if(!kt(s.queryKey,a))return!1}if(e!=="all"){const c=s.isActive();if(e==="active"&&!c||e==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||r&&r!==s.state.fetchStatus||i&&!i(s))}function Ms(t,s){const{exact:e,status:n,predicate:r,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(e){if(dt(s.options.mutationKey)!==dt(i))return!1}else if(!kt(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||r&&!r(s))}function Qe(t,s){return(s?.queryKeyHashFn||dt)(t)}function dt(t){return JSON.stringify(t,(s,e)=>Te(e)?Object.keys(e).sort().reduce((n,r)=>(n[r]=e[r],n),{}):e)}function kt(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(e=>kt(t[e],s[e])):!1}var Ei=Object.prototype.hasOwnProperty;function dn(t,s){if(t===s)return t;const e=Es(t)&&Es(s);if(!e&&!(Te(t)&&Te(s)))return s;const r=(e?t:Object.keys(t)).length,i=e?s:Object.keys(s),a=i.length,o=e?new Array(a):{};let c=0;for(let u=0;u<a;u++){const h=e?u:i[u],d=t[h],l=s[h];if(d===l){o[h]=d,(e?u<r:Ei.call(t,h))&&c++;continue}if(d===null||l===null||typeof d!="object"||typeof l!="object"){o[h]=l;continue}const f=dn(d,l);o[h]=f,f===d&&c++}return r===a&&c===r?t:o}function Zt(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const e in t)if(t[e]!==s[e])return!1;return!0}function Es(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Te(t){if(!Os(t))return!1;const s=t.constructor;if(s===void 0)return!0;const e=s.prototype;return!(!Os(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Os(t){return Object.prototype.toString.call(t)==="[object Object]"}function Oi(t){return new Promise(s=>{rt.setTimeout(s,t)})}function ke(t,s,e){return typeof e.structuralSharing=="function"?e.structuralSharing(t,s):e.structuralSharing!==!1?dn(t,s):s}function Li(t,s,e=0){const n=[...t,s];return e&&n.length>e?n.slice(1):n}function Ii(t,s,e=0){const n=[s,...t];return e&&n.length>e?n.slice(0,-1):n}var qe=Symbol();function fn(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===qe?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Ve(t,s){return typeof t=="function"?t(...s):!!t}function Ti(t,s,e){let n=!1,r;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(r??=s(),n||(n=!0,r.aborted?e():r.addEventListener("abort",e,{once:!0})),r)}),t}var ki=class extends St{#t;#e;#s;constructor(){super(),this.#s=t=>{if(!ht&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Ge=new ki;function Fe(){let t,s;const e=new Promise((r,i)=>{t=r,s=i});e.status="pending",e.catch(()=>{});function n(r){Object.assign(e,r),delete e.resolve,delete e.reject}return e.resolve=r=>{n({status:"fulfilled",value:r}),t(r)},e.reject=r=>{n({status:"rejected",reason:r}),s(r)},e}var Fi=Ci;function Ai(){let t=[],s=0,e=o=>{o()},n=o=>{o()},r=Fi;const i=o=>{s?t.push(o):r(()=>{e(o)})},a=()=>{const o=t;t=[],o.length&&r(()=>{n(()=>{o.forEach(c=>{e(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{e=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{r=o}}}var k=Ai(),Di=class extends St{#t=!0;#e;#s;constructor(){super(),this.#s=t=>{if(!ht&&window.addEventListener){const s=()=>t(!0),e=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#s=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#t}},te=new Di;function ji(t){return Math.min(1e3*2**t,3e4)}function pn(t){return(t??"online")==="online"?te.isOnline():!0}var Ae=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function mn(t){let s=!1,e=0,n;const r=Fe(),i=()=>r.status!=="pending",a=m=>{if(!i()){const g=new Ae(m);l(g),t.onCancel?.(g)}},o=()=>{s=!0},c=()=>{s=!1},u=()=>Ge.isFocused()&&(t.networkMode==="always"||te.isOnline())&&t.canRun(),h=()=>pn(t.networkMode)&&t.canRun(),d=m=>{i()||(n?.(),r.resolve(m))},l=m=>{i()||(n?.(),r.reject(m))},f=()=>new Promise(m=>{n=g=>{(i()||u())&&m(g)},t.onPause?.()}).then(()=>{n=void 0,i()||t.onContinue?.()}),p=()=>{if(i())return;let m;const g=e===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(d).catch(w=>{if(i())return;const v=t.retry??(ht?0:3),P=t.retryDelay??ji,S=typeof P=="function"?P(e,w):P,M=v===!0||typeof v=="number"&&e<v||typeof v=="function"&&v(e,w);if(s||!M){l(w);return}e++,t.onFail?.(e,w),Oi(S).then(()=>u()?void 0:f()).then(()=>{s?l(w):p()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(n?.(),r),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?p():f().then(p),r)}}var gn=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ie(this.gcTime)&&(this.#t=rt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ht?1/0:300*1e3))}clearGcTimeout(){this.#t&&(rt.clearTimeout(this.#t),this.#t=void 0)}},Bi=class extends gn{#t;#e;#s;#r;#n;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#s=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=Is(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Is(this.options);s.data!==void 0&&(this.setState(Ls(s.data,s.dataUpdatedAt)),this.#t=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const e=ke(this.state.data,t,this.options);return this.#i({data:e,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),e}setState(t,s){this.#i({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#n?.promise;return this.#n?.cancel(t),s?s.then(D).catch(D):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>W(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qe||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>et(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hn(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,s){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const e=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,e.signal)})},r=()=>{const o=fn(this.options,s),u=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#a=!1,this.options.persister?this.options.persister(o,u,this):o(u)},a=(()=>{const o={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return n(o),o})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#n=mn({initialPromise:s?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof Ae&&o.revert&&this.setState({...this.#e,fetchStatus:"idle"}),e.abort()},onFail:(o,c)=>{this.#i({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Ae){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(t){const s=e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...yn(e.data,this.options),fetchMeta:t.meta??null};case"success":const n={...e,...Ls(t.data,t.dataUpdatedAt),dataUpdateCount:e.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":const r=t.error;return{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}};this.state=s(this.state),k.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function yn(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pn(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ls(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Is(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,e=s!==void 0,n=e?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Ui=class extends St{constructor(t,s){super(),this.options=s,this.#t=t,this.#i=null,this.#a=Fe(),this.bindMethods(),this.setOptions(s)}#t;#e=void 0;#s=void 0;#r=void 0;#n;#o;#a;#i;#m;#d;#f;#l;#u;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Ts(this.#e,this.options)?this.#h():this.updateResult(),this.#S())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return De(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return De(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#P(),this.#e.removeObserver(this)}setOptions(t){const s=this.options,e=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof W(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#e.setOptions(this.options),s._defaulted&&!Zt(this.options,s)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&ks(this.#e,e,this.options,s)&&this.#h(),this.updateResult(),n&&(this.#e!==e||W(this.options.enabled,this.#e)!==W(s.enabled,this.#e)||et(this.options.staleTime,this.#e)!==et(s.staleTime,this.#e))&&this.#g();const r=this.#y();n&&(this.#e!==e||W(this.options.enabled,this.#e)!==W(s.enabled,this.#e)||r!==this.#c)&&this.#v(r)}getOptimisticResult(t){const s=this.#t.getQueryCache().build(this.#t,t),e=this.createResult(s,t);return Ni(this,e)&&(this.#r=e,this.#o=this.options,this.#n=this.#e.state),e}getCurrentResult(){return this.#r}trackResult(t,s){return new Proxy(t,{get:(e,n)=>(this.trackProp(n),s?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#t.defaultQueryOptions(t),e=this.#t.getQueryCache().build(this.#t,s);return e.fetch().then(()=>this.createResult(e,s))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#b();let s=this.#e.fetch(this.options,t);return t?.throwOnError||(s=s.catch(D)),s}#g(){this.#w();const t=et(this.options.staleTime,this.#e);if(ht||this.#r.isStale||!Ie(t))return;const e=hn(this.#r.dataUpdatedAt,t)+1;this.#l=rt.setTimeout(()=>{this.#r.isStale||this.updateResult()},e)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#P(),this.#c=t,!(ht||W(this.options.enabled,this.#e)===!1||!Ie(this.#c)||this.#c===0)&&(this.#u=rt.setInterval(()=>{(this.options.refetchIntervalInBackground||Ge.isFocused())&&this.#h()},this.#c))}#S(){this.#g(),this.#v(this.#y())}#w(){this.#l&&(rt.clearTimeout(this.#l),this.#l=void 0)}#P(){this.#u&&(rt.clearInterval(this.#u),this.#u=void 0)}createResult(t,s){const e=this.#e,n=this.options,r=this.#r,i=this.#n,a=this.#o,c=t!==e?t.state:this.#s,{state:u}=t;let h={...u},d=!1,l;if(s._optimisticResults){const y=this.hasListeners(),b=!y&&Ts(t,s),E=y&&ks(t,e,s,n);(b||E)&&(h={...h,...yn(u.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:m}=h;l=h.data;let g=!1;if(s.placeholderData!==void 0&&l===void 0&&m==="pending"){let y;r?.isPlaceholderData&&s.placeholderData===a?.placeholderData?(y=r.data,g=!0):y=typeof s.placeholderData=="function"?s.placeholderData(this.#f?.state.data,this.#f):s.placeholderData,y!==void 0&&(m="success",l=ke(r?.data,y,s),d=!0)}if(s.select&&l!==void 0&&!g)if(r&&l===i?.data&&s.select===this.#m)l=this.#d;else try{this.#m=s.select,l=s.select(l),l=ke(r?.data,l,s),this.#d=l,this.#i=null}catch(y){this.#i=y}this.#i&&(f=this.#i,l=this.#d,p=Date.now(),m="error");const w=h.fetchStatus==="fetching",v=m==="pending",P=m==="error",S=v&&w,M=l!==void 0,_={status:m,fetchStatus:h.fetchStatus,isPending:v,isSuccess:m==="success",isError:P,isInitialLoading:S,isLoading:S,data:l,dataUpdatedAt:h.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!v,isLoadingError:P&&!M,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:P&&M,isStale:Je(t,s),refetch:this.refetch,promise:this.#a,isEnabled:W(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const y=O=>{_.status==="error"?O.reject(_.error):_.data!==void 0&&O.resolve(_.data)},b=()=>{const O=this.#a=_.promise=Fe();y(O)},E=this.#a;switch(E.status){case"pending":t.queryHash===e.queryHash&&y(E);break;case"fulfilled":(_.status==="error"||_.data!==E.value)&&b();break;case"rejected":(_.status!=="error"||_.error!==E.reason)&&b();break}}return _}updateResult(){const t=this.#r,s=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#o=this.options,this.#n.data!==void 0&&(this.#f=this.#e),Zt(s,t))return;this.#r=s;const e=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,r=typeof n=="function"?n():n;if(r==="all"||!r&&!this.#p.size)return!0;const i=new Set(r??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(a=>{const o=a;return this.#r[o]!==t[o]&&i.has(o)})};this.#R({listeners:e()})}#b(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const s=this.#e;this.#e=t,this.#s=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#S()}#R(t){k.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function zi(t,s){return W(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Ts(t,s){return zi(t,s)||t.state.data!==void 0&&De(t,s,s.refetchOnMount)}function De(t,s,e){if(W(s.enabled,t)!==!1&&et(s.staleTime,t)!=="static"){const n=typeof e=="function"?e(t):e;return n==="always"||n!==!1&&Je(t,s)}return!1}function ks(t,s,e,n){return(t!==s||W(n.enabled,t)===!1)&&(!e.suspense||t.state.status!=="error")&&Je(t,e)}function Je(t,s){return W(s.enabled,t)!==!1&&t.isStaleByTime(et(s.staleTime,t))}function Ni(t,s){return!Zt(t.getCurrentResult(),s)}function Fs(t){return{onFetch:(s,e)=>{const n=s.options,r=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],a=s.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const d=p=>{Ti(p,()=>s.signal,()=>h=!0)},l=fn(s.options,s.fetchOptions),f=async(p,m,g)=>{if(h)return Promise.reject();if(m==null&&p.pages.length)return Promise.resolve(p);const v=(()=>{const x={client:s.client,queryKey:s.queryKey,pageParam:m,direction:g?"backward":"forward",meta:s.options.meta};return d(x),x})(),P=await l(v),{maxPages:S}=s.options,M=g?Ii:Li;return{pages:M(p.pages,P,S),pageParams:M(p.pageParams,m,S)}};if(r&&i.length){const p=r==="backward",m=p?$i:As,g={pages:i,pageParams:a},w=m(n,g);o=await f(g,w,p)}else{const p=t??i.length;do{const m=c===0?a[0]??n.initialPageParam:As(n,o);if(c>0&&m==null)break;o=await f(o,m),c++}while(c<p)}return o};s.options.persister?s.fetchFn=()=>s.options.persister?.(u,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},e):s.fetchFn=u}}}function As(t,{pages:s,pageParams:e}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,e[n],e):void 0}function $i(t,{pages:s,pageParams:e}){return s.length>0?t.getPreviousPageParam?.(s[0],s,e[0],e):void 0}var Wi=class extends gn{#t;#e;#s;#r;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#e=[],this.state=t.state||vn(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(s=>s!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#n({type:"continue"})},e={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=mn({fn:()=>this.options.mutationFn?this.options.mutationFn(t,e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const n=this.state.status==="pending",r=!this.#r.canStart();try{if(n)s();else{this.#n({type:"pending",variables:t,isPaused:r}),await this.#s.config.onMutate?.(t,this,e);const a=await this.options.onMutate?.(t,e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:t,isPaused:r})}const i=await this.#r.start();return await this.#s.config.onSuccess?.(i,t,this.state.context,this,e),await this.options.onSuccess?.(i,t,this.state.context,e),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,e),await this.options.onSettled?.(i,null,t,this.state.context,e),this.#n({type:"success",data:i}),i}catch(i){try{await this.#s.config.onError?.(i,t,this.state.context,this,e)}catch(a){Promise.reject(a)}try{await this.options.onError?.(i,t,this.state.context,e)}catch(a){Promise.reject(a)}try{await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,e)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,i,t,this.state.context,e)}catch(a){Promise.reject(a)}throw this.#n({type:"error",error:i}),i}finally{this.#s.runNext(this)}}#n(t){const s=e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),k.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function vn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki=class extends St{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(t,s,e){const n=new Wi({client:t,mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:e});return this.add(n),n}add(t){this.#t.add(t);const s=Nt(t);if(typeof s=="string"){const e=this.#e.get(s);e?e.push(t):this.#e.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const s=Nt(t);if(typeof s=="string"){const e=this.#e.get(s);if(e)if(e.length>1){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}else e[0]===t&&this.#e.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Nt(t);if(typeof s=="string"){const n=this.#e.get(s)?.find(r=>r.state.status==="pending");return!n||n===t}else return!0}runNext(t){const s=Nt(t);return typeof s=="string"?this.#e.get(s)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){k.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const s={exact:!0,...t};return this.getAll().find(e=>Ms(s,e))}findAll(t={}){return this.getAll().filter(s=>Ms(t,s))}notify(t){k.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return k.batch(()=>Promise.all(t.map(s=>s.continue().catch(D))))}};function Nt(t){return t.options.scope?.id}var Hi=class extends St{#t;#e=void 0;#s;#r;constructor(t,s){super(),this.#t=t,this.setOptions(s),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const s=this.options;this.options=this.#t.defaultMutationOptions(t),Zt(this.options,s)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),s?.mutationKey&&this.options.mutationKey&&dt(s.mutationKey)!==dt(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#o()}mutate(t,s){return this.#r=s,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(t)}#n(){const t=this.#s?.state??vn();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){k.batch(()=>{if(this.#r&&this.hasListeners()){const s=this.#e.variables,e=this.#e.context,n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#r.onSuccess?.(t.data,s,e,n)}catch(r){Promise.reject(r)}try{this.#r.onSettled?.(t.data,null,s,e,n)}catch(r){Promise.reject(r)}}else if(t?.type==="error"){try{this.#r.onError?.(t.error,s,e,n)}catch(r){Promise.reject(r)}try{this.#r.onSettled?.(void 0,t.error,s,e,n)}catch(r){Promise.reject(r)}}}this.listeners.forEach(s=>{s(this.#e)})})}},Qi=class extends St{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,s,e){const n=s.queryKey,r=s.queryHash??Qe(n,s);let i=this.get(r);return i||(i=new Bi({client:t,queryKey:n,queryHash:r,options:t.defaultQueryOptions(s),state:e,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#t.get(t.queryHash);s&&(t.destroy(),s===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){k.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(e=>Cs(s,e))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(e=>Cs(t,e)):s}notify(t){k.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){k.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){k.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oo=class{#t;#e;#s;#r;#n;#o;#a;#i;constructor(t={}){this.#t=t.queryCache||new Qi,this.#e=t.mutationCache||new Ki,this.#s=t.defaultOptions||{},this.#r=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Ge.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=te.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#t.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),e=this.#t.build(this,s),n=e.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&e.isStaleByTime(et(s.staleTime,e))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:s,state:e})=>{const n=e.data;return[s,n]})}setQueryData(t,s,e){const n=this.defaultQueryOptions({queryKey:t}),i=this.#t.get(n.queryHash)?.state.data,a=Mi(s,i);if(a!==void 0)return this.#t.build(this,n).setData(a,{...e,manual:!0})}setQueriesData(t,s,e){return k.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,e)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#t.get(s.queryHash)?.state}removeQueries(t){const s=this.#t;k.batch(()=>{s.findAll(t).forEach(e=>{s.remove(e)})})}resetQueries(t,s){const e=this.#t;return k.batch(()=>(e.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const e={revert:!0,...s},n=k.batch(()=>this.#t.findAll(t).map(r=>r.cancel(e)));return Promise.all(n).then(D).catch(D)}invalidateQueries(t,s={}){return k.batch(()=>(this.#t.findAll(t).forEach(e=>{e.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const e={...s,cancelRefetch:s.cancelRefetch??!0},n=k.batch(()=>this.#t.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,e);return e.throwOnError||(i=i.catch(D)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(D)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const e=this.#t.build(this,s);return e.isStaleByTime(et(s.staleTime,e))?e.fetch(s):Promise.resolve(e.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(D).catch(D)}fetchInfiniteQuery(t){return t.behavior=Fs(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(D).catch(D)}ensureInfiniteQueryData(t){return t.behavior=Fs(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return te.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#r.set(dt(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#r.values()],e={};return s.forEach(n=>{kt(t,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(t,s){this.#n.set(dt(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#n.values()],e={};return s.forEach(n=>{kt(t,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Qe(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===qe&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Sn=R.createContext(void 0),wn=t=>{const s=R.useContext(Sn);if(t)return t;if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Lo=({client:t,children:s})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(Sn.Provider,{value:t,children:s})),Pn=R.createContext(!1),qi=()=>R.useContext(Pn);Pn.Provider;function Vi(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gi=R.createContext(Vi()),Ji=()=>R.useContext(Gi),Yi=(t,s,e)=>{const n=e?.state.error&&typeof t.throwOnError=="function"?Ve(t.throwOnError,[e.state.error,e]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(s.isReset()||(t.retryOnMount=!1))},Xi=t=>{R.useEffect(()=>{t.clearReset()},[t])},Zi=({result:t,errorResetBoundary:s,throwOnError:e,query:n,suspense:r})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(r&&t.data===void 0||Ve(e,[t.error,n])),to=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},eo=(t,s)=>t.isLoading&&t.isFetching&&!s,so=(t,s)=>t?.suspense&&s.isPending,Ds=(t,s,e)=>s.fetchOptimistic(t).catch(()=>{e.clearReset()});function no(t,s,e){const n=qi(),r=Ji(),i=wn(e),a=i.defaultQueryOptions(t);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",to(a),Yi(a,r,o),Xi(r);const c=!i.getQueryCache().get(a.queryHash),[u]=R.useState(()=>new s(i,a)),h=u.getOptimisticResult(a),d=!n&&t.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(l=>{const f=d?u.subscribe(k.batchCalls(l)):D;return u.updateResult(),f},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),R.useEffect(()=>{u.setOptions(a)},[a,u]),so(a,h))throw Ds(a,u,r);if(Zi({result:h,errorResetBoundary:r,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw h.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!ht&&eo(h,n)&&(c?Ds(a,u,r):o?.promise)?.catch(D).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?h:u.trackResult(h)}function Io(t,s){return no(t,Ui,s)}function To(t,s){const e=wn(s),[n]=R.useState(()=>new Hi(e,t));R.useEffect(()=>{n.setOptions(t)},[n,t]);const r=R.useSyncExternalStore(R.useCallback(a=>n.subscribe(k.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=R.useCallback((a,o)=>{n.mutate(a,o).catch(D)},[n]);if(r.error&&Ve(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}function pt(t,s,e){let n=e.initialDeps??[],r,i=!0;function a(){var o,c,u;let h;e.key&&((o=e.debug)!=null&&o.call(e))&&(h=Date.now());const d=t();if(!(d.length!==n.length||d.some((p,m)=>n[m]!==p)))return r;n=d;let f;if(e.key&&((c=e.debug)!=null&&c.call(e))&&(f=Date.now()),r=s(...d),e.key&&((u=e.debug)!=null&&u.call(e))){const p=Math.round((Date.now()-h)*100)/100,m=Math.round((Date.now()-f)*100)/100,g=m/16,w=(v,P)=>{for(v=String(v);v.length<P;)v=" "+v;return v};console.info(`%c ${w(m,5)} /${w(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,e?.key)}return e?.onChange&&!(i&&e.skipInitialOnChange)&&e.onChange(r),i=!1,r}return a.updateDeps=o=>{n=o},a}function js(t,s){if(t===void 0)throw new Error("Unexpected undefined");return t}const ro=(t,s)=>Math.abs(t-s)<1.01,io=(t,s,e)=>{let n;return function(...r){t.clearTimeout(n),n=t.setTimeout(()=>s.apply(this,r),e)}},Bs=t=>{const{offsetWidth:s,offsetHeight:e}=t;return{width:s,height:e}},oo=t=>t,ao=t=>{const s=Math.max(t.startIndex-t.overscan,0),e=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let r=s;r<=e;r++)n.push(r);return n},co=(t,s)=>{const e=t.scrollElement;if(!e)return;const n=t.targetWindow;if(!n)return;const r=a=>{const{width:o,height:c}=a;s({width:Math.round(o),height:Math.round(c)})};if(r(Bs(e)),!n.ResizeObserver)return()=>{};const i=new n.ResizeObserver(a=>{const o=()=>{const c=a[0];if(c?.borderBoxSize){const u=c.borderBoxSize[0];if(u){r({width:u.inlineSize,height:u.blockSize});return}}r(Bs(e))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(e,{box:"border-box"}),()=>{i.unobserve(e)}},Us={passive:!0},zs=typeof window>"u"?!0:"onscrollend"in window,lo=(t,s)=>{const e=t.scrollElement;if(!e)return;const n=t.targetWindow;if(!n)return;let r=0;const i=t.options.useScrollendEvent&&zs?()=>{}:io(n,()=>{s(r,!1)},t.options.isScrollingResetDelay),a=h=>()=>{const{horizontal:d,isRtl:l}=t.options;r=d?e.scrollLeft*(l&&-1||1):e.scrollTop,i(),s(r,h)},o=a(!0),c=a(!1);e.addEventListener("scroll",o,Us);const u=t.options.useScrollendEvent&&zs;return u&&e.addEventListener("scrollend",c,Us),()=>{e.removeEventListener("scroll",o),u&&e.removeEventListener("scrollend",c)}},uo=(t,s,e)=>{if(s?.borderBoxSize){const n=s.borderBoxSize[0];if(n)return Math.round(n[e.options.horizontal?"inlineSize":"blockSize"])}return t[e.options.horizontal?"offsetWidth":"offsetHeight"]},ho=(t,{adjustments:s=0,behavior:e},n)=>{var r,i;const a=t+s;(i=(r=n.scrollElement)==null?void 0:r.scrollTo)==null||i.call(r,{[n.options.horizontal?"left":"top"]:a,behavior:e})};class fo{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const n=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(r=>{r.forEach(i=>{const a=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var r;(r=n())==null||r.disconnect(),e=null},observe:r=>{var i;return(i=n())==null?void 0:i.observe(r,{box:"border-box"})},unobserve:r=>{var i;return(i=n())==null?void 0:i.unobserve(r)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([n,r])=>{typeof r>"u"&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:oo,rangeExtractor:ao,onChange:()=>{},measureElement:uo,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var n,r;(r=(n=this.options).onChange)==null||r.call(n,this,e)},this.maybeNotify=pt(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=i,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,n)=>{const r=new Map,i=new Map;for(let a=n-1;a>=0;a--){const o=e[a];if(r.has(o.lane))continue;const c=i.get(o.lane);if(c==null||o.end>c.end?i.set(o.lane,o):o.end<c.end&&r.set(o.lane,!0),r.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=pt(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,n,r,i,a,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:r,getItemKey:i,enabled:a,lanes:o}),{key:!1}),this.getMeasurements=pt(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:n,scrollMargin:r,getItemKey:i,enabled:a,lanes:o},c)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(const l of this.laneAssignments.keys())l>=e&&this.laneAssignments.delete(l);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(l=>{this.itemSizeCache.set(l.key,l.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);const h=this.measurementsCache.slice(0,u),d=new Array(o).fill(void 0);for(let l=0;l<u;l++){const f=h[l];f&&(d[f.lane]=l)}for(let l=u;l<e;l++){const f=i(l),p=this.laneAssignments.get(l);let m,g;if(p!==void 0&&this.options.lanes>1){m=p;const S=d[m],M=S!==void 0?h[S]:void 0;g=M?M.end+this.options.gap:n+r}else{const S=this.options.lanes===1?h[l-1]:this.getFurthestMeasurement(h,l);g=S?S.end+this.options.gap:n+r,m=S?S.lane:l%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(l,m)}const w=c.get(f),v=typeof w=="number"?w:this.options.estimateSize(l),P=g+v;h[l]={index:l,start:g,size:v,end:P,key:f,lane:m},d[m]=l}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=pt(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,n,r,i)=>this.range=e.length>0&&n>0?po({measurements:e,outerSize:n,scrollOffset:r,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=pt(()=>{let e=null,n=null;const r=this.calculateRange();return r&&(e=r.startIndex,n=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,n]},(e,n,r,i,a)=>i===null||a===null?[]:e({startIndex:i,endIndex:a,overscan:n,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const n=this.options.indexAttribute,r=e.getAttribute(n);return r?parseInt(r,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(e,n)=>{const r=this.indexFromElement(e),i=this.measurementsCache[r];if(!i)return;const a=i.key,o=this.elementsCache.get(a);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(a,e)),e.isConnected&&this.resizeItem(r,this.options.measureElement(e,n,this))},this.resizeItem=(e,n)=>{const r=this.measurementsCache[e];if(!r)return;const i=this.itemSizeCache.get(r.key)??r.size,a=n-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,a,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,n)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((n,r)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(r))});return}this._measureElement(e,void 0)},this.getVirtualItems=pt(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,n)=>{const r=[];for(let i=0,a=e.length;i<a;i++){const o=e[i],c=n[o];r.push(c)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const n=this.getMeasurements();if(n.length!==0)return js(n[bn(0,n.length-1,r=>js(n[r]).start,e)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const e=this.scrollElement.document.documentElement;return this.options.horizontal?e.scrollWidth-this.scrollElement.innerWidth:e.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(e,n,r=0)=>{if(!this.scrollElement)return 0;const i=this.getSize(),a=this.getScrollOffset();n==="auto"&&(n=e>=a+i?"end":"start"),n==="center"?e+=(r-i)/2:n==="end"&&(e-=i);const o=this.getMaxScrollOffset();return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,n="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const r=this.measurementsCache[e];if(!r)return;const i=this.getSize(),a=this.getScrollOffset();if(n==="auto")if(r.end>=a+i-this.options.scrollPaddingEnd)n="end";else if(r.start<=a+this.options.scrollPaddingStart)n="start";else return[a,n];if(n==="end"&&e===this.options.count-1)return[this.getMaxScrollOffset(),n];const o=n==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,n,r.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:n="start",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:r})},this.scrollToIndex=(e,{align:n="auto",behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1)),this.currentScrollToIndex=e;let i=0;const a=10,o=u=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(e,u);if(!h){console.warn("Failed to get offset for index:",e);return}const[d,l]=h;this._scrollToOffset(d,{adjustments:void 0,behavior:r}),this.targetWindow.requestAnimationFrame(()=>{const f=()=>{if(this.currentScrollToIndex!==e)return;const p=this.getScrollOffset(),m=this.getOffsetForIndex(e,l);if(!m){console.warn("Failed to get offset for index:",e);return}ro(m[0],p)||c(l)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(f):f()})},c=u=>{this.targetWindow&&this.currentScrollToIndex===e&&(i++,i<a?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${e} after ${a} attempts.`))};o(n)},this.scrollBy=(e,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const n=this.getMeasurements();let r;if(n.length===0)r=this.options.paddingStart;else if(this.options.lanes===1)r=((e=n[n.length-1])==null?void 0:e.end)??0;else{const i=Array(this.options.lanes).fill(null);let a=n.length-1;for(;a>=0&&i.some(o=>o===null);){const o=n[a];i[o.lane]===null&&(i[o.lane]=o.end),a--}r=Math.max(...i.filter(o=>o!==null))}return Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:n,behavior:r})=>{this.options.scrollToFn(e,{behavior:r,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(s)}}const bn=(t,s,e,n)=>{for(;t<=s;){const r=(t+s)/2|0,i=e(r);if(i<n)t=r+1;else if(i>n)s=r-1;else return r}return t>0?t-1:0};function po({measurements:t,outerSize:s,scrollOffset:e,lanes:n}){const r=t.length-1,i=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:r};let a=bn(0,r,i,e),o=a;if(n===1)for(;o<r&&t[o].end<e+s;)o++;else if(n>1){const c=Array(n).fill(0);for(;o<r&&c.some(h=>h<e+s);){const h=t[o];c[h.lane]=h.end,o++}const u=Array(n).fill(e+s);for(;a>=0&&u.some(h=>h>=e);){const h=t[a];u[h.lane]=h.start,a--}a=Math.max(0,a-a%n),o=Math.min(r,o+(n-1-o%n))}return{startIndex:a,endIndex:o}}const Ns=typeof document<"u"?R.useLayoutEffect:R.useEffect;function mo({useFlushSync:t=!0,...s}){const e=R.useReducer(()=>({}),{})[1],n={...s,onChange:(i,a)=>{var o;t&&a?Ke.flushSync(e):e(),(o=s.onChange)==null||o.call(s,i,a)}},[r]=R.useState(()=>new fo(n));return r.setOptions(n),Ns(()=>r._didMount(),[]),Ns(()=>r._willUpdate()),r}function ko(t){return mo({observeElementRect:co,observeElementOffset:lo,scrollToFn:ho,...t})}export{He as L,Si as O,Oo as Q,kn as R,R as a,Ke as b,ct as c,bo as d,Lo as e,le as f,ko as g,Eo as h,ae as i,C as j,xo as k,B as l,Ps as m,_o as n,Js as o,Po as p,Co as q,Vr as r,Mo as s,Ro as t,Io as u,wn as v,Yr as w,To as x};
