import{j as r,a as A,f as ze,s as De}from"./tanstack-vendor-X9tglsqn.js";import{c as y,a as b,B as Ee,b as ie,V as be,C as fe,u as Se,d as Be,e as Ge,M as Ke}from"./index-BKFXkr8z.js";import{v as Oe,a9 as Ue,aa as Ye,c as He,ab as Re,r as We,R as qe,q as Xe,p as Pe,T as Me,F as $e}from"./ui-vendor-t9Z9dju3.js";import{I as Je}from"./ItemImage-CKE-AbWu.js";import{g as Te,F as Qe}from"./feature-error-boundary-B9XhZ3Qj.js";import{u as Ze,p as et}from"./use-vibrant-color-B2OXiui0.js";import{u as Fe}from"./i18n-vendor-CRTJ2_er.js";import{o as tt,s as ke,d as st}from"./react-vendor-CePOuxPV.js";import"./jellyfin-vendor-CNS50kak.js";import"./media-vendor-CUSAIUeh.js";function it(t){const e=y.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("mx-auto flex w-full justify-center",s),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=r.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:a,...i}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}function at(t){const e=y.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("gap-1 flex items-center",s),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=r.jsx("ul",{"data-slot":"pagination-content",className:a,...i}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}function ye(t){const e=y.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let i;return e[2]!==s?(i=r.jsx("li",{"data-slot":"pagination-item",...s}),e[2]=s,e[3]=i):i=e[3],i}function Ae(t){const e=y.c(16);let s,i,a,l;e[0]!==t?({className:s,isActive:i,size:l,...a}=t,e[0]=t,e[1]=s,e[2]=i,e[3]=a,e[4]=l):(s=e[1],i=e[2],a=e[3],l=e[4]);const o=l===void 0?"icon":l,n=i?"outline":"ghost";let u;e[5]!==s?(u=b("min-h-11 min-w-11",s),e[5]=s,e[6]=u):u=e[6];const j=i?"page":void 0;let x;e[7]!==i||e[8]!==a||e[9]!==j?(x=r.jsx("a",{"aria-current":j,"data-slot":"pagination-link","data-active":i,...a}),e[7]=i,e[8]=a,e[9]=j,e[10]=x):x=e[10];let v;return e[11]!==o||e[12]!==n||e[13]!==u||e[14]!==x?(v=r.jsx(Ee,{variant:n,size:o,className:u,nativeButton:!1,render:x}),e[11]=o,e[12]=n,e[13]=u,e[14]=x,e[15]=v):v=e[15],v}function lt(t){const e=y.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("pl-2!",s),e[3]=s,e[4]=a):a=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx(Oe,{"data-icon":"inline-start"}),o=r.jsx("span",{className:"hidden sm:block",children:"Previous"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let n;return e[7]!==i||e[8]!==a?(n=r.jsxs(Ae,{"aria-label":"Go to previous page",size:"default",className:a,...i,children:[l,o]}),e[7]=i,e[8]=a,e[9]=n):n=e[9],n}function nt(t){const e=y.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("pr-2!",s),e[3]=s,e[4]=a):a=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx("span",{className:"hidden sm:block",children:"Next"}),o=r.jsx(Ue,{"data-icon":"inline-end"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let n;return e[7]!==i||e[8]!==a?(n=r.jsxs(Ae,{"aria-label":"Go to next page",size:"default",className:a,...i,children:[l,o]}),e[7]=i,e[8]=a,e[9]=n):n=e[9],n}function rt(t){const e=y.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("min-h-11 min-w-11 items-center justify-center [&_svg:not([class*='size-'])]:size-4 flex items-center justify-center",s),e[3]=s,e[4]=a):a=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx(Ye,{"aria-hidden":"true"}),o=r.jsx("span",{className:"sr-only",children:"More pages"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let n;return e[7]!==i||e[8]!==a?(n=r.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:a,...i,children:[l,o]}),e[7]=i,e[8]=a,e[9]=n):n=e[9],n}function ot(t){const e=y.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("gap-4 rounded-lg border-dashed p-12 flex w-full min-w-0 flex-1 flex-col items-center justify-center text-center text-balance",s),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=r.jsx("div",{"data-slot":"empty",className:a,...i}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}function ct(t){const e=y.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("gap-2 flex max-w-sm flex-col items-center",s),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=r.jsx("div",{"data-slot":"empty-header",className:a,...i}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}const dt=He("mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});function mt(t){const e=y.c(11);let s,i,a;e[0]!==t?({className:s,variant:a,...i}=t,e[0]=t,e[1]=s,e[2]=i,e[3]=a):(s=e[1],i=e[2],a=e[3]);const l=a===void 0?"default":a;let o;e[4]!==s||e[5]!==l?(o=b(dt({variant:l,className:s})),e[4]=s,e[5]=l,e[6]=o):o=e[6];let n;return e[7]!==i||e[8]!==o||e[9]!==l?(n=r.jsx("div",{"data-slot":"empty-icon","data-variant":l,className:o,...i}),e[7]=i,e[8]=o,e[9]=l,e[10]=n):n=e[10],n}function ft(t){const e=y.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("text-lg font-medium tracking-tight",s),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=r.jsx("div",{"data-slot":"empty-title",className:a,...i}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}function ut(t){const e=y.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("text-sm/relaxed text-muted-foreground [&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",s),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=r.jsx("div",{"data-slot":"empty-description",className:a,...i}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}function pt(t){const e=y.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let a;e[3]!==s?(a=b("gap-4 text-sm flex w-full max-w-sm min-w-0 flex-col items-center text-balance",s),e[3]=s,e[4]=a):a=e[4];let l;return e[5]!==i||e[6]!==a?(l=r.jsx("div",{"data-slot":"empty-content",className:a,...i}),e[5]=i,e[6]=a,e[7]=l):l=e[7],l}const xt={ArrowRight:(t,e,s)=>Math.min(t+1,s-1),ArrowLeft:t=>Math.max(t-1,0),ArrowDown:(t,e,s)=>Math.min(t+e,s-1),ArrowUp:(t,e)=>Math.max(t-e,0),Home:(t,e,s,i)=>i?0:Math.floor(t/e)*e,End:(t,e,s,i)=>i?s-1:Math.min(Math.floor(t/e)*e+e-1,s-1),PageDown:(t,e,s)=>Math.min(t+e*3,s-1),PageUp:(t,e)=>Math.max(t-e*3,0)};function ht(t){const e=y.c(27),{itemCount:s,columns:i,enabled:a,onActivate:l}=t,o=a===void 0?!0:a,[n,u]=A.useState(-1),j=A.useRef(null);let x,v;e[0]!==n||e[1]!==s?(x=()=>{s===0?u(-1):n>=s&&u(s-1)},v=[s,n],e[0]=n,e[1]=s,e[2]=x,e[3]=v):(x=e[2],v=e[3]),A.useEffect(x,v);let E,N;e[4]!==o||e[5]!==n?(E=()=>{if(!o||n<0||!j.current)return;const h=j.current.querySelector(`[data-grid-index="${n}"]`);h&&document.activeElement!==h&&h.focus({preventScroll:!0})},N=[n,o],e[4]=o,e[5]=n,e[6]=E,e[7]=N):(E=e[6],N=e[7]),A.useEffect(E,N);let P;e[8]!==i||e[9]!==o||e[10]!==n||e[11]!==s||e[12]!==l?(P=h=>{if(!o||s===0)return;if((h.key==="Enter"||h.key===" ")&&n>=0){h.preventDefault(),l?.(n);return}const _=xt[h.key];if(!_)return;const B=n<0?0:n,G=_(B,i,s,h.ctrlKey);G!==B&&(h.preventDefault(),u(G))},e[8]=i,e[9]=o,e[10]=n,e[11]=s,e[12]=l,e[13]=P):P=e[13];const $=P;let S;e[14]!==n||e[15]!==s?(S=()=>{n<0&&s>0&&u(0)},e[14]=n,e[15]=s,e[16]=S):S=e[16];const I=S;let m;e[17]!==n?(m=h=>({role:"gridcell",tabIndex:n===h?0:-1,"data-grid-index":h,"aria-selected":n===h,onFocus:()=>u(h)}),e[17]=n,e[18]=m):m=e[18];const k=m,M=n<0&&s>0?0:-1;let C;e[19]!==I||e[20]!==$||e[21]!==M?(C={role:"grid","aria-label":"Media items grid",tabIndex:M,onKeyDown:$,onFocus:I},e[19]=I,e[20]=$,e[21]=M,e[22]=C):C=e[22];let w;return e[23]!==n||e[24]!==k||e[25]!==C?(w={focusedIndex:n,setFocusedIndex:u,gridProps:C,getItemProps:k,gridRef:j},e[23]=n,e[24]=k,e[25]=C,e[26]=w):w=e[26],w}const _e={[ie.Series]:"/series/$itemId",[ie.MusicArtist]:"/artist/$itemId",[ie.MusicAlbum]:"/album/$itemId"};function Ve(t){const e=t.Id??"",s=_e[t.Type??""]??"/player/$itemId",i=!_e[t.Type??""];return{to:s,params:{itemId:e},...i&&{search:{fetchSegments:"true"}}}}const gt={[ie.Series]:"accessibility.mediaCard.viewSeries",[ie.MusicArtist]:"accessibility.mediaCard.viewArtist",[ie.MusicAlbum]:"accessibility.mediaCard.viewAlbum",[ie.Movie]:"accessibility.mediaCard.playMovie",[ie.Episode]:"accessibility.mediaCard.playEpisode"},vt=300,bt=30,yt=A.memo(function(e){const s=y.c(57),{item:i,className:a,index:l,tabIndex:o,role:n,"data-grid-index":u,"aria-selected":j,onFocus:x}=e,v=l===void 0?0:l,E=o===void 0?0:o,N=n===void 0?"gridcell":n,{t:P}=Fe(),$=ze();let S;s[0]!==i?(S=Te(i,200),s[0]=i,s[1]=S):S=s[1];const m=Ze(S??null);let k;s[2]!==i||s[3]!==$?(k=()=>{const W=Ve(i);$(W)},s[2]=i,s[3]=$,s[4]=k):k=s[4];const M=k;let C;s[5]!==M?(C=W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),M())},s[5]=M,s[6]=C):C=s[6];const w=C,h=i.Name??"Unknown",_=i.ProductionYear?` (${i.ProductionYear})`:"",B=gt[i.Type??""]??"accessibility.mediaCard.play",G=`${h}${_}`;let q;s[7]!==B||s[8]!==P||s[9]!==G?(q=P(B,{name:G}),s[7]=B,s[8]=P,s[9]=G,s[10]=q):q=s[10];const L=q,g=Math.min(v*bt,vt);let d;s[11]!==m?(d=m?{background:m.primary,color:m.text}:void 0,s[11]=m,s[12]=d):d=s[12];const ae=d;let f;s[13]!==g||s[14]!==m?.primary?(f=()=>({animationDelay:`${g}ms`,backgroundColor:m?.primary??"var(--card)"}),s[13]=g,s[14]=m?.primary,s[15]=f):f=s[15],m?.primary;let Y;s[16]!==f?(Y=f(),s[16]=f,s[17]=Y):Y=s[17];const le=Y;let X;s[18]!==m?(X=m?{color:m.text}:void 0,s[18]=m,s[19]=X):X=s[19];const z=X;let R;s[20]!==v||s[21]!==x?(R=()=>{x?.(v)},s[20]=v,s[21]=x,s[22]=R):R=s[22];const ne=R;let K;s[23]!==a?(K=b("group cursor-pointer rounded-2xl overflow-hidden min-h-[44px]","transition-all duration-300 ease-out","hover:scale-[1.03] hover:shadow-xl hover:shadow-black/20","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","animate-in fade-in slide-in-from-bottom-3 duration-400 fill-mode-both",a),s[23]=a,s[24]=K):K=s[24];let O;s[25]!==i?(O=r.jsx(Je,{item:i,maxWidth:200,aspectRatio:"aspect-[2/3]",className:"w-full"}),s[25]=i,s[26]=O):O=s[26];const J=!m&&"text-foreground group-hover:text-primary";let U;s[27]!==J?(U=b("text-sm md:text-base font-semibold line-clamp-2 leading-snug h-[2.5em]",J),s[27]=J,s[28]=U):U=s[28];const Q=i.Name||void 0,Z=i.Name||"Unknown";let T;s[29]!==U||s[30]!==Q||s[31]!==Z||s[32]!==z?(T=r.jsx("p",{className:U,style:z,title:Q,children:Z}),s[29]=U,s[30]=Q,s[31]=Z,s[32]=z,s[33]=T):T=s[33];const ee=!m&&"text-muted-foreground";let F;s[34]!==ee?(F=b("text-xs md:text-sm opacity-70 font-medium h-[1.25em]",ee),s[34]=ee,s[35]=F):F=s[35];const te=i.ProductionYear??"Â ";let V;s[36]!==F||s[37]!==te||s[38]!==z?(V=r.jsx("p",{className:F,style:z,children:te}),s[36]=F,s[37]=te,s[38]=z,s[39]=V):V=s[39];let D;s[40]!==T||s[41]!==V||s[42]!==ae?(D=r.jsxs("div",{className:"px-3 py-2.5 md:px-4 md:py-3 transition-colors duration-500",style:ae,children:[T,V]}),s[40]=T,s[41]=V,s[42]=ae,s[43]=D):D=s[43];let H;return s[44]!==L||s[45]!==j||s[46]!==le||s[47]!==u||s[48]!==M||s[49]!==ne||s[50]!==w||s[51]!==N||s[52]!==K||s[53]!==O||s[54]!==D||s[55]!==E?(H=r.jsxs("div",{role:N,tabIndex:E,"data-grid-index":u,"aria-selected":j,onClick:M,onKeyDown:w,onFocus:ne,"aria-label":L,className:K,style:le,children:[O,D]}),s[44]=L,s[45]=j,s[46]=le,s[47]=u,s[48]=M,s[49]=ne,s[50]=w,s[51]=N,s[52]=K,s[53]=O,s[54]=D,s[55]=E,s[56]=H):H=s[56],H});function jt(t){return t>=be.xl?fe.xl:t>=be.lg?fe.lg:t>=be.md?fe.md:t>=be.sm?fe.sm:fe.default}const Nt=t=>t.pageSize,Ct=t=>t.setSelectedCollectionId,wt=t=>t.setSearchFilter,It={movie:$e,film:$e,series:Me,tv:Me,show:Me,music:Pe,artist:Pe},St=t=>{const e=t.toLowerCase();return Object.entries(It).find(([s])=>e.includes(s))?.[1]??Re},Le="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-6";function Mt(){const t=y.c(2),[e,s]=A.useState(fe.default);let i,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{const l=new AbortController;let o=null;const n=()=>{s(jt(window.innerWidth))};return n(),window.addEventListener("resize",()=>{o&&clearTimeout(o),o=setTimeout(n,150)},{signal:l.signal}),()=>{l.abort(),o&&clearTimeout(o)}},a=[],t[0]=i,t[1]=a):(i=t[0],a=t[1]),A.useEffect(i,a),e}function Et(t,e){const s=[],i=Math.max(2,t-1),a=Math.min(e-1,t+1);t>3&&s.push("ellipsis");for(let l=i;l<=a;l++)s.push(l);return t<e-2&&s.push("ellipsis"),s}function At(t,e){if(e<=7)return Array.from({length:e},(i,a)=>a+1);const s=[1];return s.push(...Et(t,e)),e>1&&s.push(e),s}const Pt=De("/");function $t(){const t=y.c(93),{t:e}=Fe(),s=ze(),{collection:i,page:a,search:l}=Pt.useSearch(),o=a??1,n=Se(Nt),u=Se(Ct),j=Se(wt);let x,v;t[0]!==l||t[1]!==i||t[2]!==u||t[3]!==j?(x=()=>{u(i??null),j(l??"")},v=[i,l,u,j],t[0]=l,t[1]=i,t[2]=u,t[3]=j,t[4]=x,t[5]=v):(x=t[4],v=t[5]),A.useEffect(x,v);let E;t[6]!==s?(E=c=>{s({to:"/",search:p=>({...p,page:c>1?c:void 0}),replace:!0})},t[6]=s,t[7]=E):E=t[7];const N=E,P=Mt(),{data:$,isLoading:S,error:I,refetch:m}=Be(),k=i??"",M=!!i;let C;t[8]!==l||t[9]!==k||t[10]!==M?(C={parentId:k,nameFilter:l,enabled:M},t[8]=l,t[9]=k,t[10]=M,t[11]=C):C=t[11];const{data:w,isLoading:h,error:_,refetch:B}=Ge(C);let G;e:{if(!$){let p;t[12]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[12]=p):p=t[12],G=p;break e}let c;t[13]!==$?(c=$.map(_t),t[13]=$,t[14]=c):c=t[14],G=c}const q=G,L=w?.length??0,g=Math.max(1,Math.ceil(L/n)),d=Math.min(Math.max(1,o),g);let ae;e:{if(!w){let se;t[15]===Symbol.for("react.memo_cache_sentinel")?(se=[],t[15]=se):se=t[15],ae=se;break e}const c=(d-1)*n;let p;t[16]!==w||t[17]!==n||t[18]!==c?(p=w.slice(c,c+n),t[16]=w,t[17]=n,t[18]=c,t[19]=p):p=t[19],ae=p}const f=ae;let Y;t[20]!==s||t[21]!==f?(Y=c=>{const p=f[c];s(Ve(p))},t[20]=s,t[21]=f,t[22]=Y):Y=t[22];const le=Y,X=f.length>0;let z;t[23]!==P||t[24]!==le||t[25]!==f.length||t[26]!==X?(z={itemCount:f.length,columns:P,enabled:X,onActivate:le},t[23]=P,t[24]=le,t[25]=f.length,t[26]=X,t[27]=z):z=t[27];const{setFocusedIndex:R,gridProps:ne,getItemProps:K,gridRef:O}=ht(z);let J;t[28]===Symbol.for("react.memo_cache_sentinel")?(J=new Set,t[28]=J):J=t[28];const U=A.useRef(J);let Q;t[29]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{U.current.clear()},t[29]=Q):Q=t[29];let Z;t[30]!==i?(Z=[i],t[30]=i,t[31]=Z):Z=t[31],A.useEffect(Q,Z);let T,ee;t[32]!==f?(T=()=>{if(f.length===0)return;const c=new AbortController,p=setTimeout(()=>{if(c.signal.aborted)return;const se=f.map(kt).filter(ve=>!!ve&&!U.current.has(ve));se.length>0&&(se.forEach(ve=>U.current.add(ve)),et(se))},100);return()=>{c.abort(),clearTimeout(p)}},ee=[f],t[32]=f,t[33]=T,t[34]=ee):(T=t[33],ee=t[34]),A.useEffect(T,ee);let F,te;t[35]!==o||t[36]!==N||t[37]!==g?(F=()=>{o>g&&g>0&&N(g)},te=[o,g,N],t[35]=o,t[36]=N,t[37]=g,t[38]=F,t[39]=te):(F=t[38],te=t[39]),A.useEffect(F,te);let V;t[40]!==R?(V=()=>{R(-1)},t[40]=R,t[41]=V):V=t[41];let D;t[42]!==R||t[43]!==d?(D=[d,R],t[42]=R,t[43]=d,t[44]=D):D=t[44],A.useEffect(V,D);let H;t[45]!==s?(H=c=>{s({to:"/",search:{collection:c??void 0,page:void 0,search:void 0},replace:!0})},t[45]=s,t[46]=H):H=t[46];const W=H;let pe;t[47]!==N?(pe=c=>{N(c),window.scrollTo({top:0,behavior:"smooth"})},t[47]=N,t[48]=pe):pe=t[48];const ue=pe;let xe;t[49]!==I||t[50]!==m||t[51]!==B?(xe=()=>{I?m():B()},t[49]=I,t[50]=m,t[51]=B,t[52]=xe):xe=t[52];const je=xe;let he;t[53]!==g||t[54]!==d?(he=At(d,g),t[53]=g,t[54]=d,t[55]=he):he=t[55];const Ne=he,Ce=S||i&&!_&&h&&!w,we=I||_,Ie=i&&!h&&!_&&w?.length===0;let re;t[56]!==q||t[57]!==I||t[58]!==S||t[59]!==W||t[60]!==i||t[61]!==e?(re=!i&&!S&&!I&&r.jsx("div",{className:"flex items-center justify-center min-h-[var(--spacing-empty-state-min-height)]",children:r.jsxs(ot,{className:"border-none bg-transparent",children:[r.jsxs(ct,{children:[r.jsx(mt,{variant:"icon",children:r.jsx(Re,{className:"size-12","aria-hidden":"true"})}),r.jsx(ft,{className:"text-2xl",children:e("items.selectLibrary",{defaultValue:"Select a Library"})}),r.jsx(ut,{className:"text-base",children:e("items.selectLibraryDescription",{defaultValue:"Choose a library to browse your media collection"})})]}),r.jsx(pt,{children:r.jsx("div",{className:"flex flex-wrap gap-3 justify-center mt-4",role:"group","aria-label":e("items.selectLibrary",{defaultValue:"Select a Library"}),children:q.map(c=>{const p=St(c.name);return r.jsxs(Ee,{variant:"secondary",size:"lg",className:b("gap-3 min-w-[var(--spacing-library-button-min)] h-14","rounded-2xl text-base font-medium","border border-border/50","transition-all duration-200","hover:scale-[1.02] active:scale-[0.98]"),onClick:()=>W(c.id),"aria-label":e("items.selectLibraryButton",{name:c.name,defaultValue:`Browse ${c.name} library`}),children:[r.jsx(p,{className:"size-5","aria-hidden":"true"}),c.name]},c.id)})})})]})}),t[56]=q,t[57]=I,t[58]=S,t[59]=W,t[60]=i,t[61]=e,t[62]=re):re=t[62];let oe;t[63]!==n||t[64]!==Ce?(oe=Ce&&r.jsx(Ke,{count:n,gridClassName:Le}),t[63]=n,t[64]=Ce,t[65]=oe):oe=t[65];let ce;t[66]!==I?.message||t[67]!==je||t[68]!==_?.message||t[69]!==we||t[70]!==e?(ce=we&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",role:"alert","aria-live":"assertive",children:[r.jsx("div",{className:"size-16 rounded-full bg-destructive/10 flex items-center justify-center",children:r.jsx(We,{className:"size-8 text-destructive","aria-hidden":"true"})}),r.jsx("p",{className:"text-destructive text-center text-lg",children:I?.message||_?.message}),r.jsxs(Ee,{variant:"secondary",size:"lg",className:"rounded-full px-6",onClick:je,children:[r.jsx(qe,{className:"size-4 mr-2","aria-hidden":"true"}),e("common.retry")]})]}),t[66]=I?.message,t[67]=je,t[68]=_?.message,t[69]=we,t[70]=e,t[71]=ce):ce=t[71];let de;t[72]!==Ie||t[73]!==e?(de=Ie&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",role:"status","aria-live":"polite",children:[r.jsx("div",{className:"size-20 rounded-full bg-muted flex items-center justify-center mb-4",children:r.jsx(Xe,{className:"size-10 text-muted-foreground","aria-hidden":"true"})}),r.jsx("p",{className:"text-muted-foreground text-lg",children:e("items.noItems",{defaultValue:"No items found"})})]}),t[72]=Ie,t[73]=e,t[74]=de):de=t[74];let me;t[75]!==K||t[76]!==ne||t[77]!==O||t[78]!==ue||t[79]!==Ne||t[80]!==n||t[81]!==f||t[82]!==e||t[83]!==L||t[84]!==g||t[85]!==d?(me=f.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex justify-between items-center mb-6",children:r.jsx("p",{className:"text-sm text-muted-foreground",role:"status","aria-live":"polite","aria-atomic":"true",children:e("items.showing",{start:(d-1)*n+1,end:Math.min(d*n,L),total:L,defaultValue:`Showing ${(d-1)*n+1}-${Math.min(d*n,L)} of ${L}`})})}),r.jsx("div",{ref:O,className:Le,...ne,"aria-label":e("items.mediaGrid",{defaultValue:"Media items"}),children:f.map((c,p)=>r.jsx(yt,{item:c,index:p,...K(p)},c.Id))}),g>1&&r.jsx("div",{className:"mt-10",children:r.jsx(it,{children:r.jsxs(at,{className:"gap-2",children:[r.jsx(ye,{children:r.jsx(lt,{onClick:()=>ue(Math.max(1,d-1)),"aria-disabled":d===1,"aria-label":e("accessibility.pagination.previous"),className:b("rounded-full",d===1?"pointer-events-none opacity-50":"cursor-pointer")})}),Ne.map((c,p)=>c==="ellipsis"?r.jsx(ye,{children:r.jsx(rt,{})},`ellipsis-${p}`):r.jsx(ye,{children:r.jsx(Ae,{onClick:()=>ue(c),isActive:d===c,"aria-label":e("accessibility.pagination.page",{page:c}),"aria-current":d===c?"page":void 0,className:b("cursor-pointer rounded-full",d===c&&"bg-primary text-primary-foreground"),children:c})},c)),r.jsx(ye,{children:r.jsx(nt,{onClick:()=>ue(Math.min(g,d+1)),"aria-disabled":d===g,"aria-label":e("accessibility.pagination.next"),className:b("rounded-full",d===g?"pointer-events-none opacity-50":"cursor-pointer")})})]})})})]}),t[75]=K,t[76]=ne,t[77]=O,t[78]=ue,t[79]=Ne,t[80]=n,t[81]=f,t[82]=e,t[83]=L,t[84]=g,t[85]=d,t[86]=me):me=t[86];let ge;return t[87]!==re||t[88]!==oe||t[89]!==ce||t[90]!==de||t[91]!==me?(ge=r.jsx("div",{className:"px-4 pb-8 sm:px-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[re,oe,ce,de,me]})}),t[87]=re,t[88]=oe,t[89]=ce,t[90]=de,t[91]=me,t[92]=ge):ge=t[92],ge}function kt(t){return Te(t,200)}function _t(t){return{id:t.ItemId||"",name:t.Name||"Unknown"}}tt({collection:ke().optional().catch(void 0),page:st().positive().int().optional().catch(1),search:ke().optional().catch(void 0)});function Ot(){const t=y.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=r.jsx("main",{className:"min-h-[var(--spacing-page-min-height-md)]",children:r.jsx(Qe,{featureName:"Media Browser",minHeightClass:"min-h-[var(--spacing-page-min-height-md)]",showNavigation:!1,children:r.jsx($t,{})})}),t[0]=e):e=t[0],e}export{Ot as component};
