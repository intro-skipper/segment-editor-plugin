import{j as a,a as E,f as Je,t as tt}from"./tanstack-vendor-DRhT2kVp.js";import{c as j,a as y,B as Pe,b as te,V as Me,C as xe,u as Ee,d as st,e as it,f as nt,M as at}from"./index-BTs5NH8z.js";import{v as lt,am as rt,an as ot,c as ct,ao as dt,ak as mt,L as ft,ap as Xe,r as ut,R as pt,q as ht,p as Ge,T as Te,F as Ke}from"./ui-vendor-DfZQjXAX.js";import{I as xt}from"./ItemImage-BwH7mnxw.js";import{g as Qe,F as gt}from"./feature-error-boundary--30YIiE6.js";import{u as vt,p as bt}from"./use-vibrant-color-BVfYoRtN.js";import{u as Ze}from"./i18n-vendor-fVnzc7mj.js";import{o as yt,s as Ye,d as jt}from"./react-vendor-NRF3IDaz.js";import"./jellyfin-vendor-C-_X6ALD.js";import"./media-vendor-CUSAIUeh.js";function Nt(t){const e=j.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("mx-auto flex w-full justify-center",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Ct(t){const e=j.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-1 flex items-center",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("ul",{"data-slot":"pagination-content",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Ae(t){const e=j.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let i;return e[2]!==s?(i=a.jsx("li",{"data-slot":"pagination-item",...s}),e[2]=s,e[3]=i):i=e[3],i}function Ue(t){const e=j.c(16);let s,i,n,l;e[0]!==t?({className:s,isActive:i,size:l,...n}=t,e[0]=t,e[1]=s,e[2]=i,e[3]=n,e[4]=l):(s=e[1],i=e[2],n=e[3],l=e[4]);const o=l===void 0?"icon":l,r=i?"outline":"ghost";let m;e[5]!==s?(m=y("min-h-11 min-w-11",s),e[5]=s,e[6]=m):m=e[6];const N=i?"page":void 0;let x;e[7]!==i||e[8]!==n||e[9]!==N?(x=a.jsx("a",{"aria-current":N,"data-slot":"pagination-link","data-active":i,...n}),e[7]=i,e[8]=n,e[9]=N,e[10]=x):x=e[10];let v;return e[11]!==o||e[12]!==r||e[13]!==m||e[14]!==x?(v=a.jsx(Pe,{variant:r,size:o,className:m,nativeButton:!1,render:x}),e[11]=o,e[12]=r,e[13]=m,e[14]=x,e[15]=v):v=e[15],v}function wt(t){const e=j.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("pl-2!",s),e[3]=s,e[4]=n):n=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(lt,{"data-icon":"inline-start"}),o=a.jsx("span",{className:"hidden sm:block",children:"Previous"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let r;return e[7]!==i||e[8]!==n?(r=a.jsxs(Ue,{"aria-label":"Go to previous page",size:"default",className:n,...i,children:[l,o]}),e[7]=i,e[8]=n,e[9]=r):r=e[9],r}function St(t){const e=j.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("pr-2!",s),e[3]=s,e[4]=n):n=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx("span",{className:"hidden sm:block",children:"Next"}),o=a.jsx(rt,{"data-icon":"inline-end"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let r;return e[7]!==i||e[8]!==n?(r=a.jsxs(Ue,{"aria-label":"Go to next page",size:"default",className:n,...i,children:[l,o]}),e[7]=i,e[8]=n,e[9]=r):r=e[9],r}function It(t){const e=j.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("min-h-11 min-w-11 items-center justify-center [&_svg:not([class*='size-'])]:size-4 flex items-center justify-center",s),e[3]=s,e[4]=n):n=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(ot,{"aria-hidden":"true"}),o=a.jsx("span",{className:"sr-only",children:"More pages"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let r;return e[7]!==i||e[8]!==n?(r=a.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:n,...i,children:[l,o]}),e[7]=i,e[8]=n,e[9]=r):r=e[9],r}function Ve(t){const e=j.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-4 rounded-lg border-dashed p-12 flex w-full min-w-0 flex-1 flex-col items-center justify-center text-center text-balance",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Fe(t){const e=j.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-2 flex max-w-sm flex-col items-center",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-header",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}const Mt=ct("mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});function De(t){const e=j.c(11);let s,i,n;e[0]!==t?({className:s,variant:n,...i}=t,e[0]=t,e[1]=s,e[2]=i,e[3]=n):(s=e[1],i=e[2],n=e[3]);const l=n===void 0?"default":n;let o;e[4]!==s||e[5]!==l?(o=y(Mt({variant:l,className:s})),e[4]=s,e[5]=l,e[6]=o):o=e[6];let r;return e[7]!==i||e[8]!==o||e[9]!==l?(r=a.jsx("div",{"data-slot":"empty-icon","data-variant":l,className:o,...i}),e[7]=i,e[8]=o,e[9]=l,e[10]=r):r=e[10],r}function Oe(t){const e=j.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("text-lg font-medium tracking-tight",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-title",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Be(t){const e=j.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("text-sm/relaxed text-muted-foreground [&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-description",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function He(t){const e=j.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-4 text-sm flex w-full max-w-sm min-w-0 flex-col items-center text-balance",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-content",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}const Et={ArrowRight:(t,e,s)=>Math.min(t+1,s-1),ArrowLeft:t=>Math.max(t-1,0),ArrowDown:(t,e,s)=>Math.min(t+e,s-1),ArrowUp:(t,e)=>Math.max(t-e,0),Home:(t,e,s,i)=>i?0:Math.floor(t/e)*e,End:(t,e,s,i)=>i?s-1:Math.min(Math.floor(t/e)*e+e-1,s-1),PageDown:(t,e,s)=>Math.min(t+e*3,s-1),PageUp:(t,e)=>Math.max(t-e*3,0)};function At(t){const e=j.c(27),{itemCount:s,columns:i,enabled:n,onActivate:l}=t,o=n===void 0?!0:n,[r,m]=E.useState(-1),N=E.useRef(null);let x,v;e[0]!==r||e[1]!==s?(x=()=>{s===0?m(-1):r>=s&&m(s-1)},v=[s,r],e[0]=r,e[1]=s,e[2]=x,e[3]=v):(x=e[2],v=e[3]),E.useEffect(x,v);let I,C;e[4]!==o||e[5]!==r?(I=()=>{if(!o||r<0||!N.current)return;const p=N.current.querySelector(`[data-grid-index="${r}"]`);p&&document.activeElement!==p&&p.focus({preventScroll:!0})},C=[r,o],e[4]=o,e[5]=r,e[6]=I,e[7]=C):(I=e[6],C=e[7]),E.useEffect(I,C);let A;e[8]!==i||e[9]!==o||e[10]!==r||e[11]!==s||e[12]!==l?(A=p=>{if(!o||s===0)return;if((p.key==="Enter"||p.key===" ")&&r>=0){p.preventDefault(),l?.(r);return}const W=Et[p.key];if(!W)return;const V=r<0?0:r,L=W(V,i,s,p.ctrlKey);L!==V&&(p.preventDefault(),m(L))},e[8]=i,e[9]=o,e[10]=r,e[11]=s,e[12]=l,e[13]=A):A=e[13];const T=A;let _;e[14]!==r||e[15]!==s?(_=()=>{r<0&&s>0&&m(0)},e[14]=r,e[15]=s,e[16]=_):_=e[16];const ae=_;let f;e[17]!==r?(f=p=>({role:"gridcell",tabIndex:r===p?0:-1,"data-grid-index":p,"aria-selected":r===p,onFocus:()=>m(p)}),e[17]=r,e[18]=f):f=e[18];const P=f,S=r<0&&s>0?0:-1;let w;e[19]!==ae||e[20]!==T||e[21]!==S?(w={role:"grid","aria-label":"Media items grid",tabIndex:S,onKeyDown:T,onFocus:ae},e[19]=ae,e[20]=T,e[21]=S,e[22]=w):w=e[22];let b;return e[23]!==r||e[24]!==P||e[25]!==w?(b={focusedIndex:r,setFocusedIndex:m,gridProps:w,getItemProps:P,gridRef:N},e[23]=r,e[24]=P,e[25]=w,e[26]=b):b=e[26],b}const We={[te.Series]:"/series/$itemId",[te.MusicArtist]:"/artist/$itemId",[te.MusicAlbum]:"/album/$itemId"};function et(t){const e=t.Id??"",s=We[t.Type??""]??"/player/$itemId",i=!We[t.Type??""];return{to:s,params:{itemId:e},...i&&{search:{fetchSegments:"true"}}}}const Pt={[te.Series]:"accessibility.mediaCard.viewSeries",[te.MusicArtist]:"accessibility.mediaCard.viewArtist",[te.MusicAlbum]:"accessibility.mediaCard.viewAlbum",[te.Movie]:"accessibility.mediaCard.playMovie",[te.Episode]:"accessibility.mediaCard.playEpisode"},kt=300,$t=30,_t=E.memo(function(e){const s=j.c(57),{item:i,className:n,index:l,tabIndex:o,role:r,"data-grid-index":m,"aria-selected":N,onFocus:x}=e,v=l===void 0?0:l,I=o===void 0?0:o,C=r===void 0?"gridcell":r,{t:A}=Ze(),T=Je();let _;s[0]!==i?(_=Qe(i,200),s[0]=i,s[1]=_):_=s[1];const f=vt(_??null);let P;s[2]!==i||s[3]!==T?(P=()=>{const Y=et(i);T(Y)},s[2]=i,s[3]=T,s[4]=P):P=s[4];const S=P;let w;s[5]!==S?(w=Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),S())},s[5]=S,s[6]=w):w=s[6];const b=w,p=i.Name??"Unknown",W=i.ProductionYear?` (${i.ProductionYear})`:"",V=Pt[i.Type??""]??"accessibility.mediaCard.play",L=`${p}${W}`;let k;s[7]!==V||s[8]!==A||s[9]!==L?(k=A(V,{name:L}),s[7]=V,s[8]=A,s[9]=L,s[10]=k):k=s[10];const le=k,F=Math.min(v*$t,kt);let q;s[11]!==f?(q=f?{background:f.primary,color:f.text}:void 0,s[11]=f,s[12]=q):q=s[12];const se=q;let D;s[13]!==F||s[14]!==f?.primary?(D=()=>({animationDelay:`${F}ms`,backgroundColor:f?.primary??"var(--card)"}),s[13]=F,s[14]=f?.primary,s[15]=D):D=s[15],f?.primary;let $;s[16]!==D?($=D(),s[16]=D,s[17]=$):$=s[17];const g=$;let d;s[18]!==f?(d=f?{color:f.text}:void 0,s[18]=f,s[19]=d):d=s[19];const O=d;let h;s[20]!==v||s[21]!==x?(h=()=>{x?.(v)},s[20]=v,s[21]=x,s[22]=h):h=s[22];const J=h;let B;s[23]!==n?(B=y("group cursor-pointer rounded-2xl overflow-hidden min-h-[44px]","transition-all duration-300 ease-out","hover:scale-[1.03] hover:shadow-xl hover:shadow-black/20","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","animate-in fade-in slide-in-from-bottom-3 duration-400 fill-mode-both",n),s[23]=n,s[24]=B):B=s[24];let U;s[25]!==i?(U=a.jsx(xt,{item:i,maxWidth:200,aspectRatio:"aspect-[2/3]",className:"w-full"}),s[25]=i,s[26]=U):U=s[26];const X=!f&&"text-foreground group-hover:text-primary";let M;s[27]!==X?(M=y("text-sm md:text-base font-semibold line-clamp-2 leading-snug h-[2.5em]",X),s[27]=X,s[28]=M):M=s[28];const ie=i.Name||void 0,ne=i.Name||"Unknown";let G;s[29]!==M||s[30]!==ie||s[31]!==ne||s[32]!==O?(G=a.jsx("p",{className:M,style:O,title:ie,children:ne}),s[29]=M,s[30]=ie,s[31]=ne,s[32]=O,s[33]=G):G=s[33];const Q=!f&&"text-muted-foreground";let K;s[34]!==Q?(K=y("text-xs md:text-sm opacity-70 font-medium h-[1.25em]",Q),s[34]=Q,s[35]=K):K=s[35];const Z=i.ProductionYear??"Â ";let z;s[36]!==K||s[37]!==Z||s[38]!==O?(z=a.jsx("p",{className:K,style:O,children:Z}),s[36]=K,s[37]=Z,s[38]=O,s[39]=z):z=s[39];let R;s[40]!==G||s[41]!==z||s[42]!==se?(R=a.jsxs("div",{className:"px-3 py-2.5 md:px-4 md:py-3 transition-colors duration-500",style:se,children:[G,z]}),s[40]=G,s[41]=z,s[42]=se,s[43]=R):R=s[43];let H;return s[44]!==le||s[45]!==N||s[46]!==g||s[47]!==m||s[48]!==S||s[49]!==J||s[50]!==b||s[51]!==C||s[52]!==B||s[53]!==U||s[54]!==R||s[55]!==I?(H=a.jsxs("div",{role:C,tabIndex:I,"data-grid-index":m,"aria-selected":N,onClick:S,onKeyDown:b,onFocus:J,"aria-label":le,className:B,style:g,children:[U,R]}),s[44]=le,s[45]=N,s[46]=g,s[47]=m,s[48]=S,s[49]=J,s[50]=b,s[51]=C,s[52]=B,s[53]=U,s[54]=R,s[55]=I,s[56]=H):H=s[56],H});function Lt(t){return t>=Me.xl?xe.xl:t>=Me.lg?xe.lg:t>=Me.md?xe.md:t>=Me.sm?xe.sm:xe.default}const zt=t=>t.pageSize,Rt=t=>t.setSelectedCollectionId,Tt=t=>t.setSearchFilter,Vt={movie:Ke,film:Ke,series:Te,tv:Te,show:Te,music:Ge,artist:Ge},Ft=t=>{const e=t.toLowerCase();return Object.entries(Vt).find(([s])=>e.includes(s))?.[1]??Xe},qe="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-6";function Dt(){const t=j.c(2),[e,s]=E.useState(xe.default);let i,n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{const l=new AbortController;let o=null;const r=()=>{s(Lt(window.innerWidth))};return r(),window.addEventListener("resize",()=>{o&&clearTimeout(o),o=setTimeout(r,150)},{signal:l.signal}),()=>{l.abort(),o&&clearTimeout(o)}},n=[],t[0]=i,t[1]=n):(i=t[0],n=t[1]),E.useEffect(i,n),e}function Ot(t,e){const s=[],i=Math.max(2,t-1),n=Math.min(e-1,t+1);t>3&&s.push("ellipsis");for(let l=i;l<=n;l++)s.push(l);return t<e-2&&s.push("ellipsis"),s}function Bt(t,e){if(e<=7)return Array.from({length:e},(i,n)=>n+1);const s=[1];return s.push(...Ot(t,e)),e>1&&s.push(e),s}const Ut=tt("/");function Gt(){const t=j.c(104),{t:e}=Ze(),s=Je(),{collection:i,page:n,search:l}=Ut.useSearch(),o=n??1,r=Ee(zt),m=Ee(Rt),N=Ee(Tt);let x,v;t[0]!==l||t[1]!==i||t[2]!==m||t[3]!==N?(x=()=>{m(i??null),N(l??"")},v=[i,l,m,N],t[0]=l,t[1]=i,t[2]=m,t[3]=N,t[4]=x,t[5]=v):(x=t[4],v=t[5]),E.useEffect(x,v);let I;t[6]!==s?(I=c=>{s({to:"/",search:u=>({...u,page:c>1?c:void 0}),replace:!0})},t[6]=s,t[7]=I):I=t[7];const C=I,A=Dt(),{isPlugin:T,hasCredentials:_,isConnected:ae,isConnecting:f}=st(),P=Ee(Ht),{data:S,isLoading:w,error:b,refetch:p}=it(),W=i??"",V=!!i;let L;t[8]!==l||t[9]!==W||t[10]!==V?(L={parentId:W,nameFilter:l,enabled:V},t[8]=l,t[9]=W,t[10]=V,t[11]=L):L=t[11];const{data:k,isLoading:le,error:F,refetch:q}=nt(L);let se;e:{if(!S){let u;t[12]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[12]=u):u=t[12],se=u;break e}let c;t[13]!==S?(c=S.map(Yt),t[13]=S,t[14]=c):c=t[14],se=c}const D=se,$=k?.length??0,g=Math.max(1,Math.ceil($/r)),d=Math.min(Math.max(1,o),g);let O;e:{if(!k){let ee;t[15]===Symbol.for("react.memo_cache_sentinel")?(ee=[],t[15]=ee):ee=t[15],O=ee;break e}const c=(d-1)*r;let u;t[16]!==k||t[17]!==r||t[18]!==c?(u=k.slice(c,c+r),t[16]=k,t[17]=r,t[18]=c,t[19]=u):u=t[19],O=u}const h=O;let J;t[20]!==s||t[21]!==h?(J=c=>{const u=h[c];s(et(u))},t[20]=s,t[21]=h,t[22]=J):J=t[22];const B=J,U=h.length>0;let X;t[23]!==A||t[24]!==B||t[25]!==h.length||t[26]!==U?(X={itemCount:h.length,columns:A,enabled:U,onActivate:B},t[23]=A,t[24]=B,t[25]=h.length,t[26]=U,t[27]=X):X=t[27];const{setFocusedIndex:M,gridProps:ie,getItemProps:ne,gridRef:G}=At(X);let Q;t[28]===Symbol.for("react.memo_cache_sentinel")?(Q=new Set,t[28]=Q):Q=t[28];const K=E.useRef(Q);let Z;t[29]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>{K.current.clear()},t[29]=Z):Z=t[29];let z;t[30]!==i?(z=[i],t[30]=i,t[31]=z):z=t[31],E.useEffect(Z,z);let R,H;t[32]!==h?(R=()=>{if(h.length===0)return;const c=new AbortController,u=setTimeout(()=>{if(c.signal.aborted)return;const ee=h.map(Kt).filter(Ie=>!!Ie&&!K.current.has(Ie));ee.length>0&&(ee.forEach(Ie=>K.current.add(Ie)),bt(ee))},100);return()=>{c.abort(),clearTimeout(u)}},H=[h],t[32]=h,t[33]=R,t[34]=H):(R=t[33],H=t[34]),E.useEffect(R,H);let Y,ve;t[35]!==o||t[36]!==C||t[37]!==g?(Y=()=>{o>g&&g>0&&C(g)},ve=[o,g,C],t[35]=o,t[36]=C,t[37]=g,t[38]=Y,t[39]=ve):(Y=t[38],ve=t[39]),E.useEffect(Y,ve);let be;t[40]!==M?(be=()=>{M(-1)},t[40]=M,t[41]=be):be=t[41];let ye;t[42]!==M||t[43]!==d?(ye=[d,M],t[42]=M,t[43]=d,t[44]=ye):ye=t[44],E.useEffect(be,ye);let je;t[45]!==s?(je=c=>{s({to:"/",search:{collection:c??void 0,page:void 0,search:void 0},replace:!0})},t[45]=s,t[46]=je):je=t[46];const ke=je;let Ne;t[47]!==C?(Ne=c=>{C(c),window.scrollTo({top:0,behavior:"smooth"})},t[47]=C,t[48]=Ne):Ne=t[48];const ge=Ne;let Ce;t[49]!==b||t[50]!==p||t[51]!==q?(Ce=()=>{b?p():q()},t[49]=b,t[50]=p,t[51]=q,t[52]=Ce):Ce=t[52];const $e=Ce;let we;t[53]!==g||t[54]!==d?(we=Bt(d,g),t[53]=g,t[54]=d,t[55]=we):we=t[55];const _e=we,Le=w||i&&!F&&le&&!k,ze=b||F,Re=i&&!le&&!F&&k?.length===0,re=!T&&!_,oe=T&&!ae&&f;let ce;t[56]!==P||t[57]!==re||t[58]!==e?(ce=re&&a.jsx("div",{className:"flex items-center justify-center min-h-[var(--spacing-empty-state-min-height)]",children:a.jsxs(Ve,{className:"border-none bg-transparent",children:[a.jsxs(Fe,{children:[a.jsx(De,{variant:"icon",children:a.jsx(dt,{className:"size-12","aria-hidden":"true"})}),a.jsx(Oe,{className:"text-2xl",children:e("connection.notConnected",{defaultValue:"Not Connected"})}),a.jsx(Be,{className:"text-base",children:e("connection.notConnectedDescription",{defaultValue:"Configure your Jellyfin server connection to get started"})})]}),a.jsx(He,{children:a.jsxs(Pe,{size:"lg",className:"gap-2 rounded-2xl",onClick:()=>P(!0),children:[a.jsx(mt,{className:"size-5","aria-hidden":"true"}),e("connection.openSettings",{defaultValue:"Open Settings"})]})})]})}),t[56]=P,t[57]=re,t[58]=e,t[59]=ce):ce=t[59];let de;t[60]!==oe||t[61]!==e?(de=oe&&a.jsx("div",{className:"flex items-center justify-center min-h-[var(--spacing-empty-state-min-height)]",children:a.jsx(Ve,{className:"border-none bg-transparent",children:a.jsxs(Fe,{children:[a.jsx(De,{variant:"icon",children:a.jsx(ft,{className:"size-12 animate-spin","aria-hidden":"true"})}),a.jsx(Oe,{className:"text-2xl",children:e("connection.connecting",{defaultValue:"Connecting..."})}),a.jsx(Be,{className:"text-base",children:e("connection.connectingDescription",{defaultValue:"Establishing connection to Jellyfin server"})})]})})}),t[60]=oe,t[61]=e,t[62]=de):de=t[62];let me;t[63]!==D||t[64]!==b||t[65]!==w||t[66]!==ke||t[67]!==i||t[68]!==oe||t[69]!==re||t[70]!==e?(me=!re&&!oe&&!i&&!w&&!b&&a.jsx("div",{className:"flex items-center justify-center min-h-[var(--spacing-empty-state-min-height)]",children:a.jsxs(Ve,{className:"border-none bg-transparent",children:[a.jsxs(Fe,{children:[a.jsx(De,{variant:"icon",children:a.jsx(Xe,{className:"size-12","aria-hidden":"true"})}),a.jsx(Oe,{className:"text-2xl",children:e("items.selectLibrary",{defaultValue:"Select a Library"})}),a.jsx(Be,{className:"text-base",children:e("items.selectLibraryDescription",{defaultValue:"Choose a library to browse your media collection"})})]}),a.jsx(He,{children:a.jsx("div",{className:"flex flex-wrap gap-3 justify-center mt-4",role:"group","aria-label":e("items.selectLibrary",{defaultValue:"Select a Library"}),children:D.map(c=>{const u=Ft(c.name);return a.jsxs(Pe,{variant:"secondary",size:"lg",className:y("gap-3 min-w-[var(--spacing-library-button-min)] h-14","rounded-2xl text-base font-medium","border border-border/50","transition-all duration-200","hover:scale-[1.02] active:scale-[0.98]"),onClick:()=>ke(c.id),"aria-label":e("items.selectLibraryButton",{name:c.name,defaultValue:`Browse ${c.name} library`}),children:[a.jsx(u,{className:"size-5","aria-hidden":"true"}),c.name]},c.id)})})})]})}),t[63]=D,t[64]=b,t[65]=w,t[66]=ke,t[67]=i,t[68]=oe,t[69]=re,t[70]=e,t[71]=me):me=t[71];let fe;t[72]!==r||t[73]!==Le?(fe=Le&&a.jsx(at,{count:r,gridClassName:qe}),t[72]=r,t[73]=Le,t[74]=fe):fe=t[74];let ue;t[75]!==b?.message||t[76]!==$e||t[77]!==F?.message||t[78]!==ze||t[79]!==e?(ue=ze&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",role:"alert","aria-live":"assertive",children:[a.jsx("div",{className:"size-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx(ut,{className:"size-8 text-destructive","aria-hidden":"true"})}),a.jsx("p",{className:"text-destructive text-center text-lg",children:b?.message||F?.message}),a.jsxs(Pe,{variant:"secondary",size:"lg",className:"rounded-full px-6",onClick:$e,children:[a.jsx(pt,{className:"size-4 mr-2","aria-hidden":"true"}),e("common.retry")]})]}),t[75]=b?.message,t[76]=$e,t[77]=F?.message,t[78]=ze,t[79]=e,t[80]=ue):ue=t[80];let pe;t[81]!==Re||t[82]!==e?(pe=Re&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",role:"status","aria-live":"polite",children:[a.jsx("div",{className:"size-20 rounded-full bg-muted flex items-center justify-center mb-4",children:a.jsx(ht,{className:"size-10 text-muted-foreground","aria-hidden":"true"})}),a.jsx("p",{className:"text-muted-foreground text-lg",children:e("items.noItems",{defaultValue:"No items found"})})]}),t[81]=Re,t[82]=e,t[83]=pe):pe=t[83];let he;t[84]!==ne||t[85]!==ie||t[86]!==G||t[87]!==ge||t[88]!==_e||t[89]!==r||t[90]!==h||t[91]!==e||t[92]!==$||t[93]!==g||t[94]!==d?(he=h.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",role:"status","aria-live":"polite","aria-atomic":"true",children:e("items.showing",{start:(d-1)*r+1,end:Math.min(d*r,$),total:$,defaultValue:`Showing ${(d-1)*r+1}-${Math.min(d*r,$)} of ${$}`})})}),a.jsx("div",{ref:G,className:qe,...ie,"aria-label":e("items.mediaGrid",{defaultValue:"Media items"}),children:h.map((c,u)=>a.jsx(_t,{item:c,index:u,...ne(u)},c.Id))}),g>1&&a.jsx("div",{className:"mt-10",children:a.jsx(Nt,{children:a.jsxs(Ct,{className:"gap-2",children:[a.jsx(Ae,{children:a.jsx(wt,{onClick:()=>ge(Math.max(1,d-1)),"aria-disabled":d===1,"aria-label":e("accessibility.pagination.previous"),className:y("rounded-full",d===1?"pointer-events-none opacity-50":"cursor-pointer")})}),_e.map((c,u)=>c==="ellipsis"?a.jsx(Ae,{children:a.jsx(It,{})},`ellipsis-${u}`):a.jsx(Ae,{children:a.jsx(Ue,{onClick:()=>ge(c),isActive:d===c,"aria-label":e("accessibility.pagination.page",{page:c}),"aria-current":d===c?"page":void 0,className:y("cursor-pointer rounded-full",d===c&&"bg-primary text-primary-foreground"),children:c})},c)),a.jsx(Ae,{children:a.jsx(St,{onClick:()=>ge(Math.min(g,d+1)),"aria-disabled":d===g,"aria-label":e("accessibility.pagination.next"),className:y("rounded-full",d===g?"pointer-events-none opacity-50":"cursor-pointer")})})]})})})]}),t[84]=ne,t[85]=ie,t[86]=G,t[87]=ge,t[88]=_e,t[89]=r,t[90]=h,t[91]=e,t[92]=$,t[93]=g,t[94]=d,t[95]=he):he=t[95];let Se;return t[96]!==ce||t[97]!==de||t[98]!==me||t[99]!==fe||t[100]!==ue||t[101]!==pe||t[102]!==he?(Se=a.jsx("div",{className:"px-4 pb-8 sm:px-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[ce,de,me,fe,ue,pe,he]})}),t[96]=ce,t[97]=de,t[98]=me,t[99]=fe,t[100]=ue,t[101]=pe,t[102]=he,t[103]=Se):Se=t[103],Se}function Kt(t){return Qe(t,200)}function Yt(t){return{id:t.ItemId||"",name:t.Name||"Unknown"}}function Ht(t){return t.setSettingsOpen}yt({collection:Ye().optional().catch(void 0),page:jt().positive().int().optional().catch(1),search:Ye().optional().catch(void 0)});function ns(){const t=j.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx("main",{className:"min-h-[var(--spacing-page-min-height-md)]",children:a.jsx(gt,{featureName:"Media Browser",minHeightClass:"min-h-[var(--spacing-page-min-height-md)]",showNavigation:!1,children:a.jsx(Gt,{})})}),t[0]=e):e=t[0],e}export{ns as component};
