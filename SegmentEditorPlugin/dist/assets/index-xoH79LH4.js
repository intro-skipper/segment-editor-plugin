import{j as a,a as T,f as qe,t as et}from"./tanstack-vendor-DcxxohBG.js";import{c as N,a as y,B as Pe,b as Z,V as Ie,C as re,u as Me,d as tt,e as st,f as it,M as nt}from"./index-RpOviJkQ.js";import{v as at,am as lt,an as rt,c as ot,ao as ct,ak as dt,L as mt,ap as Je,r as ut,R as ft,q as pt,p as Ue,T as Re,F as Ge}from"./ui-vendor-Be58-Sc0.js";import{I as xt}from"./ItemImage-B3oNue4m.js";import{g as Xe,F as ht}from"./feature-error-boundary-BEcF-gHJ.js";import{u as gt,p as vt}from"./use-vibrant-color-0LLACAur.js";import{u as Qe}from"./i18n-vendor-WjpEjhp3.js";import{o as bt,s as Ke,d as yt}from"./react-vendor-NRF3IDaz.js";import"./jellyfin-vendor-C-_X6ALD.js";import"./media-vendor-CUSAIUeh.js";function jt(t){const e=N.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("mx-auto flex w-full justify-center",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Nt(t){const e=N.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-1 flex items-center",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("ul",{"data-slot":"pagination-content",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Ee(t){const e=N.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let i;return e[2]!==s?(i=a.jsx("li",{"data-slot":"pagination-item",...s}),e[2]=s,e[3]=i):i=e[3],i}function Be(t){const e=N.c(16);let s,i,n,l;e[0]!==t?({className:s,isActive:i,size:l,...n}=t,e[0]=t,e[1]=s,e[2]=i,e[3]=n,e[4]=l):(s=e[1],i=e[2],n=e[3],l=e[4]);const o=l===void 0?"icon":l,r=i?"outline":"ghost";let h;e[5]!==s?(h=y("min-h-11 min-w-11",s),e[5]=s,e[6]=h):h=e[6];const C=i?"page":void 0;let m;e[7]!==i||e[8]!==n||e[9]!==C?(m=a.jsx("a",{"aria-current":C,"data-slot":"pagination-link","data-active":i,...n}),e[7]=i,e[8]=n,e[9]=C,e[10]=m):m=e[10];let b;return e[11]!==o||e[12]!==r||e[13]!==h||e[14]!==m?(b=a.jsx(Pe,{variant:r,size:o,className:h,nativeButton:!1,render:m}),e[11]=o,e[12]=r,e[13]=h,e[14]=m,e[15]=b):b=e[15],b}function Ct(t){const e=N.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("pl-2!",s),e[3]=s,e[4]=n):n=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(at,{"data-icon":"inline-start"}),o=a.jsx("span",{className:"hidden sm:block",children:"Previous"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let r;return e[7]!==i||e[8]!==n?(r=a.jsxs(Be,{"aria-label":"Go to previous page",size:"default",className:n,...i,children:[l,o]}),e[7]=i,e[8]=n,e[9]=r):r=e[9],r}function wt(t){const e=N.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("pr-2!",s),e[3]=s,e[4]=n):n=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx("span",{className:"hidden sm:block",children:"Next"}),o=a.jsx(lt,{"data-icon":"inline-end"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let r;return e[7]!==i||e[8]!==n?(r=a.jsxs(Be,{"aria-label":"Go to next page",size:"default",className:n,...i,children:[l,o]}),e[7]=i,e[8]=n,e[9]=r):r=e[9],r}function St(t){const e=N.c(10);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("min-h-11 min-w-11 items-center justify-center [&_svg:not([class*='size-'])]:size-4 flex items-center justify-center",s),e[3]=s,e[4]=n):n=e[4];let l,o;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(rt,{"aria-hidden":"true"}),o=a.jsx("span",{className:"sr-only",children:"More pages"}),e[5]=l,e[6]=o):(l=e[5],o=e[6]);let r;return e[7]!==i||e[8]!==n?(r=a.jsxs("span",{"aria-hidden":!0,"data-slot":"pagination-ellipsis",className:n,...i,children:[l,o]}),e[7]=i,e[8]=n,e[9]=r):r=e[9],r}function Te(t){const e=N.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-4 rounded-lg border-dashed p-12 flex w-full min-w-0 flex-1 flex-col items-center justify-center text-center text-balance",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Ve(t){const e=N.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-2 flex max-w-sm flex-col items-center",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-header",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}const It=ot("mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});function Fe(t){const e=N.c(11);let s,i,n;e[0]!==t?({className:s,variant:n,...i}=t,e[0]=t,e[1]=s,e[2]=i,e[3]=n):(s=e[1],i=e[2],n=e[3]);const l=n===void 0?"default":n;let o;e[4]!==s||e[5]!==l?(o=y(It({variant:l,className:s})),e[4]=s,e[5]=l,e[6]=o):o=e[6];let r;return e[7]!==i||e[8]!==o||e[9]!==l?(r=a.jsx("div",{"data-slot":"empty-icon","data-variant":l,className:o,...i}),e[7]=i,e[8]=o,e[9]=l,e[10]=r):r=e[10],r}function De(t){const e=N.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("text-lg font-medium tracking-tight",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-title",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Oe(t){const e=N.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("text-sm/relaxed text-muted-foreground [&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-description",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}function Ye(t){const e=N.c(8);let s,i;e[0]!==t?({className:s,...i}=t,e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let n;e[3]!==s?(n=y("gap-4 text-sm flex w-full max-w-sm min-w-0 flex-col items-center text-balance",s),e[3]=s,e[4]=n):n=e[4];let l;return e[5]!==i||e[6]!==n?(l=a.jsx("div",{"data-slot":"empty-content",className:n,...i}),e[5]=i,e[6]=n,e[7]=l):l=e[7],l}const Mt={ArrowRight:(t,e,s)=>Math.min(t+1,s-1),ArrowLeft:t=>Math.max(t-1,0),ArrowDown:(t,e,s)=>Math.min(t+e,s-1),ArrowUp:(t,e)=>Math.max(t-e,0),Home:(t,e,s,i)=>i?0:Math.floor(t/e)*e,End:(t,e,s,i)=>i?s-1:Math.min(Math.floor(t/e)*e+e-1,s-1),PageDown:(t,e,s)=>Math.min(t+e*3,s-1),PageUp:(t,e)=>Math.max(t-e*3,0)};function Et(t){const e=N.c(23),{itemCount:s,columns:i,enabled:n,onActivate:l}=t,o=n===void 0?!0:n,[r,h]=T.useState(-1),C=T.useRef(null),m=s===0?-1:r>=s?s-1:r;m!==r&&h(m);let b,I;e[0]!==o||e[1]!==m?(b=()=>{if(!o||m<0||!C.current)return;const f=C.current.querySelector(`[data-grid-index="${m}"]`);f&&document.activeElement!==f&&f.focus({preventScroll:!0})},I=[m,o],e[0]=o,e[1]=m,e[2]=b,e[3]=I):(b=e[2],I=e[3]),T.useEffect(b,I);let w;e[4]!==i||e[5]!==o||e[6]!==r||e[7]!==s||e[8]!==l?(w=f=>{if(!o||s===0)return;if((f.key==="Enter"||f.key===" ")&&r>=0){f.preventDefault(),l?.(r);return}const H=Mt[f.key];if(!H)return;const W=r<0?0:r,A=H(W,i,s,f.ctrlKey);A!==W&&(f.preventDefault(),h(A))},e[4]=i,e[5]=o,e[6]=r,e[7]=s,e[8]=l,e[9]=w):w=e[9];const E=w;let P;e[10]!==r||e[11]!==s?(P=()=>{r<0&&s>0&&h(0)},e[10]=r,e[11]=s,e[12]=P):P=e[12];const V=P;let Y;e[13]!==r?(Y=f=>({role:"gridcell",tabIndex:r===f?0:-1,"data-grid-index":f,"aria-selected":r===f,onFocus:()=>h(f)}),e[13]=r,e[14]=Y):Y=e[14];const u=Y,M=r<0&&s>0?0:-1;let j;e[15]!==V||e[16]!==E||e[17]!==M?(j={role:"grid","aria-label":"Media items grid",tabIndex:M,onKeyDown:E,onFocus:V},e[15]=V,e[16]=E,e[17]=M,e[18]=j):j=e[18];let v;return e[19]!==r||e[20]!==u||e[21]!==j?(v={focusedIndex:r,setFocusedIndex:h,gridProps:j,getItemProps:u,gridRef:C},e[19]=r,e[20]=u,e[21]=j,e[22]=v):v=e[22],v}const He={[Z.Series]:"/series/$itemId",[Z.MusicArtist]:"/artist/$itemId",[Z.MusicAlbum]:"/album/$itemId"};function Ze(t){const e=t.Id??"",s=He[t.Type??""]??"/player/$itemId",i=!He[t.Type??""];return{to:s,params:{itemId:e},...i&&{search:{fetchSegments:"true"}}}}const Pt={[Z.Series]:"accessibility.mediaCard.viewSeries",[Z.MusicArtist]:"accessibility.mediaCard.viewArtist",[Z.MusicAlbum]:"accessibility.mediaCard.viewAlbum",[Z.Movie]:"accessibility.mediaCard.playMovie",[Z.Episode]:"accessibility.mediaCard.playEpisode"},At=300,kt=30,$t=T.memo(function(e){const s=N.c(57),{item:i,className:n,index:l,tabIndex:o,role:r,"data-grid-index":h,"aria-selected":C,onFocus:m}=e,b=l===void 0?0:l,I=o===void 0?0:o,w=r===void 0?"gridcell":r,{t:E}=Qe(),P=qe();let V;s[0]!==i?(V=Xe(i,200),s[0]=i,s[1]=V):V=s[1];const u=gt(V??null);let M;s[2]!==i||s[3]!==P?(M=()=>{const U=Ze(i);P(U)},s[2]=i,s[3]=P,s[4]=M):M=s[4];const j=M;let v;s[5]!==j?(v=U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),j())},s[5]=j,s[6]=v):v=s[6];const f=v,H=i.Name??"Unknown",W=i.ProductionYear?` (${i.ProductionYear})`:"",A=Pt[i.Type??""]??"accessibility.mediaCard.play",k=`${H}${W}`;let ee;s[7]!==A||s[8]!==E||s[9]!==k?(ee=E(A,{name:k}),s[7]=A,s[8]=E,s[9]=k,s[10]=ee):ee=s[10];const F=ee,te=Math.min(b*kt,At);let q;s[11]!==u?(q=u?{background:u.primary,color:u.text}:void 0,s[11]=u,s[12]=q):q=s[12];const se=q;let S;s[13]!==te||s[14]!==u?.primary?(S=()=>({animationDelay:`${te}ms`,backgroundColor:u?.primary??"var(--card)"}),s[13]=te,s[14]=u?.primary,s[15]=S):S=s[15],u?.primary;let g;s[16]!==S?(g=S(),s[16]=S,s[17]=g):g=s[17];const d=g;let J;s[18]!==u?(J=u?{color:u.text}:void 0,s[18]=u,s[19]=J):J=s[19];const p=J;let G;s[20]!==b||s[21]!==m?(G=()=>{m?.(b)},s[20]=b,s[21]=m,s[22]=G):G=s[22];const ie=G;let D;s[23]!==n?(D=y("group cursor-pointer rounded-2xl overflow-hidden min-h-[44px]","transition-all duration-300 ease-out","hover:scale-[1.03] hover:shadow-xl hover:shadow-black/20","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background","animate-in fade-in slide-in-from-bottom-3 duration-400 fill-mode-both",n),s[23]=n,s[24]=D):D=s[24];let $;s[25]!==i?($=a.jsx(xt,{item:i,maxWidth:200,aspectRatio:"aspect-[2/3]",className:"w-full"}),s[25]=i,s[26]=$):$=s[26];const O=!u&&"text-foreground group-hover:text-primary";let B;s[27]!==O?(B=y("text-sm md:text-base font-semibold line-clamp-2 leading-snug h-[2.5em]",O),s[27]=O,s[28]=B):B=s[28];const ne=i.Name||void 0,ae=i.Name||"Unknown";let z;s[29]!==B||s[30]!==ne||s[31]!==ae||s[32]!==p?(z=a.jsx("p",{className:B,style:p,title:ne,children:ae}),s[29]=B,s[30]=ne,s[31]=ae,s[32]=p,s[33]=z):z=s[33];const le=!u&&"text-muted-foreground";let L;s[34]!==le?(L=y("text-xs md:text-sm opacity-70 font-medium h-[1.25em]",le),s[34]=le,s[35]=L):L=s[35];const X=i.ProductionYear??"Â ";let _;s[36]!==L||s[37]!==X||s[38]!==p?(_=a.jsx("p",{className:L,style:p,children:X}),s[36]=L,s[37]=X,s[38]=p,s[39]=_):_=s[39];let R;s[40]!==z||s[41]!==_||s[42]!==se?(R=a.jsxs("div",{className:"px-3 py-2.5 md:px-4 md:py-3 transition-colors duration-500",style:se,children:[z,_]}),s[40]=z,s[41]=_,s[42]=se,s[43]=R):R=s[43];let K;return s[44]!==F||s[45]!==C||s[46]!==d||s[47]!==h||s[48]!==j||s[49]!==ie||s[50]!==f||s[51]!==w||s[52]!==D||s[53]!==$||s[54]!==R||s[55]!==I?(K=a.jsxs("div",{role:w,tabIndex:I,"data-grid-index":h,"aria-selected":C,onClick:j,onKeyDown:f,onFocus:ie,"aria-label":F,className:D,style:d,children:[$,R]}),s[44]=F,s[45]=C,s[46]=d,s[47]=h,s[48]=j,s[49]=ie,s[50]=f,s[51]=w,s[52]=D,s[53]=$,s[54]=R,s[55]=I,s[56]=K):K=s[56],K});function zt(t){return t>=Ie.xl?re.xl:t>=Ie.lg?re.lg:t>=Ie.md?re.md:t>=Ie.sm?re.sm:re.default}const Lt=t=>t.pageSize,_t=t=>t.setSelectedCollectionId,Rt=t=>t.setSearchFilter,Tt={movie:Ge,film:Ge,series:Re,tv:Re,show:Re,music:Ue,artist:Ue},Vt=t=>{const e=t.toLowerCase();return Object.entries(Tt).find(([s])=>e.includes(s))?.[1]??Je},We="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-6";function Ft(t){let e=null;const s=()=>{e&&clearTimeout(e),e=setTimeout(t,150)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),e&&clearTimeout(e)}}function Dt(){return typeof window<"u"?zt(window.innerWidth):re.default}function Ot(){return re.default}function Bt(){return T.useSyncExternalStore(Ft,Dt,Ot)}function Ut(t,e){const s=[],i=Math.max(2,t-1),n=Math.min(e-1,t+1);t>3&&s.push("ellipsis");for(let l=i;l<=n;l++)s.push(l);return t<e-2&&s.push("ellipsis"),s}function Gt(t,e){if(e<=7)return Array.from({length:e},(i,n)=>n+1);const s=[1];return s.push(...Ut(t,e)),e>1&&s.push(e),s}const Kt=et("/");function Yt(){const t=N.c(104),{t:e}=Qe(),s=qe(),{collection:i,page:n,search:l}=Kt.useSearch(),o=n??1,r=Me(Lt),h=Me(_t),C=Me(Rt);let m,b;t[0]!==l||t[1]!==i||t[2]!==h||t[3]!==C?(m=()=>{h(i??null),C(l??"")},b=[i,l,h,C],t[0]=l,t[1]=i,t[2]=h,t[3]=C,t[4]=m,t[5]=b):(m=t[4],b=t[5]),T.useEffect(m,b);let I;t[6]!==s?(I=c=>{s({to:"/",search:x=>({...x,page:c>1?c:void 0}),replace:!0})},t[6]=s,t[7]=I):I=t[7];const w=I,E=Bt(),{isPlugin:P,hasCredentials:V,isConnected:Y}=tt(),u=Me(qt),{data:M,isLoading:j,error:v,refetch:f}=st(),H=i??"",W=!!i;let A;t[8]!==l||t[9]!==H||t[10]!==W?(A={parentId:H,nameFilter:l,enabled:W},t[8]=l,t[9]=H,t[10]=W,t[11]=A):A=t[11];const{data:k,isLoading:ee,error:F,refetch:te}=it(A);let q;e:{if(!M){let x;t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[],t[12]=x):x=t[12],q=x;break e}let c;t[13]!==M?(c=M.map(Wt),t[13]=M,t[14]=c):c=t[14],q=c}const se=q,S=k?.length??0,g=Math.max(1,Math.ceil(S/r)),d=Math.min(Math.max(1,o),g);let J;e:{if(!k){let Q;t[15]===Symbol.for("react.memo_cache_sentinel")?(Q=[],t[15]=Q):Q=t[15],J=Q;break e}const c=(d-1)*r;let x;t[16]!==k||t[17]!==r||t[18]!==c?(x=k.slice(c,c+r),t[16]=k,t[17]=r,t[18]=c,t[19]=x):x=t[19],J=x}const p=J;let G;t[20]!==s||t[21]!==p?(G=c=>{const x=p[c];s(Ze(x))},t[20]=s,t[21]=p,t[22]=G):G=t[22];const ie=G,D=p.length>0;let $;t[23]!==E||t[24]!==ie||t[25]!==p.length||t[26]!==D?($={itemCount:p.length,columns:E,enabled:D,onActivate:ie},t[23]=E,t[24]=ie,t[25]=p.length,t[26]=D,t[27]=$):$=t[27];const{setFocusedIndex:O,gridProps:B,getItemProps:ne,gridRef:ae}=Et($);let z;t[28]===Symbol.for("react.memo_cache_sentinel")?(z=new Set,t[28]=z):z=t[28];const le=T.useRef(z);let L;t[29]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{le.current.clear()},t[29]=L):L=t[29];let X;t[30]!==i?(X=[i],t[30]=i,t[31]=X):X=t[31],T.useEffect(L,X);let _,R;t[32]!==p?(_=()=>{if(p.length===0)return;const c=new AbortController,x=setTimeout(()=>{if(c.signal.aborted)return;const Q=p.map(Ht).filter(Se=>!!Se&&!le.current.has(Se));Q.length>0&&(Q.forEach(Se=>le.current.add(Se)),vt(Q))},100);return()=>{c.abort(),clearTimeout(x)}},R=[p],t[32]=p,t[33]=_,t[34]=R):(_=t[33],R=t[34]),T.useEffect(_,R);let K,U;t[35]!==o||t[36]!==w||t[37]!==g?(K=()=>{o>g&&g>0&&w(g)},U=[o,g,w],t[35]=o,t[36]=w,t[37]=g,t[38]=K,t[39]=U):(K=t[38],U=t[39]),T.useEffect(K,U);let ve;t[40]!==O?(ve=()=>{O(-1)},t[40]=O,t[41]=ve):ve=t[41];let be;t[42]!==O||t[43]!==d?(be=[d,O],t[42]=O,t[43]=d,t[44]=be):be=t[44],T.useEffect(ve,be);let ye;t[45]!==s?(ye=c=>{s({to:"/",search:{collection:c??void 0,page:void 0,search:void 0},replace:!0})},t[45]=s,t[46]=ye):ye=t[46];const Ae=ye;let je;t[47]!==w?(je=c=>{w(c),window.scrollTo({top:0,behavior:"smooth"})},t[47]=w,t[48]=je):je=t[48];const ge=je;let Ne;t[49]!==v||t[50]!==f||t[51]!==te?(Ne=()=>{v?f():te()},t[49]=v,t[50]=f,t[51]=te,t[52]=Ne):Ne=t[52];const ke=Ne;let Ce;t[53]!==g||t[54]!==d?(Ce=Gt(d,g),t[53]=g,t[54]=d,t[55]=Ce):Ce=t[55];const $e=Ce,ze=j||i&&!F&&ee&&!k,Le=v||F,_e=i&&!ee&&!F&&k?.length===0,oe=!P&&!V&&!Y,ce=P&&!Y;let de;t[56]!==u||t[57]!==oe||t[58]!==e?(de=oe&&a.jsx("div",{className:"flex items-center justify-center min-h-[var(--spacing-empty-state-min-height)]",children:a.jsxs(Te,{className:"border-none bg-transparent",children:[a.jsxs(Ve,{children:[a.jsx(Fe,{variant:"icon",children:a.jsx(ct,{className:"size-12","aria-hidden":"true"})}),a.jsx(De,{className:"text-2xl",children:e("connection.notConnected",{defaultValue:"Not Connected"})}),a.jsx(Oe,{className:"text-base",children:e("connection.notConnectedDescription",{defaultValue:"Configure your Jellyfin server connection to get started"})})]}),a.jsx(Ye,{children:a.jsxs(Pe,{size:"lg",className:"gap-2 rounded-2xl",onClick:()=>u(!0),children:[a.jsx(dt,{className:"size-5","aria-hidden":"true"}),e("connection.openSettings",{defaultValue:"Open Settings"})]})})]})}),t[56]=u,t[57]=oe,t[58]=e,t[59]=de):de=t[59];let me;t[60]!==ce||t[61]!==e?(me=ce&&a.jsx("div",{className:"flex items-center justify-center min-h-[var(--spacing-empty-state-min-height)]",children:a.jsx(Te,{className:"border-none bg-transparent",children:a.jsxs(Ve,{children:[a.jsx(Fe,{variant:"icon",children:a.jsx(mt,{className:"size-12 animate-spin","aria-hidden":"true"})}),a.jsx(De,{className:"text-2xl",children:e("connection.connecting",{defaultValue:"Connecting..."})}),a.jsx(Oe,{className:"text-base",children:e("connection.connectingDescription",{defaultValue:"Establishing connection to Jellyfin server"})})]})})}),t[60]=ce,t[61]=e,t[62]=me):me=t[62];let ue;t[63]!==se||t[64]!==v||t[65]!==j||t[66]!==Ae||t[67]!==i||t[68]!==ce||t[69]!==oe||t[70]!==e?(ue=!oe&&!ce&&!i&&!j&&!v&&a.jsx("div",{className:"flex items-center justify-center min-h-[var(--spacing-empty-state-min-height)]",children:a.jsxs(Te,{className:"border-none bg-transparent",children:[a.jsxs(Ve,{children:[a.jsx(Fe,{variant:"icon",children:a.jsx(Je,{className:"size-12","aria-hidden":"true"})}),a.jsx(De,{className:"text-2xl",children:e("items.selectLibrary",{defaultValue:"Select a Library"})}),a.jsx(Oe,{className:"text-base",children:e("items.selectLibraryDescription",{defaultValue:"Choose a library to browse your media collection"})})]}),a.jsx(Ye,{children:a.jsx("div",{className:"flex flex-wrap gap-3 justify-center mt-4",role:"group","aria-label":e("items.selectLibrary",{defaultValue:"Select a Library"}),children:se.map(c=>{const x=Vt(c.name);return a.jsxs(Pe,{variant:"secondary",size:"lg",className:y("gap-3 min-w-[var(--spacing-library-button-min)] h-14","rounded-2xl text-base font-medium","border border-border/50","transition-all duration-200","hover:scale-[1.02] active:scale-[0.98]"),onClick:()=>Ae(c.id),"aria-label":e("items.selectLibraryButton",{name:c.name,defaultValue:`Browse ${c.name} library`}),children:[a.jsx(x,{className:"size-5","aria-hidden":"true"}),c.name]},c.id)})})})]})}),t[63]=se,t[64]=v,t[65]=j,t[66]=Ae,t[67]=i,t[68]=ce,t[69]=oe,t[70]=e,t[71]=ue):ue=t[71];let fe;t[72]!==r||t[73]!==ze?(fe=ze&&a.jsx(nt,{count:r,gridClassName:We}),t[72]=r,t[73]=ze,t[74]=fe):fe=t[74];let pe;t[75]!==v?.message||t[76]!==ke||t[77]!==F?.message||t[78]!==Le||t[79]!==e?(pe=Le&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 gap-4",role:"alert","aria-live":"assertive",children:[a.jsx("div",{className:"size-16 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx(ut,{className:"size-8 text-destructive","aria-hidden":"true"})}),a.jsx("p",{className:"text-destructive text-center text-lg",children:v?.message||F?.message}),a.jsxs(Pe,{variant:"secondary",size:"lg",className:"rounded-full px-6",onClick:ke,children:[a.jsx(ft,{className:"size-4 mr-2","aria-hidden":"true"}),e("common.retry")]})]}),t[75]=v?.message,t[76]=ke,t[77]=F?.message,t[78]=Le,t[79]=e,t[80]=pe):pe=t[80];let xe;t[81]!==_e||t[82]!==e?(xe=_e&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",role:"status","aria-live":"polite",children:[a.jsx("div",{className:"size-20 rounded-full bg-muted flex items-center justify-center mb-4",children:a.jsx(pt,{className:"size-10 text-muted-foreground","aria-hidden":"true"})}),a.jsx("p",{className:"text-muted-foreground text-lg",children:e("items.noItems",{defaultValue:"No items found"})})]}),t[81]=_e,t[82]=e,t[83]=xe):xe=t[83];let he;t[84]!==ne||t[85]!==B||t[86]!==ae||t[87]!==ge||t[88]!==$e||t[89]!==r||t[90]!==p||t[91]!==e||t[92]!==S||t[93]!==g||t[94]!==d?(he=p.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",role:"status","aria-live":"polite","aria-atomic":"true",children:e("items.showing",{start:(d-1)*r+1,end:Math.min(d*r,S),total:S,defaultValue:`Showing ${(d-1)*r+1}-${Math.min(d*r,S)} of ${S}`})})}),a.jsx("div",{ref:ae,className:We,...B,"aria-label":e("items.mediaGrid",{defaultValue:"Media items"}),children:p.map((c,x)=>a.jsx($t,{item:c,index:x,...ne(x)},c.Id))}),g>1&&a.jsx("div",{className:"mt-10",children:a.jsx(jt,{children:a.jsxs(Nt,{className:"gap-2",children:[a.jsx(Ee,{children:a.jsx(Ct,{onClick:()=>ge(Math.max(1,d-1)),"aria-disabled":d===1,"aria-label":e("accessibility.pagination.previous"),className:y("rounded-full",d===1?"pointer-events-none opacity-50":"cursor-pointer")})}),$e.map((c,x)=>c==="ellipsis"?a.jsx(Ee,{children:a.jsx(St,{})},`ellipsis-${x}`):a.jsx(Ee,{children:a.jsx(Be,{onClick:()=>ge(c),isActive:d===c,"aria-label":e("accessibility.pagination.page",{page:c}),"aria-current":d===c?"page":void 0,className:y("cursor-pointer rounded-full",d===c&&"bg-primary text-primary-foreground"),children:c})},c)),a.jsx(Ee,{children:a.jsx(wt,{onClick:()=>ge(Math.min(g,d+1)),"aria-disabled":d===g,"aria-label":e("accessibility.pagination.next"),className:y("rounded-full",d===g?"pointer-events-none opacity-50":"cursor-pointer")})})]})})})]}),t[84]=ne,t[85]=B,t[86]=ae,t[87]=ge,t[88]=$e,t[89]=r,t[90]=p,t[91]=e,t[92]=S,t[93]=g,t[94]=d,t[95]=he):he=t[95];let we;return t[96]!==de||t[97]!==me||t[98]!==ue||t[99]!==fe||t[100]!==pe||t[101]!==xe||t[102]!==he?(we=a.jsx("div",{className:"px-4 pb-8 sm:px-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[de,me,ue,fe,pe,xe,he]})}),t[96]=de,t[97]=me,t[98]=ue,t[99]=fe,t[100]=pe,t[101]=xe,t[102]=he,t[103]=we):we=t[103],we}function Ht(t){return Xe(t,200)}function Wt(t){return{id:t.ItemId||"",name:t.Name||"Unknown"}}function qt(t){return t.setSettingsOpen}bt({collection:Ke().optional().catch(void 0),page:yt().positive().int().optional().catch(1),search:Ke().optional().catch(void 0)});function ls(){const t=N.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx("main",{className:"min-h-[var(--spacing-page-min-height-md)]",children:a.jsx(ht,{featureName:"Media Browser",minHeightClass:"min-h-[var(--spacing-page-min-height-md)]",showNavigation:!1,children:a.jsx(Yt,{})})}),t[0]=e):e=t[0],e}export{ls as component};
