import{a as $,j as a,f as A}from"./tanstack-vendor-DRhT2kVp.js";import{c as S,af as I,a8 as R,a as P,B as C,ag as E,h as L,ah as B,S as y}from"./index-BTs5NH8z.js";import{I as Y}from"./ItemImage-BwH7mnxw.js";import{I as F,S as z}from"./empty-state-DVwB9wmP.js";import{P as D,aI as H,v as U}from"./ui-vendor-DfZQjXAX.js";import{R as q}from"./route-error-fallback-tGnS9Tsr.js";import{F as G}from"./feature-error-boundary--30YIiE6.js";import"./react-vendor-NRF3IDaz.js";import"./jellyfin-vendor-C-_X6ALD.js";import"./i18n-vendor-fVnzc7mj.js";import"./media-vendor-CUSAIUeh.js";const M=$.memo(function(e){const s=S.c(19),{track:l,index:m,onClick:i}=e,u=l.IndexNumber??m;let f;s[0]!==l.RunTimeTicks?(f=l.RunTimeTicks?I(R(l.RunTimeTicks)):"--:--",s[0]=l.RunTimeTicks,s[1]=f):f=s[1];const x=f;let h;s[2]===Symbol.for("react.memo_cache_sentinel")?(h=P("flex items-center gap-4 p-3 rounded-lg","hover:bg-accent/50 group"),s[2]=h):h=s[2];const o=`Play track ${u}: ${l.Name||`Track ${u}`}, duration ${x}`;let c;s[3]!==u?(c=a.jsx("span",{className:"group-hover:hidden",children:u}),s[3]=u,s[4]=c):c=s[4];let r;s[5]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(D,{className:"h-4 w-4 hidden group-hover:inline"}),s[5]=r):r=s[5];let n;s[6]!==c?(n=a.jsxs("div",{className:"w-8 text-center text-muted-foreground","aria-hidden":"true",children:[c,r]}),s[6]=c,s[7]=n):n=s[7];const N=l.Name||`Track ${u}`;let p;s[8]!==N?(p=a.jsx("div",{className:"flex-grow min-w-0",children:a.jsx("p",{className:"text-sm font-medium truncate",children:N})}),s[8]=N,s[9]=p):p=s[9];const j=`Duration: ${x}`;let d;s[10]!==x||s[11]!==j?(d=a.jsx("div",{className:"text-sm text-muted-foreground","aria-label":j,children:x}),s[10]=x,s[11]=j,s[12]=d):d=s[12];let g;return s[13]!==i||s[14]!==d||s[15]!==o||s[16]!==n||s[17]!==p?(g=a.jsxs(F,{onClick:i,className:h,"aria-label":o,children:[n,p,d]}),s[13]=i,s[14]=d,s[15]=o,s[16]=n,s[17]=p,s[18]=g):g=s[18],g});function V(t){const e=S.c(33),{album:s,tracks:l}=t,m=A(),i=s.Name||"Unknown Album",u=s.AlbumArtist||s.Artists?.[0]||"Unknown Artist";let f;e[0]!==m?(f=()=>m({to:"/"}),e[0]=m,e[1]=f):f=e[1];const x=f;let h;e[2]!==m?(h=w=>{m({to:"/player/$itemId",params:{itemId:w},search:{fetchSegments:"true"}})},e[2]=m,e[3]=h):h=e[3];const o=h;let c,r;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=a.jsx(U,{className:"h-5 w-5"}),r=a.jsx("span",{className:"sr-only",children:"Go back"}),e[4]=c,e[5]=r):(c=e[4],r=e[5]);let n;e[6]!==x?(n=a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(C,{variant:"outline",size:"icon",onClick:x,className:"rounded-full",children:[c,r]})}),e[6]=x,e[7]=n):n=e[7];let N;e[8]!==s?(N=a.jsx("div",{className:"flex-shrink-0 w-[var(--spacing-thumbnail-sm)] h-[var(--spacing-thumbnail-sm)] sm:w-[var(--spacing-thumbnail-md)] sm:h-[var(--spacing-thumbnail-md)] bg-muted rounded-lg overflow-hidden mx-auto sm:mx-0",children:a.jsx(Y,{item:s,maxWidth:200,aspectRatio:"aspect-square",className:"w-full h-full object-cover"})}),e[8]=s,e[9]=N):N=e[9];let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p=a.jsx("p",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:"Album"}),e[10]=p):p=e[10];let j;e[11]!==i?(j=a.jsx("h1",{className:"text-xl sm:text-2xl font-bold mt-1",children:i}),e[11]=i,e[12]=j):j=e[12];let d;e[13]!==u?(d=a.jsx("p",{className:"text-muted-foreground mt-2",children:u}),e[13]=u,e[14]=d):d=e[14];let g;e[15]!==s.ProductionYear||e[16]!==l.length?(g=s.ProductionYear&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[s.ProductionYear," â€¢ ",l.length," tracks"]}),e[15]=s.ProductionYear,e[16]=l.length,e[17]=g):g=e[17];let b;e[18]!==g||e[19]!==j||e[20]!==d?(b=a.jsxs("div",{className:"flex flex-col justify-end text-center sm:text-left",children:[p,j,d,g]}),e[18]=g,e[19]=j,e[20]=d,e[21]=b):b=e[21];let v;e[22]!==b||e[23]!==N?(v=a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[N,b]}),e[22]=b,e[23]=N,e[24]=v):v=e[24];let k;e[25]!==i||e[26]!==o||e[27]!==l?(k=l.length===0?a.jsx(z,{icon:a.jsx(H,{className:"h-8 w-8","aria-hidden":"true"}),message:"No tracks found for this album",className:"py-8"}):a.jsx("div",{className:"space-y-1",role:"list","aria-label":`${l.length} tracks in ${i}`,children:l.map((w,T)=>a.jsx(M,{track:w,index:T+1,onClick:()=>o(w.Id||"")},w.Id))}),e[25]=i,e[26]=o,e[27]=l,e[28]=k):k=e[28];let _;return e[29]!==v||e[30]!==k||e[31]!==n?(_=a.jsxs("div",{className:"space-y-6",children:[n,v,k]}),e[29]=v,e[30]=k,e[31]=n,e[32]=_):_=e[32],_}function W(){const t=S.c(5);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx("span",{className:"sr-only",children:"Loading album"}),t[0]=e):e=t[0];let s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(y,{className:"h-9 w-24"}),a.jsx(y,{className:"h-8 w-48"})]}),t[1]=s):s=t[1];let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(y,{className:"size-32 rounded-lg shrink-0"}),t[2]=l):l=t[2];let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsxs("div",{className:"flex gap-6",children:[l,a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx(y,{className:"h-6 w-48"}),a.jsx(y,{className:"h-4 w-32"})]})]}),t[3]=m):m=t[3];let i;return t[4]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsxs("main",{className:"min-h-[var(--spacing-page-min-height-header)] px-4 py-6 sm:px-6 overflow-auto",role:"status","aria-live":"polite","aria-busy":"true",children:[e,a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s,m,a.jsx("div",{className:"space-y-2",children:Array.from({length:8}).map(J)})]})]}),t[4]=i):i=t[4],i}function J(t,e){return a.jsx(y,{className:"h-12 w-full rounded-lg animate-in fade-in duration-300",style:{animationDelay:`${e*40}ms`}},e)}function re(){const t=S.c(8),{itemId:e}=E.useParams(),{data:s,isLoading:l,error:m}=L(e),{data:i,isLoading:u,error:f}=B(e),x=l||u,h=m||f;if(x){let r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(W,{}),t[0]=r):r=t[0],r}if(h||!s){const r=h?.message||"Album not found";let n;return t[1]!==r?(n=a.jsx(q,{message:r,minHeightClass:"min-h-[var(--spacing-page-min-height-header)]"}),t[1]=r,t[2]=n):n=t[2],n}let o;t[3]!==i?(o=i||[],t[3]=i,t[4]=o):o=t[4];let c;return t[5]!==s||t[6]!==o?(c=a.jsx("main",{className:"min-h-[var(--spacing-page-min-height-header)] px-4 py-6 sm:px-6 overflow-auto",children:a.jsx(G,{featureName:"Album",minHeightClass:"min-h-[var(--spacing-page-min-height-header)]",children:a.jsx(V,{album:s,tracks:o})})}),t[5]=s,t[6]=o,t[7]=c):c=t[7],c}export{re as component};
