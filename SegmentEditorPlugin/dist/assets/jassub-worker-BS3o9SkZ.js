(function(){"use strict";async function je(kr={}){var fr,f=kr,Ar=(...r)=>console.log(...r),M=(...r)=>console.error(...r);function Ve(){Ur?.(f),p&&Or()}var Fr=!!globalThis.WorkerGlobalScope,p=Fr&&self.name?.startsWith("em-pthread");const Mr=!!WebAssembly.Memory.prototype.toResizableBuffer;if(z=()=>{if(!(Mr&&self.HEAPU8RAW)){var r=Mr?k.toResizableBuffer():k.buffer;D=new Int8Array(r),E=new Int16Array(r),w=new Uint8Array(r),B=new Uint16Array(r),R=new Int32Array(r),y=new Uint32Array(r),vr=new Float32Array(r),L=new Float64Array(r),S=new BigInt64Array(r),dr=new BigUint64Array(r),self.HEAPU8RAW=new Uint8Array(r),self.WASMMEMORY=k}},self.name.startsWith("em-pthread")){const r=self.name.split("-").slice(2).join("-"),e=globalThis.fetch;globalThis.fetch=t=>e(r)}else{const r=globalThis.Worker;globalThis.Worker=class extends r{constructor(e,t={}){super(e,{...t,name:"em-pthread-"+kr.__url})}}}function Sr(r){throw r}function u(){k.buffer!=D.buffer&&z()}var Ur,Or;if(p){let r=function(e){try{var t=e.data,n=t.cmd;if(n==="load"){let a=[];self.onmessage=i=>a.push(i),Or=()=>{postMessage({cmd:"loaded"});for(let i of a)r(i);self.onmessage=r};for(const i of t.handlers)(!f[i]||f[i].proxy)&&(f[i]=(...s)=>{postMessage({cmd:"callHandler",handler:i,args:s})},i=="print"&&(Ar=f[i]),i=="printErr"&&(M=f[i]));k=t.wasmMemory,z(),f.wasm=t.wasmModule,Ue()}else if(n==="run"){Ze(t.pthread_ptr),Cr(t.pthread_ptr,0,0,1,0,0),v.threadInitTLS(),mr(t.pthread_ptr),cr||(ye(),cr=!0);try{Ge(t.start_routine,t.arg)}catch(a){if(a!="unwind")throw a}}else t.target==="setimmediate"||(n==="checkMailbox"?cr&&or():n&&(M(`worker: received unknown command ${n}`),M(t)))}catch(a){throw $e(),a}};var cr=!1;self.onunhandledrejection=e=>{throw e.reason||e},self.onmessage=r}var D,w,E,B,R,y,vr,L,S,dr,Rr=!1;function z(){var r=k.buffer;D=new Int8Array(r),E=new Int16Array(r),w=new Uint8Array(r),B=new Uint16Array(r),R=new Int32Array(r),y=new Uint32Array(r),vr=new Float32Array(r),L=new Float64Array(r),S=new BigInt64Array(r),dr=new BigUint64Array(r)}function De(){if(!p){{var r=62914560;k=new WebAssembly.Memory({initial:r/65536,maximum:32768,shared:!0})}z()}}De();var Ir=r=>{r.terminate(),r.onmessage=e=>{}},jr=r=>{var e=v.pthreads[r];v.returnWorkerToPool(e)},Ee=r=>{for(;r.length>0;)r.shift()(f)},Be=[],Hr=r=>{var e=v.getNewWorker();if(!e)return 6;v.runningWorkers.push(e),v.pthreads[r.pthread_ptr]=e,e.pthread_ptr=r.pthread_ptr;var t={cmd:"run",start_routine:r.startRoutine,arg:r.arg,pthread_ptr:r.pthread_ptr};return e.postMessage(t,r.transferList),0},x=()=>Ae(),Z=r=>We(r),Le=r=>ke(r),m=(r,e,t,...n)=>{for(var a=n.length*2,i=x(),s=Le(a*8),o=s>>3,l=0;l<n.length;l++){var c=n[l];typeof c=="bigint"?((u(),S)[o+2*l]=1n,(u(),S)[o+2*l+1]=c):((u(),S)[o+2*l]=0n,(u(),L)[o+2*l+1]=c)}var _=be(r,e,a,s,t);return Z(i),_};function _r(r){if(p)return m(0,0,1,r);throw`exit(${r})`}var ze=_r,v={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){p||v.initMainThread()},initMainThread(){for(var r=self.crossOriginIsolated?Math.min(Math.max(0,navigator.hardwareConcurrency-2),8):0;r--;)v.allocateUnusedWorker()},terminateAllThreads:()=>{for(var r of v.runningWorkers)Ir(r);for(var r of v.unusedWorkers)Ir(r);v.unusedWorkers=[],v.runningWorkers=[],v.pthreads={}},returnWorkerToPool:r=>{var e=r.pthread_ptr;delete v.pthreads[e],v.unusedWorkers.push(r),v.runningWorkers.splice(v.runningWorkers.indexOf(r),1),r.pthread_ptr=0,me(e)},threadInitTLS(){v.tlsInitFunctions.forEach(r=>r())},loadWasmModuleToWorker:r=>new Promise(e=>{r.onmessage=i=>{var s=i.data,o=s.cmd;if(s.targetThread&&s.targetThread!=wr()){var l=v.pthreads[s.targetThread];l?l.postMessage(s,s.transferList):M(`Internal error! Worker sent a message "${o}" to target pthread ${s.targetThread}, but that thread no longer exists!`);return}o==="checkMailbox"?or():o==="spawnThread"?Hr(s):o==="cleanupThread"?br(()=>jr(s.thread)):o==="loaded"?(r.loaded=!0,e(r)):s.target==="setimmediate"?r.postMessage(s):o==="callHandler"?f[s.handler](...s.args):o&&M(`worker sent an unknown command ${o}`)},r.onerror=i=>{var s="worker sent an error!";throw M(`${s} ${i.filename}:${i.lineno}: ${i.message}`),i};var t=[],n=[];for(var a of n)f.propertyIsEnumerable(a)&&t.push(a);r.postMessage({cmd:"load",handlers:t,wasmMemory:k,wasmModule:Se})}),async loadWasmModuleToAllWorkers(){return p?void 0:Promise.all(v.unusedWorkers.map(v.loadWasmModuleToWorker))},allocateUnusedWorker(){var r;r=new Worker(self.location.href,{type:"module",name:"em-pthread"}),v.unusedWorkers.push(r)},getNewWorker(){return v.unusedWorkers.length==0&&(v.allocateUnusedWorker(),v.loadWasmModuleToWorker(v.unusedWorkers[0])),v.unusedWorkers.pop()}};function Ze(r){var e=(u(),y)[r+52>>2],t=(u(),y)[r+56>>2],n=e-t;Ce(e,n),Z(e)}var Vr=[],G=r=>{var e=Vr[r];return e||(Vr[r]=e=Fe.get(r)),e},Ge=(r,e)=>{var t=G(r)(e);function n(a){Pe(a)}n(t)},k,Dr=new TextDecoder,pr=(r,e,t,n)=>{var a=e+t;if(n)return a;for(;r[e]&&!(e>=a);)++e;return e},N=(r,e,t)=>{if(!r)return"";var n=pr((u(),w),r,e,t);return Dr.decode((u(),w).slice(r,n))},Ne=(r,e,t,n)=>Sr(`Assertion failed: ${N(r)}, at: `+[e?N(e):"unknown filename",t,n?N(n):"unknown function"]);function Er(r,e,t,n){return p?m(1,0,1,r,e,t,n):Br(r,e,t,n)}var Ye=()=>!!globalThis.SharedArrayBuffer,Br=(r,e,t,n)=>{if(!Ye())return 6;var a=[],i=0;if(p&&(a.length===0||i))return Er(r,e,t,n);var s={startRoutine:t,pthread_ptr:r,arg:n,transferList:a};return p?(s.cmd="spawnThread",postMessage(s,a),0):Hr(s)};function Lr(r,e,t){return p?m(2,0,1,r,e,t):0}function zr(r,e,t){if(p)return m(3,0,1,r,e,t)}function Zr(r,e,t){return p?m(4,0,1,r,e,t):0}function Gr(r,e,t,n){if(p)return m(5,0,1,r,e,t,n)}var Je=()=>Sr(""),P=r=>{for(var e="";;){var t=(u(),w)[r++];if(!t)return e;e+=String.fromCharCode(t)}},j={},H={},rr={},Y=class extends Error{constructor(e){super(e),this.name="BindingError"}},d=r=>{throw new Y(r)};function Ke(r,e,t={}){var n=e.name;if(r||d(`type "${n}" must have a positive integer typeid pointer`),H.hasOwnProperty(r)){if(t.ignoreDuplicateRegistrations)return;d(`Cannot register type '${n}' twice`)}if(H[r]=e,delete rr[r],j.hasOwnProperty(r)){var a=j[r];delete j[r],a.forEach(i=>i())}}function A(r,e,t={}){return Ke(r,e,t)}var Nr=(r,e,t)=>{switch(e){case 1:return t?n=>(u(),D)[n]:n=>(u(),w)[n];case 2:return t?n=>(u(),E)[n>>1]:n=>(u(),B)[n>>1];case 4:return t?n=>(u(),R)[n>>2]:n=>(u(),y)[n>>2];case 8:return t?n=>(u(),S)[n>>3]:n=>(u(),dr)[n>>3];default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},Qe=(r,e,t,n,a)=>{e=P(e);const i=n===0n;let s=o=>o;if(i){const o=t*8;s=l=>BigInt.asUintN(o,l),a=s(a)}A(r,{name:e,fromWireType:s,toWireType:(o,l)=>(typeof l=="number"&&(l=BigInt(l)),l),readValueFromPointer:Nr(e,t,!i),destructorFunction:null})},Xe=(r,e,t,n)=>{e=P(e),A(r,{name:e,fromWireType:function(a){return!!a},toWireType:function(a,i){return i?t:n},readValueFromPointer:function(a){return this.fromWireType((u(),w)[a])},destructorFunction:null})},qe=r=>({count:r.count,deleteScheduled:r.deleteScheduled,preservePointerOnDelete:r.preservePointerOnDelete,ptr:r.ptr,ptrType:r.ptrType,smartPtr:r.smartPtr,smartPtrType:r.smartPtrType}),hr=r=>{function e(t){return t.$$.ptrType.registeredClass.name}d(e(r)+" instance already deleted")},gr=!1,Yr=r=>{},xe=r=>{r.smartPtr?r.smartPtrType.rawDestructor(r.smartPtr):r.ptrType.registeredClass.rawDestructor(r.ptr)},Jr=r=>{r.count.value-=1;var e=r.count.value===0;e&&xe(r)},J=r=>globalThis.FinalizationRegistry?(gr=new FinalizationRegistry(e=>{Jr(e.$$)}),J=e=>{var t=e.$$,n=!!t.smartPtr;if(n){var a={$$:t};gr.register(e,a,e)}return e},Yr=e=>gr.unregister(e),J(r)):(J=e=>e,r),rt=()=>{let r=er.prototype;Object.assign(r,{isAliasOf(t){if(!(this instanceof er)||!(t instanceof er))return!1;var n=this.$$.ptrType.registeredClass,a=this.$$.ptr;t.$$=t.$$;for(var i=t.$$.ptrType.registeredClass,s=t.$$.ptr;n.baseClass;)a=n.upcast(a),n=n.baseClass;for(;i.baseClass;)s=i.upcast(s),i=i.baseClass;return n===i&&a===s},clone(){if(this.$$.ptr||hr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=J(Object.create(Object.getPrototypeOf(this),{$$:{value:qe(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||hr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),Yr(this),Jr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||hr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&d("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const e=Symbol.dispose;e&&(r[e]=r.delete)};function er(){}var Kr=(r,e)=>Object.defineProperty(e,"name",{value:r}),Qr={},Xr=(r,e,t)=>{if(r[e].overloadTable===void 0){var n=r[e];r[e]=function(...a){return r[e].overloadTable.hasOwnProperty(a.length)||d(`Function '${t}' called with an invalid number of arguments (${a.length}) - expects one of (${r[e].overloadTable})!`),r[e].overloadTable[a.length].apply(this,a)},r[e].overloadTable=[],r[e].overloadTable[n.argCount]=n}},et=(r,e,t)=>{f.hasOwnProperty(r)?(d(`Cannot register public name '${r}' twice`),Xr(f,r,r),f[r].overloadTable.hasOwnProperty(t)&&d(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),f[r].overloadTable[t]=e):(f[r]=e,f[r].argCount=t)},tt=48,nt=57,at=r=>{r=r.replace(/[^a-zA-Z0-9_]/g,"$");var e=r.charCodeAt(0);return e>=tt&&e<=nt?`_${r}`:r};function it(r,e,t,n,a,i,s,o){this.name=r,this.constructor=e,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=a,this.getActualType=i,this.upcast=s,this.downcast=o,this.pureVirtualFunctions=[]}var tr=(r,e,t)=>{for(;e!==t;)e.upcast||d(`Expected null or instance of ${t.name}, got an instance of ${e.name}`),r=e.upcast(r),e=e.baseClass;return r},yr=r=>{if(r===null)return"null";var e=typeof r;return e==="object"||e==="array"||e==="function"?r.toString():""+r};function st(r,e){if(e===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;e.$$||d(`Cannot pass "${yr(e)}" as a ${this.name}`),e.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=tr(e.$$.ptr,t,this.registeredClass);return n}function ot(r,e){var t;if(e===null)return this.isReference&&d(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),r!==null&&r.push(this.rawDestructor,t),t):0;(!e||!e.$$)&&d(`Cannot pass "${yr(e)}" as a ${this.name}`),e.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&d(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(t=tr(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&d("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?t=e.$$.smartPtr:d(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)t=e.$$.smartPtr;else{var a=e.clone();t=this.rawShare(t,$r.toHandle(()=>a.delete())),r!==null&&r.push(this.rawDestructor,t)}break;default:d("Unsupporting sharing policy")}return t}function lt(r,e){if(e===null)return this.isReference&&d(`null is not a valid ${this.name}`),0;e.$$||d(`Cannot pass "${yr(e)}" as a ${this.name}`),e.$$.ptr||d(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&d(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=tr(e.$$.ptr,t,this.registeredClass);return n}function nr(r){return this.fromWireType((u(),y)[r>>2])}var qr=(r,e,t)=>{if(e===t)return r;if(t.baseClass===void 0)return null;var n=qr(r,e,t.baseClass);return n===null?null:t.downcast(n)},ut={},ft=(r,e)=>{for(e===void 0&&d("ptr should not be undefined");r.baseClass;)e=r.upcast(e),r=r.baseClass;return e},ct=(r,e)=>(e=ft(r,e),ut[e]),vt=class extends Error{constructor(e){super(e),this.name="InternalError"}},ar=r=>{throw new vt(r)},ir=(r,e)=>{(!e.ptrType||!e.ptr)&&ar("makeClassHandle requires ptr and ptrType");var t=!!e.smartPtrType,n=!!e.smartPtr;return t!==n&&ar("Both smartPtrType and smartPtr must be specified"),e.count={value:1},J(Object.create(r,{$$:{value:e,writable:!0}}))};function dt(r){var e=this.getPointee(r);if(!e)return this.destructor(r),null;var t=ct(this.registeredClass,e);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=e,t.$$.smartPtr=r,t.clone();var n=t.clone();return this.destructor(r),n}function a(){return this.isSmartPointer?ir(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:r}):ir(this.registeredClass.instancePrototype,{ptrType:this,ptr:r})}var i=this.registeredClass.getActualType(e),s=Qr[i];if(!s)return a.call(this);var o;this.isConst?o=s.constPointerType:o=s.pointerType;var l=qr(e,this.registeredClass,o.registeredClass);return l===null?a.call(this):this.isSmartPointer?ir(o.registeredClass.instancePrototype,{ptrType:o,ptr:l,smartPtrType:this,smartPtr:r}):ir(o.registeredClass.instancePrototype,{ptrType:o,ptr:l})}var _t=()=>{Object.assign(sr.prototype,{getPointee(r){return this.rawGetPointee&&(r=this.rawGetPointee(r)),r},destructor(r){this.rawDestructor?.(r)},readValueFromPointer:nr,fromWireType:dt})};function sr(r,e,t,n,a,i,s,o,l,c,_){this.name=r,this.registeredClass=e,this.isReference=t,this.isConst=n,this.isSmartPointer=a,this.pointeeType=i,this.sharingPolicy=s,this.rawGetPointee=o,this.rawConstructor=l,this.rawShare=c,this.rawDestructor=_,!a&&e.baseClass===void 0?n?(this.toWireType=st,this.destructorFunction=null):(this.toWireType=lt,this.destructorFunction=null):this.toWireType=ot}var pt=(r,e,t)=>{f.hasOwnProperty(r)||ar("Replacing nonexistent public symbol"),f[r].overloadTable!==void 0&&t!==void 0||(f[r]=e,f[r].argCount=t)},U=(r,e,t=!1)=>{r=P(r);function n(){var i=G(e);return i}var a=n();return typeof a!="function"&&d(`unknown function pointer with signature ${r}: ${e}`),a};class ht extends Error{}var gt=r=>{var e=ge(r),t=P(e);return O(e),t},K=(r,e)=>{var t=[],n={};function a(i){if(!n[i]&&!H[i]){if(rr[i]){rr[i].forEach(a);return}t.push(i),n[i]=!0}}throw e.forEach(a),new ht(`${r}: `+t.map(gt).join([", "]))},I=(r,e,t)=>{r.forEach(o=>rr[o]=e);function n(o){var l=t(o);l.length!==r.length&&ar("Mismatched type converter count");for(var c=0;c<r.length;++c)A(r[c],l[c])}var a=new Array(e.length),i=[],s=0;for(let[o,l]of e.entries())H.hasOwnProperty(l)?a[o]=H[l]:(i.push(l),j.hasOwnProperty(l)||(j[l]=[]),j[l].push(()=>{a[o]=H[l],++s,s===i.length&&n(a)}));i.length===0&&n(a)},yt=(r,e,t,n,a,i,s,o,l,c,_,g,$)=>{_=P(_),i=U(a,i),o&&=U(s,o),c&&=U(l,c),$=U(g,$);var h=at(_);et(h,function(){K(`Cannot construct ${_} due to unbound types`,[n])}),I([r,e,t],n?[n]:[],b=>{b=b[0];var C,F;n?(C=b.registeredClass,F=C.instancePrototype):F=er.prototype;var W=Kr(_,function(...Wr){if(Object.getPrototypeOf(this)!==q)throw new Y(`Use 'new' to construct ${_}`);if(T.constructor_body===void 0)throw new Y(`${_} has no accessible constructor`);var Ie=T.constructor_body[Wr.length];if(Ie===void 0)throw new Y(`Tried to invoke ctor of ${_} with invalid number of parameters (${Wr.length}) - expected (${Object.keys(T.constructor_body).toString()}) parameters instead!`);return Ie.apply(this,Wr)}),q=Object.create(F,{constructor:{value:W}});W.prototype=q;var T=new it(_,W,q,$,C,i,o,c);T.baseClass&&(T.baseClass.__derivedClasses??=[],T.baseClass.__derivedClasses.push(T));var Pn=new sr(_,T,!0,!1,!1),Oe=new sr(_+"*",T,!1,!1,!1),Re=new sr(_+" const*",T,!1,!0,!1);return Qr[r]={pointerType:Oe,constPointerType:Re},pt(h,W),[Pn,Oe,Re]})},xr=(r,e)=>{for(var t=[],n=0;n<r;n++)t.push((u(),y)[e+n*4>>2]);return t},re=r=>{for(;r.length;){var e=r.pop(),t=r.pop();t(e)}};function ee(r){for(var e=1;e<r.length;++e)if(r[e]!==null&&r[e].destructorFunction===void 0)return!0;return!1}function $t(r,e,t,n){var a=ee(r),i=r.length-2,s=[],o=["fn"];e&&o.push("thisWired");for(var l=0;l<i;++l)s.push(`arg${l}`),o.push(`arg${l}Wired`);s=s.join(","),o=o.join(",");var c=`return function (${s}) {
`;a&&(c+=`var destructors = [];
`);var _=a?"destructors":"null",g=["humanName","throwBindingError","invoker","fn","runDestructors","fromRetWire","toClassParamWire"];e&&(c+=`var thisWired = toClassParamWire(${_}, this);
`);for(var l=0;l<i;++l){var $=`toArg${l}Wire`;c+=`var arg${l}Wired = ${$}(${_}, arg${l});
`,g.push($)}if(c+=(t||n?"var rv = ":"")+`invoker(${o});
`,a)c+=`runDestructors(destructors);
`;else for(var l=e?1:2;l<r.length;++l){var h=l===1?"thisWired":"arg"+(l-2)+"Wired";r[l].destructorFunction!==null&&(c+=`${h}_dtor(${h});
`,g.push(`${h}_dtor`))}return t&&(c+=`var ret = fromRetWire(rv);
return ret;
`),c+=`}
`,new Function(g,c)}function te(r,e,t,n,a,i){var s=e.length;s<2&&d("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=e[1]!==null&&t!==null,l=ee(e),c=!e[0].isVoid,_=e[0],g=e[1],$=[r,d,n,a,re,_.fromWireType.bind(_),g?.toWireType.bind(g)],h=2;h<s;++h){var b=e[h];$.push(b.toWireType.bind(b))}if(!l)for(var h=o?1:2;h<e.length;++h)e[h].destructorFunction!==null&&$.push(e[h].destructorFunction);var F=$t(e,o,c,i)(...$);return Kr(r,F)}var bt=(r,e,t,n,a,i)=>{var s=xr(e,t);a=U(n,a),I([],[r],o=>{o=o[0];var l=`constructor ${o.name}`;if(o.registeredClass.constructor_body===void 0&&(o.registeredClass.constructor_body=[]),o.registeredClass.constructor_body[e-1]!==void 0)throw new Y(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${o.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return o.registeredClass.constructor_body[e-1]=()=>{K(`Cannot construct ${o.name} due to unbound types`,s)},I([],s,c=>(c.splice(1,0,null),o.registeredClass.constructor_body[e-1]=te(l,c,null,a,i),[])),[]})},mt=r=>{r=r.trim();const e=r.indexOf("(");return e===-1?r:r.slice(0,e)},Pt=(r,e,t,n,a,i,s,o,l,c)=>{var _=xr(t,n);e=P(e),e=mt(e),i=U(a,i,l),I([],[r],g=>{g=g[0];var $=`${g.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),o&&g.registeredClass.pureVirtualFunctions.push(e);function h(){K(`Cannot call ${$} due to unbound types`,_)}var b=g.registeredClass.instancePrototype,C=b[e];return C===void 0||C.overloadTable===void 0&&C.className!==g.name&&C.argCount===t-2?(h.argCount=t-2,h.className=g.name,b[e]=h):(Xr(b,e,$),b[e].overloadTable[t-2]=h),I([],_,F=>{var W=te($,F,g,i,s,l);return b[e].overloadTable===void 0?(W.argCount=t-2,b[e]=W):b[e].overloadTable[t-2]=W,[]}),[]})},ne=(r,e,t)=>(r instanceof Object||d(`${t} with invalid "this": ${r}`),r instanceof e.registeredClass.constructor||d(`${t} incompatible with "this" of type ${r.constructor.name}`),r.$$.ptr||d(`cannot call emscripten binding method ${t} on deleted object`),tr(r.$$.ptr,r.$$.ptrType.registeredClass,e.registeredClass)),Tt=(r,e,t,n,a,i,s,o,l,c)=>{e=P(e),a=U(n,a),I([],[r],_=>{_=_[0];var g=`${_.name}.${e}`,$={get(){K(`Cannot access ${g} due to unbound types`,[t,s])},enumerable:!0,configurable:!0};return l?$.set=()=>K(`Cannot access ${g} due to unbound types`,[t,s]):$.set=h=>d(g+" is a read-only property"),Object.defineProperty(_.registeredClass.instancePrototype,e,$),I([],l?[t,s]:[t],h=>{var b=h[0],C={get(){var W=ne(this,_,g+" getter");return b.fromWireType(a(i,W))},enumerable:!0};if(l){l=U(o,l);var F=h[1];C.set=function(W){var q=ne(this,_,g+" setter"),T=[];l(c,q,F.toWireType(T,W)),re(T)}}return Object.defineProperty(_.registeredClass.instancePrototype,e,C),[]}),[]})},ae=[],V=[0,1,,1,null,1,!0,1,!1,1],wt=r=>{r>9&&--V[r+1]===0&&(V[r]=void 0,ae.push(r))},$r={toValue:r=>(r||d(`Cannot use deleted val. handle = ${r}`),V[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=ae.pop()||V.length;return V[e]=r,V[e+1]=1,e}}}},Ct={name:"emscripten::val",fromWireType:r=>{var e=$r.toValue(r);return wt(r),e},toWireType:(r,e)=>$r.toHandle(e),readValueFromPointer:nr,destructorFunction:null},Wt=r=>A(r,Ct),kt=(r,e)=>{switch(e){case 4:return function(t){return this.fromWireType((u(),vr)[t>>2])};case 8:return function(t){return this.fromWireType((u(),L)[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${r}`)}},At=(r,e,t)=>{e=P(e),A(r,{name:e,fromWireType:n=>n,toWireType:(n,a)=>a,readValueFromPointer:kt(e,t),destructorFunction:null})},Ft=(r,e,t,n,a)=>{e=P(e);const i=n===0;let s=l=>l;if(i){var o=32-8*t;s=l=>l<<o>>>o,a=s(a)}A(r,{name:e,fromWireType:s,toWireType:(l,c)=>c,readValueFromPointer:Nr(e,t,n!==0),destructorFunction:null})},Mt=(r,e,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array],a=n[e];function i(s){var o=(u(),y)[s>>2],l=(u(),y)[s+4>>2];return new a((u(),D).buffer,l,o)}t=P(t),A(r,{name:t,fromWireType:i,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},St=(r,e,t,n)=>{if(!(n>0))return 0;for(var a=t,i=t+n-1,s=0;s<r.length;++s){var o=r.codePointAt(s);if(o<=127){if(t>=i)break;e[t++]=o}else if(o<=2047){if(t+1>=i)break;e[t++]=192|o>>6,e[t++]=128|o&63}else if(o<=65535){if(t+2>=i)break;e[t++]=224|o>>12,e[t++]=128|o>>6&63,e[t++]=128|o&63}else{if(t+3>=i)break;e[t++]=240|o>>18,e[t++]=128|o>>12&63,e[t++]=128|o>>6&63,e[t++]=128|o&63,s++}}return e[t]=0,t-a},ie=(r,e,t)=>St(r,(u(),w),e,t),se=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++t):e+=3}return e},Ut=(r,e)=>{e=P(e),A(r,{name:e,fromWireType(t){var n=(u(),y)[t>>2],a=t+4,i;return i=N(a,n,!0),O(t),i},toWireType(t,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var a,i=typeof n=="string";i||ArrayBuffer.isView(n)&&n.BYTES_PER_ELEMENT==1||d("Cannot pass non-string to std::string"),i?a=se(n):a=n.length;var s=Tr(4+a+1),o=s+4;return(u(),y)[s>>2]=a,i?ie(n,o,a+1):(u(),w).set(n,o),t!==null&&t.push(O,s),s},readValueFromPointer:nr,destructorFunction(t){O(t)}})},Ot=new TextDecoder("utf-16le"),Rt=(r,e,t)=>{var n=r>>1,a=pr((u(),B),n,e/2,t);return Ot.decode((u(),B).slice(n,a))},It=(r,e,t)=>{if(t??=2147483647,t<2)return 0;t-=2;for(var n=e,a=t<r.length*2?t/2:r.length,i=0;i<a;++i){var s=r.charCodeAt(i);(u(),E)[e>>1]=s,e+=2}return(u(),E)[e>>1]=0,e-n},jt=r=>r.length*2,Ht=(r,e,t)=>{for(var n="",a=r>>2,i=0;!(i>=e/4);i++){var s=(u(),y)[a+i];if(!s&&!t)break;n+=String.fromCodePoint(s)}return n},Vt=(r,e,t)=>{if(t??=2147483647,t<4)return 0;for(var n=e,a=n+t-4,i=0;i<r.length;++i){var s=r.codePointAt(i);if(s>65535&&i++,(u(),R)[e>>2]=s,e+=4,e+4>a)break}return(u(),R)[e>>2]=0,e-n},Dt=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.codePointAt(t);n>65535&&t++,e+=4}return e},Et=(r,e,t)=>{t=P(t);var n,a,i;e===2?(n=Rt,a=It,i=jt):(n=Ht,a=Vt,i=Dt),A(r,{name:t,fromWireType:s=>{var o=(u(),y)[s>>2],l=n(s+4,o*e,!0);return O(s),l},toWireType:(s,o)=>{typeof o!="string"&&d(`Cannot pass non-string to C++ string type ${t}`);var l=i(o),c=Tr(4+l+e);return(u(),y)[c>>2]=l/e,a(o,c+4,l+e),s!==null&&s.push(O,c),c},readValueFromPointer:nr,destructorFunction(s){O(s)}})},Bt=(r,e)=>{e=P(e),A(r,{isVoid:!0,name:e,fromWireType:()=>{},toWireType:(t,n)=>{}})},Lt=r=>{Cr(r,!Fr,1,!1,65536,!1),v.threadInitTLS()},br=r=>{r()},zt=!Atomics.waitAsync||globalThis.navigator?.userAgent&&Number((navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)||[])[2])<91,mr=r=>{if(!zt){var e=Atomics.waitAsync((u(),R),r>>2,r);e.value.then(or);var t=r+128;Atomics.store((u(),R),t>>2,1)}},or=()=>br(()=>{var r=wr();r&&(mr(r),we())}),Zt=(r,e)=>{if(r==e)setTimeout(or);else if(p)postMessage({targetThread:r,cmd:"checkMailbox"});else{var t=v.pthreads[r];if(!t)return;t.postMessage({cmd:"checkMailbox"})}},lr=[],Gt=(r,e,t,n,a)=>{n/=2,lr.length=n;for(var i=a>>3,s=0;s<n;s++)(u(),S)[i+2*s]?lr[s]=(u(),S)[i+2*s+1]:lr[s]=(u(),L)[i+2*s+1];var o=pn[r];v.currentProxiedOperationCallerThread=t;var l=o(...lr);return v.currentProxiedOperationCallerThread=0,l},Nt=()=>{},Yt=r=>{p?postMessage({cmd:"cleanupThread",thread:r}):jr(r)},Jt=r=>{},Kt=()=>{throw 1/0},Q={},oe=()=>performance.timeOrigin+performance.now();function le(r,e){if(p)return m(6,0,1,r,e);if(Q[r]&&(clearTimeout(Q[r].id),delete Q[r]),!e)return 0;var t=setTimeout(()=>{delete Q[r],br(()=>Te(r,oe()))},e);return Q[r]={id:t,timeout_ms:e},0}var Qt=()=>Date.now(),Xt=9007199254740992,qt=-9007199254740992,xt=r=>r<qt||r>Xt?NaN:Number(r),rn=()=>{},en=r=>M(N(r)),tn=()=>{throw"unwind"},ue=()=>2147483648,nn=()=>ue(),an=()=>navigator.hardwareConcurrency,sn=(r,e)=>Math.ceil(r/e)*e,on=r=>{var e=k.buffer.byteLength,t=(r-e+65535)/65536|0;try{return k.grow(t),z(),1}catch{}},ln=r=>{var e=(u(),w).length;if(r>>>=0,r<=e)return!1;var t=ue();if(r>t)return!1;for(var n=1;n<=4;n*=2){var a=e*(1+.2/n);a=Math.min(a,r+100663296);var i=Math.min(t,sn(Math.max(r,a),65536)),s=on(i);if(s)return!0}return!1},Pr={},un=()=>"./this.program",X=()=>{if(!X.strings){var r=(globalThis.navigator?.language??"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:un()};for(var t in Pr)Pr[t]===void 0?delete e[t]:e[t]=Pr[t];var n=[];for(var t in e)n.push(`${t}=${e[t]}`);X.strings=n}return X.strings};function fe(r,e){if(p)return m(7,0,1,r,e);var t=0,n=0;for(var a of X()){var i=e+t;(u(),y)[r+n>>2]=i,t+=ie(a,i,1/0)+1,n+=4}return 0}function ce(r,e){if(p)return m(8,0,1,r,e);var t=X();(u(),y)[r>>2]=t.length;var n=0;for(var a of t)n+=se(a)+1;return(u(),y)[e>>2]=n,0}function ve(r){return p?m(9,0,1,r):52}function de(r,e,t,n){return p?m(10,0,1,r,e,t,n):52}function _e(r,e,t,n){return p?m(11,0,1,r,e,t,n):(e=xt(e),70)}var fn=[null,[],[]],cn=(r,e=0,t,n)=>{var a=pr(r,e,t,n);return Dr.decode(r.buffer?r.buffer instanceof ArrayBuffer?r.subarray(e,a):r.slice(e,a):new Uint8Array(r.slice(e,a)))},vn=(r,e)=>{var t=fn[r];e===0||e===10?((r===1?Ar:M)(cn(t)),t.length=0):t.push(e)};function pe(r,e,t,n){if(p)return m(12,0,1,r,e,t,n);for(var a=0,i=0;i<t;i++){var s=(u(),y)[e>>2],o=(u(),y)[e+4>>2];e+=8;for(var l=0;l<o;l++)vn(r,(u(),w)[s+l]);a+=o}return(u(),y)[n>>2]=a,0}var dn=()=>r=>r.set(crypto.getRandomValues(new Uint8Array(r.byteLength))),he=r=>{(he=dn())(r)},_n=(r,e)=>(he((u(),w).subarray(r,r+e)),0);v.init(),rt(),_t();var pn=[_r,Er,Lr,zr,Zr,Gr,le,fe,ce,ve,de,_e,pe],Tr,O,ge,ye,wr,Cr,$e,be,me,Pe,Te,we,ur,Ce,We,ke,Ae,Fe;function hn(r){f.__ZdlPvm=r.Z,Tr=f._malloc=r._,O=r.$,f._calloc=r.aa,ge=r.ba,ye=r.ca,wr=r.da,f._emscripten_builtin_free=r.ea,r.fa,Cr=r.ha,$e=r.ia,f.___libc_free=r.ja,f._emscripten_builtin_malloc=r.ka,f.___libc_malloc=r.la,be=r.ma,me=r.na,Pe=r.oa,Te=r.pa,we=r.qa,f.__ZdaPv=r.ra,f.__ZdaPvm=r.sa,f.__ZdlPv=r.ta,f.__Znaj=r.ua,f.__ZnajSt11align_val_t=r.va,f.__Znwj=r.wa,f.__ZnwjSt11align_val_t=r.xa,f.___libc_calloc=r.ya,f.___libc_realloc=r.za,f._emscripten_builtin_calloc=r.Aa,f._emscripten_builtin_realloc=r.Ba,f._malloc_size=r.Ca,f._malloc_usable_size=r.Da,f._reallocf=r.Ea,ur=r.Fa,Ce=r.Ga,We=r.Ha,ke=r.Ia,Ae=r.Ja,Fe=r.ga}var Me;function gn(){Me={b:Ne,K:Br,p:Lr,J:zr,T:Zr,q:Gr,F:Je,s:Qe,u:Xe,k:yt,U:bt,d:Pt,c:Tt,X:Wt,r:At,g:Ft,e:Mt,t:Ut,l:Et,v:Bt,O:Lt,G:Zt,L:Gt,B:Nt,n:Yt,N:mr,W:Jt,z:Kt,C:le,o:rn,f:Qt,m:en,V:tn,H:nn,h:oe,I:an,D:ln,P:fe,Q:ce,i:ze,j:ve,S:de,M:_e,R:pe,y:yn,w:bn,x:$n,a:k,A:_r,E:_n}}function yn(r,e,t){var n=x();try{return G(r)(e,t)}catch(a){if(Z(n),a!==a+0)throw a;ur(1,0)}}function $n(r,e,t,n,a){var i=x();try{return G(r)(e,t,n,a)}catch(s){if(Z(i),s!==s+0)throw s;ur(1,0)}}function bn(r,e,t,n){var a=x();try{return G(r)(e,t,n)}catch(i){if(Z(a),i!==i+0)throw i;ur(1,0)}}function mn(r){Rr=!0,v.tlsInitFunctions.push(r.fa),!p&&r.Y()}var Se;function Ue(){gn();var r={a:Me};WebAssembly.instantiateStreaming(fetch("jassub-worker.wasm"),r).then(e=>{var t=(e.instance||e).exports;Se=e.module||f.wasm,hn(t),Ee(Be),mn(t),v.loadWasmModuleToAllWorkers().then(Ve)})}return p||Ue(),Rr?fr=f:fr=new Promise((r,e)=>{Ur=r}),fr}var He=globalThis.self?.name?.startsWith("em-pthread");He&&je()})();
